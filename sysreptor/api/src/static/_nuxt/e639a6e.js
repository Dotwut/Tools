/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{565:function(t,e,n){"use strict";n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return v}));var r=n(520),o=n(517),c=n(585);class l{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class f{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let o=t,c=n.facet(A).markerFilter;c&&(o=c(o));let l=r.a.set(o.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?r.a.widget({widget:new R(t),diagnostic:t}).range(t.from):r.a.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to))),!0);return new f(l,e,d(l))}}function d(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:o})=>{if(!e||o.diagnostic==e)return r=new l(t,n,o.diagnostic),!1})),r}function h(tr,t){return!(!tr.effects.some((t=>t.is(y)))&&!tr.changes.touchesRange(t.pos))}function m(t,e){return t.field(k,!1)?e:e.concat(o.n.appendConfig.of([k,r.c.decorations.compute([k],(t=>{let{selected:e,panel:n}=t.field(k);return e&&n&&e.from!=e.to?r.a.set([L.range(e.from,e.to)]):r.a.none})),Object(r.j)(O,{hideOn:h}),M]))}function v(t,e){return{effects:m(t,[y.of(e)])}}const y=o.n.define(),w=o.n.define(),x=o.n.define(),k=o.o.define({create:()=>new f(r.a.none,null,null),update(t,tr){if(tr.docChanged){let e=t.diagnostics.map(tr.changes),n=null;if(t.selected){let r=tr.changes.mapPos(t.selected.from,1);n=d(e,t.selected.diagnostic,r)||d(e,null,r)}t=new f(e,t.panel,n)}for(let e of tr.effects)e.is(y)?t=f.init(e.value,t.panel,tr.state):e.is(w)?t=new f(t.diagnostics,e.value?D.open:null,t.selected):e.is(x)&&(t=new f(t.diagnostics,t.panel,e.value));return t},provide:t=>[r.o.from(t,(t=>t.panel)),r.c.decorations.from(t,(s=>s.diagnostics))]});const L=r.a.mark({class:"cm-lintRange cm-lintRange-active"});function O(view,t,e){let{diagnostics:n}=view.state.field(k),r=[],o=2e8,c=0;n.between(t-(e<0?1:0),t+(e>0?1:0),((n,l,{spec:f})=>{t>=n&&t<=l&&(n==l||(t>n||e>0)&&(t<l||e<0))&&(r.push(f.diagnostic),o=Math.min(n,o),c=Math.max(l,c))}));let l=view.state.facet(A).tooltipFilter;return l&&(r=l(r)),r.length?{pos:o,end:c,above:view.state.doc.lineAt(o).to<c,create:()=>({dom:j(view,r)})}:null}function j(view,t){return Object(c.a)("ul",{class:"cm-tooltip-lint"},t.map((t=>P(view,t,!1))))}const S=view=>{let t=view.state.field(k,!1);return!(!t||!t.panel)&&(view.dispatch({effects:w.of(!1)}),!0)},E=r.e.fromClass(class{constructor(view){this.view=view,this.timeout=-1,this.set=!0;let{delay:t}=view.state.facet(A);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:t}=this.view,{sources:e}=t.facet(A);Promise.all(e.map((source=>Promise.resolve(source(this.view))))).then((e=>{let n=e.reduce(((a,b)=>a.concat(b)));this.view.state.doc==t.doc&&this.view.dispatch(v(this.view.state,n))}),(t=>{Object(r.m)(this.view.state,t)}))}}update(t){let e=t.state.facet(A);(t.docChanged||e!=t.startState.facet(A)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),A=o.h.define({combine:input=>Object.assign({sources:input.map((i=>i.source))},Object(o.t)(input.map((i=>i.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(a,b)=>a?b?u=>a(u)||b(u):a:b})),enables:E});function C(source,t={}){return A.of({source:source,config:t})}function T(view){let t=view.plugin(E);t&&t.force()}function I(t){let e=[];if(t)t:for(let{name:n}of t){for(let i=0;i<n.length;i++){let t=n[i];if(/[a-zA-Z]/.test(t)&&!e.some((e=>e.toLowerCase()==t.toLowerCase()))){e.push(t);continue t}}e.push("")}return e}function P(view,t,e){var n;let r=e?I(t.actions):[];return Object(c.a)("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Object(c.a)("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(n=t.actions)||void 0===n?void 0:n.map(((e,i)=>{let n=!1,o=r=>{if(r.preventDefault(),n)return;n=!0;let o=d(view.state.field(k).diagnostics,t);o&&e.apply(view,o.from,o.to)},{name:l}=e,f=r[i]?l.indexOf(r[i]):-1,h=f<0?l:[l.slice(0,f),Object(c.a)("u",l.slice(f,f+1)),l.slice(f+1)];return Object(c.a)("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${l}${f<0?"":` (access key "${r[i]})"`}.`},h)})),t.source&&Object(c.a)("div",{class:"cm-diagnosticSource"},t.source))}class R extends r.f{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Object(c.a)("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class N{constructor(view,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=P(view,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class D{constructor(view){this.view=view,this.items=[];this.list=Object(c.a)("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)S(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:e}=this.items[this.selectedIndex],n=I(e.actions);for(let i=0;i<n.length;i++)if(n[i].toUpperCase().charCodeAt(0)==t.keyCode){let t=d(this.view.state.field(k).diagnostics,e);t&&e.actions[i].apply(view,t.from,t.to)}}}t.preventDefault()},onclick:t=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(t.target)&&this.moveSelection(i)}}),this.dom=Object(c.a)("div",{class:"cm-panel-lint"},this.list,Object(c.a)("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>S(this.view)},"Ã—")),this.update()}get selectedIndex(){let t=this.view.state.field(k).selected;if(!t)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==t.diagnostic)return i;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(k),i=0,n=!1,r=null;for(t.between(0,this.view.state.doc.length,((t,o,{spec:c})=>{let l,f=-1;for(let t=i;t<this.items.length;t++)if(this.items[t].diagnostic==c.diagnostic){f=t;break}f<0?(l=new N(this.view,c.diagnostic),this.items.splice(i,0,l),n=!0):(l=this.items[f],f>i&&(this.items.splice(i,f-i),n=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),r=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new N(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),r?(this.list.setAttribute("aria-activedescendant",r.id),this.view.requestMeasure({key:this,read:()=>({sel:r.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{t.top<e.top?this.list.scrollTop-=e.top-t.top:t.bottom>e.bottom&&(this.list.scrollTop+=t.bottom-e.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=d(this.view.state.field(k).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:x.of(e)})}static open(view){return new D(view)}}function svg(content,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(content)}</svg>')`}function _(t){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const M=r.c.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:_("#d11")},".cm-lintRange-warning":{backgroundImage:_("orange")},".cm-lintRange-info":{backgroundImage:_("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class G extends r.d{constructor(t){super(),this.diagnostics=t,this.severity=t.reduce(((t,e)=>{let s=e.severity;return"error"==s||"warning"==s&&"info"==t?s:t}),"info")}toDOM(view){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let e=this.diagnostics,n=view.state.facet(lintGutterConfig).tooltipFilter;return n&&n(e),e.length&&(t.onmouseover=()=>function(view,marker,t){function e(){let line=view.elementAtHeight(marker.getBoundingClientRect().top+5-view.documentTop);view.coordsAtPos(line.from)&&view.dispatch({effects:setLintGutterTooltip.of({pos:line.from,above:!1,create:()=>({dom:j(view,t),getCoords:()=>marker.getBoundingClientRect()})})}),marker.onmouseout=marker.onmousemove=null,function(view,marker){let t=e=>{let rect=marker.getBoundingClientRect();if(!(e.clientX>rect.left-10&&e.clientX<rect.right+10&&e.clientY>rect.top-10&&e.clientY<rect.bottom+10)){for(let t=e.target;t;t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),view.state.field(lintGutterTooltip)&&view.dispatch({effects:setLintGutterTooltip.of(null)})}};window.addEventListener("mousemove",t)}(view,marker)}let{hoverTime:n}=view.state.facet(lintGutterConfig),r=setTimeout(e,n);marker.onmouseout=()=>{clearTimeout(r),marker.onmouseout=marker.onmousemove=null},marker.onmousemove=()=>{clearTimeout(r),setTimeout(e,n)}}(view,t,e)),t}}function B(t,e){let n=t.field(k,!1);if(n&&n.diagnostics.size)for(let t=o.k.iter([n.diagnostics]);t.value;t.next())e(t.value.spec.diagnostic,t.from,t.to)}},585:function(t,e,n){"use strict";function r(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var i=1,e=arguments[1];if(e&&"object"==typeof e&&null==e.nodeType&&!Array.isArray(e)){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];"string"==typeof r?t.setAttribute(n,r):null!=r&&(t[n]=r)}i++}for(;i<arguments.length;i++)o(t,arguments[i]);return t}function o(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var i=0;i<e.length;i++)o(t,e[i])}}n.d(e,"a",(function(){return r}))},599:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(517);function o(view,t){var e=function(view){var t=new r.e;return{compartment:t,run:function(e){t.get(view.state)?view.dispatch({effects:t.reconfigure(e)}):view.dispatch({effects:r.n.appendConfig.of(t.of(e))})}}}(view),n=e.compartment,o=e.run;return function(e){var r=n.get(view.state);o((null!=e?e:r!==t)?t:[])}}},600:function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return O}));var r,o=n(559),c=n(565),l=n(585),f=n(520);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(){m=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,desc){t[e]=desc.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function v(t,e,n,o){var c=e&&e.prototype instanceof x?e:x,l=Object.create(c.prototype),f=new N(o||[]);return r(l,"_invoke",{value:T(t,n,f)}),l}function y(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=v;var w={};function x(){}function k(){}function L(){}var O={};h(O,c,(function(){return this}));var j=Object.getPrototypeOf,S=j&&j(j(D([])));S&&S!==e&&n.call(S,c)&&(O=S);var E=L.prototype=x.prototype=Object.create(O);function A(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function o(r,c,l,f){var h=y(t[r],t,c);if("throw"!==h.type){var m=h.arg,v=m.value;return v&&"object"==d(v)&&n.call(v,"__await")?e.resolve(v.__await).then((function(t){o("next",t,l,f)}),(function(t){o("throw",t,l,f)})):e.resolve(v).then((function(t){m.value=t,l(m)}),(function(t){return o("throw",t,l,f)}))}f(h.arg)}var c;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return c=c?c.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw c;return _()}for(n.method=o,n.arg=c;;){var l=n.delegate;if(l){var f=I(l,n);if(f){if(f===w)continue;return f}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=y(t,e,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===w)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}function I(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var r=y(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,w;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,w):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function D(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return k.prototype=L,r(E,"constructor",{value:L,configurable:!0}),r(L,"constructor",{value:k,configurable:!0}),k.displayName=h(L,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,L):(t.__proto__=L,h(t,f,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},A(C.prototype),h(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,c){void 0===c&&(c=Promise);var l=new C(v(e,n,r,o),c);return t.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},A(E),h(E,f,"Generator"),h(E,c,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var object=Object(t),e=[];for(var n in object)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in object)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=D,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return c.type="throw",c.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),f=n.call(o,"finallyLoc");if(l&&f){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,w):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),R(e),w}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var r=n.arg;R(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),w}},t}function v(t,e,n,r,o,c,l){try{var f=t[c](l),d=f.value}catch(t){return void n(t)}f.done?e(d):Promise.resolve(d).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function l(t){v(c,r,o,l,f,"next",t)}function f(t){v(c,r,o,l,f,"throw",t)}l(void 0)}))}}var w=["SPELLER_RULE","MORFOLOGIK_RULE","HUNSPELL","SPELLING_RULE"],x=["style","locale-violation","register"];function k(t){var e=t.performSpellcheckRequest,n=t.performSpellcheckAddWordRequest;return Object(c.c)(function(){var t=y(m().mark((function t(view){var r,f;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=Object(o.b)(view.state.doc.toString())).length){t.next=3;break}return t.abrupt("return",[]);case 3:return t.next=5,e({data:{annotation:r}});case 5:return f=t.sent,t.abrupt("return",f.matches.map((function(t){var e=w.some((function(e){return t.rule.id.includes(e)}))?"error":x.some((function(e){return t.rule.id.includes(e)}))?"info":"warning",r=t.offset,o=Math.min(t.offset+t.length,view.state.doc.length);return{from:r,to:o,severity:e,renderMessage:function(){var n;return Object(l.a)("div",{class:"cm-spellcheck-content"},Object(l.a)("div",{class:"cm-spellcheck-title cm-spellcheck-title-"+e},t.rule.category.name),Object(l.a)("div",{class:"cm-spellcheck-message"},t.message,(null===(n=t.rule.urls)||void 0===n?void 0:n.length)>0?Object(l.a)("a",{href:t.rule.urls[0].value,target:"_blank",rel:"noreferrer noopener",class:"cm-spellcheck-details"}):null))},actions:t.replacements.slice(0,5).map((function(t){return{name:t.value,apply:function(view,e,n){view.dispatch({changes:{from:e,to:n,insert:t.value}})}}})).concat(n&&"error"===e?[{name:'Add "'.concat(view.state.doc.sliceString(r,o),'" to dictionary'),apply:function(view,t,e){return y(m().mark((function r(){var o,l;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=view.state.doc.sliceString(t,e),r.next=3,n({word:o});case 3:l=[],Object(c.a)(view.state,(function(t,e,n){"error"===t.severity&&view.state.doc.sliceString(e,n)==o||l.push(t)})),view.dispatch(Object(c.d)(view.state,l));case 6:case"end":return r.stop()}}),r)})))()}}]:[])}})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{delay:750})}function L(t){return function(content){return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"',">").concat(encodeURIComponent(content),"</svg>')")}('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(t,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var O=f.c.theme((h(r={".cm-diagnostic":{listStyle:"none",fontSize:"10pt",maxWidth:"400px",backgroundColor:"white",paddingBottom:"0.5em"},".cm-diagnosticText":{display:"block",marginBottom:"0.5em"},".cm-diagnosticAction":{backgroundColor:"#45a8fc",color:"white",marginLeft:"0",marginRight:"8px","&:hover":{backgroundColor:"#1976d2"}}},'.cm-diagnosticAction[aria-label*="Add "][aria-label*=" to dictionary"]',{display:"block",backgroundColor:"inherit",color:"gray",width:"100%",textAlign:"center",marginTop:"0.5em","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}}),h(r,".cm-spellcheck-details",{opacity:"0.7",background:"transparent url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEwIDRhNiA2IDAgMTAwIDEyIDYgNiAwIDAwMC0xMnptMC0xYTcgNyAwIDExMCAxNCA3IDcgMCAwMTAtMTR6bS0uNSA2aDFhLjUuNSAwIDExMCAxdjNhLjUuNSAwIDExMCAxaC0xYS41LjUgMCAxMTAtMXYtM2EuNS41IDAgMDEwLTF6bS41LTFhMSAxIDAgMTEwLTIgMSAxIDAgMDEwIDJ6IiBmaWxsPSIjM0MzRjQ5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=) 50% no-repeat",backgroundSize:"100% 100%",display:"inline-block",marginBottom:"-0.3em",marginLeft:"0.2em"}),h(r,".cm-spellcheck-title",{fontWeight:"bold",paddingLeft:"1.3em"}),h(r,".cm-spellcheck-title:before",{content:'""',height:"0.6em",width:"0.6em",borderRadius:"50%",position:"absolute",left:"1em",top:"0.5em"}),h(r,".cm-spellcheck-title-error:before",{background:"#f91a47"}),h(r,".cm-spellcheck-title-warning:before",{background:"orange"}),h(r,".cm-spellcheck-title-info:before",{background:"#5c4cff"}),h(r,".cm-diagnostic-error",{borderLeft:"5px solid #f91a47"}),h(r,".cm-diagnostic-warning",{borderLeft:"5px solid orange"}),h(r,".cm-diagnostic-info",{borderLeft:"5px solid #5c4cff"}),h(r,".cm-lintRange-error",{backgroundImage:L("#f91a47")}),h(r,".cm-lintRange-warning",{backgroundImage:L("orange")}),h(r,".cm-lintRange-info",{backgroundImage:L("#5c4cff")}),r))},613:function(t,e,n){var content=n(671);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(11).default)("149e5079",content,!0,{sourceMap:!1})},670:function(t,e,n){"use strict";n(613)},671:function(t,e,n){var r=n(10)(!1);r.push([t.i,'.mde-text-field[data-v-0601ea5f],.mde-text-field-wrapper[data-v-0601ea5f]{width:100%;max-width:100%;display:inline-block;color:rgba(0,0,0,.87)}.mde-text-field.disabled[data-v-0601ea5f]{color:rgba(0,0,0,.38)}[data-v-0601ea5f] .mde-text-field .cm-focused{outline:none!important}[data-v-0601ea5f] .mde-text-field .cm-content{font-family:"Exo"}[data-v-0601ea5f] .mde-text-field .tok-todo{background-color:#e83221;color:#fff;padding-left:.2em;padding-right:.2em;border-radius:10%}[data-v-0601ea5f] .mde-text-field .cm-scroller{overflow:hidden}',""]),t.exports=r},678:function(t,e,n){"use strict";n.r(e);var r=n(517),o=n(520),c=n(570),l=n(565),f=n(599),d=n(600);function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=o.a.mark({class:"tok-todo"}),w=o.e.fromClass(function(){function t(view){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,n="decorations",r=o.a.none,n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.updateDecorations(view)}var e,n,c;return e=t,(n=[{key:"update",value:function(t){this.updateDecorations(t.view)}},{key:"updateDecorations",value:function(view){var t,e=new r.l,n=h(view.state.doc.toString().matchAll(/(TODO|To-Do)/gi));try{for(n.s();!(t=n.n()).done;){var o=t.value;e.add(o.index,o.index+o[0].length,y)}}catch(t){n.e(t)}finally{n.f()}this.decorations=e.finish()}}])&&v(e.prototype,n),c&&v(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}(),{decorations:function(t){return t.decorations}});function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function k(){k=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,desc){t[e]=desc.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,o){var c=e&&e.prototype instanceof y?e:y,l=Object.create(c.prototype),f=new N(o||[]);return r(l,"_invoke",{value:T(t,n,f)}),l}function m(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var v={};function y(){}function w(){}function L(){}var O={};d(O,c,(function(){return this}));var j=Object.getPrototypeOf,S=j&&j(j(D([])));S&&S!==e&&n.call(S,c)&&(O=S);var E=L.prototype=y.prototype=Object.create(O);function A(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function o(r,c,l,f){var d=m(t[r],t,c);if("throw"!==d.type){var h=d.arg,v=h.value;return v&&"object"==x(v)&&n.call(v,"__await")?e.resolve(v.__await).then((function(t){o("next",t,l,f)}),(function(t){o("throw",t,l,f)})):e.resolve(v).then((function(t){h.value=t,l(h)}),(function(t){return o("throw",t,l,f)}))}f(d.arg)}var c;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return c=c?c.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw c;return _()}for(n.method=o,n.arg=c;;){var l=n.delegate;if(l){var f=I(l,n);if(f){if(f===v)continue;return f}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=m(t,e,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===v)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}function I(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=m(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function D(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return w.prototype=L,r(E,"constructor",{value:L,configurable:!0}),r(L,"constructor",{value:w,configurable:!0}),w.displayName=d(L,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,L):(t.__proto__=L,d(t,f,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},A(C.prototype),d(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,c){void 0===c&&(c=Promise);var l=new C(h(e,n,r,o),c);return t.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},A(E),d(E,f,"Generator"),d(E,c,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var object=Object(t),e=[];for(var n in object)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in object)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=D,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return c.type="throw",c.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),f=n.call(o,"finallyLoc");if(l&&f){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),R(e),v}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var r=n.arg;R(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},t}function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){j(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e,n,r,o,c,l){try{var f=t[c](l),d=f.value}catch(t){return void n(t)}f.done?e(d):Promise.resolve(d).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function l(t){S(c,r,o,l,f,"next",t)}function f(t){S(c,r,o,l,f,"throw",t)}l(void 0)}))}}var A={props:{value:{type:String,default:null},disabled:{type:Boolean,default:!1},lang:{type:String,default:null},spellcheckSupported:{type:Boolean,default:!1}},emits:["input"],data:function(){return{editorView:null,editorActions:{}}},computed:{valueNotNull:function(){return this.value||""},spellcheckEnabled:function(){var t,e=this;return null!==this.lang&&!this.disabled&&this.spellcheckSupported&&this.$store.state.settings.spellcheckEnabled&&this.$store.getters["apisettings/settings"].features.spellcheck&&(null===(t=this.$store.getters["apisettings/settings"].languages.find((function(t){return t.code===e.lang})))||void 0===t?void 0:t.spellcheck)}},watch:{value:function(){this.editorView&&this.valueNotNull!==this.editorView.state.doc.toString()&&this.editorView.dispatch({changes:{from:0,to:this.editorView.state.doc.length,insert:this.valueNotNull}})},disabled:function(t){this.editorActions&&this.editorActions.disabled(t)},lang:function(t){this.spellcheckEnabled&&Object(l.b)(this.editorView)},spellcheckEnabled:function(t){this.editorActions.spellcheck(t),t||this.editorView.dispatch(Object(l.d)(this.editorView.state,[]))}},mounted:function(){var t=this;this.editorView=new o.c({parent:this.$refs.editor,state:r.g.create({doc:this.valueNotNull,extensions:[Object(c.b)(),w,Object(o.q)({parent:document.body}),r.g.transactionFilter.of((function(tr){return tr.newDoc.lines>1?[]:tr})),o.c.domEventHandlers({blur:function(e){return t.$emit("blur",e)},focus:function(e){return t.$emit("focus",e)}}),o.c.updateListener.of((function(e){e.docChanged&&e.state.doc.toString()!==t.valueNotNull&&t.$emit("input",e.state.doc.toString())}))]})}),this.editorActions={disabled:Object(f.a)(this.editorView,[o.c.editable.of(!1),r.g.readOnly.of(!0)]),spellcheck:Object(f.a)(this.editorView,[Object(d.a)({performSpellcheckRequest:this.performSpellcheckRequest,performSpellcheckAddWordRequest:this.performSpellcheckAddWordRequest}),d.b])},this.editorActions.disabled(this.disabled),this.editorActions.spellcheck(this.spellcheckEnabled)},beforeDestroy:function(){this.editorView&&this.editorView.destroy()},methods:{performSpellcheckRequest:function(data){var t=this;return E(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lang){e.next=2;break}return e.abrupt("return",{matches:[]});case 2:return e.next=4,t.$axios.$post("/utils/spellcheck/",O(O({},data),{},{language:t.lang}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))()},performSpellcheckAddWordRequest:function(data){var t=this;return E(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$post("/utils/spellcheck/words/",data);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),t.$toast.global.requestError({error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},C=(n(670),n(20)),component=Object(C.a)(A,(function(){var t=this._self._c;return t("div",{staticClass:"mde-text-field-wrapper"},[t("div",{ref:"editor",staticClass:"mde-text-field",class:{disabled:this.disabled}})])}),[],!1,null,"0601ea5f",null);e.default=component.exports}}]);
//# sourceMappingURL=e639a6e.js.map