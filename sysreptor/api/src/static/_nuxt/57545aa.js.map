{"version":3,"sources":["webpack:///./components/ExportButton.vue","webpack:///./components/ExportButton.vue?83c0","webpack:///./components/ExportButton.vue?ac7d","webpack:///./node_modules/js-file-download/file-download.js"],"names":["i","props","exportUrl","type","String","required","name","default","data","exportInProgress","computed","filename","this","replaceAll","methods","performExport","$axios","$post","responseType","res","fileDownload","$toast","global","requestError","error","component","_self","staticClass","_vm","_c","staticRenderFns","installComponents","SBtn","module","exports","mime","bom","blob","Blob","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL"],"mappings":";oXACA,smGAAAA,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,qtDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+XAEe,OACbC,MAAO,CACLC,UAAW,CACTC,KAAMC,OACNC,UAAU,GAEZC,KAAM,CACJH,KAAMC,OACNG,QAAS,OAGbC,KAAI,WACF,MAAO,CACLC,kBAAkB,EAEtB,EACAC,SAAU,CACRC,SAAQ,WAEN,OADcC,KAAKN,MAAQ,UAAUO,WAAW,IAAK,KACvC,SAChB,GAEFC,QAAS,CACDC,cAAa,WAAG,IAzB1B,EAyB0B,cAzB1B,EAyB0B,kGAChB,EAAKN,iBAAkB,CAAF,gDAII,OAA7B,EAAKA,kBAAmB,EAAK,kBAET,EAAKO,OAAOC,MAAM,EAAKf,UAAW,CAAC,EAAG,CACtDgB,aAAc,gBACd,OAFIC,EAAM,EAAH,KAGTC,IAAaD,EAAK,EAAKR,UAAU,kDAEjC,EAAKU,OAAOC,OAAOC,aAAa,CAAEC,MAAK,OAAI,QAEb,OAFa,UAE3C,EAAKf,kBAAmB,EAAM,4EAvCtC,gLAyCI,IC1CsP,I,QCOtPgB,UAAY,YACd,GFRiDC,WAAS,MAAU,KAASC,UAAY,G,OAAiB,EAAC,S,YAAWC,Y,MAAqB,CAAoB,2BAAG,MAAC,aAA0B,IAAIC,MAAG,EAAS,gBAE3MC,UAAe,GAAK,0CAExB,G,IEOE,EACA,KACA,KACA,MAIa,UAAAL,UAAiB,QAGhCM,kBAAkBN,UAAW,CAACO,KAAM,EAAQ,KAAsCzB,S,oBCrBlF0B,EAAOC,QAAU,SAAS1B,KAAMG,EAAUwB,EAAMC,GAC5C,IACIC,EAAO,IAAIC,UADgB,IAARF,EAAuB,CAACA,EAAK5B,MAAQ,CAACA,MAC/B,CAACL,KAAMgC,GAAQ,6BAC7C,QAA2C,IAAhCI,OAAOC,UAAUC,WAKxBF,OAAOC,UAAUC,WAAWJ,EAAM1B,OAEjC,CACD,IAAI+B,EAAWH,OAAOI,KAAOJ,OAAOI,IAAIC,gBAAmBL,OAAOI,IAAIC,gBAAgBP,GAAQE,OAAOM,UAAUD,gBAAgBP,GAC3HS,EAAWC,SAASC,cAAc,KACtCF,EAASG,MAAMC,QAAU,OACzBJ,EAASK,KAAOT,EAChBI,EAASM,aAAa,WAAYzC,QAMD,IAAtBmC,EAASO,UAChBP,EAASM,aAAa,SAAU,UAGpCL,SAASO,KAAKC,YAAYT,GAC1BA,EAASU,QAGTC,YAAW,WACPV,SAASO,KAAKI,YAAYZ,GAC1BP,OAAOI,IAAIgB,gBAAgBjB,EAC/B,GAAG,IACP,CACJ,C","file":"57545aa.js","sourcesContent":["\nimport fileDownload from 'js-file-download';\n\nexport default {\n  props: {\n    exportUrl: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      exportInProgress: false,\n    };\n  },\n  computed: {\n    filename() {\n      const name = (this.name || 'export').replaceAll(' ', '-');\n      return name + '.tar.gz';\n    },\n  },\n  methods: {\n    async performExport() {\n      if (this.exportInProgress) {\n        return;\n      }\n\n      this.exportInProgress = true;\n      try {\n        const res = await this.$axios.$post(this.exportUrl, {}, {\n          responseType: 'arraybuffer',\n        });\n        fileDownload(res, this.filename);\n      } catch (error) {\n        this.$toast.global.requestError({ error });\n      } finally {\n        this.exportInProgress = false;\n      }\n    }\n  },\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportButton.vue?vue&type=template&id=698a0228&\"\nimport script from \"./ExportButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {SBtn: require('/app/frontend/components/S/Btn.vue').default})\n","module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n"],"sourceRoot":""}