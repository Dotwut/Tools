/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{1313:function(e,t,r){var content=r(1580);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("0071c319",content,!0,{sourceMap:!1})},1579:function(e,t,r){"use strict";r(1313)},1580:function(e,t,r){var n=r(10)(!1);n.push([e.i,".textarea-codeblock[data-v-468347f6] textarea{font-family:monospace;line-height:1.2em;font-size:medium;background-color:rgba(0,0,0,.05);padding:1em}.code-snippet[data-v-468347f6]{display:block}",""]),e.exports=n},1735:function(e,t,r){"use strict";r.r(t);var n=r(133),o=r(514),c=r(746),l=r(74),v=r(135),d=r(75),f=r(137),y=r(13),h=r(505),_=r(503),m=r(1337),k=r(510),w=r(703),x=r(19);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function z(){z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,desc){e[t]=desc.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",v=o.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,o){var c=t&&t.prototype instanceof _?t:_,l=Object.create(c.prototype),v=new N(o||[]);return n(l,"_invoke",{value:E(e,r,v)}),l}function y(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function _(){}function m(){}function k(){}var w={};d(w,c,(function(){return this}));var x=Object.getPrototypeOf,X=x&&x(x(L([])));X&&X!==t&&r.call(X,c)&&(w=X);var P=k.prototype=_.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function o(n,c,l,v){var d=y(e[n],e,c);if("throw"!==d.type){var f=d.arg,h=f.value;return h&&"object"==W(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,l,v)}),(function(e){o("throw",e,l,v)})):t.resolve(h).then((function(e){f.value=e,l(f)}),(function(e){return o("throw",e,l,v)}))}v(d.arg)}var c;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return c=c?c.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,c){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw c;return O()}for(r.method=o,r.arg=c;;){var l=r.delegate;if(l){var v=I(l,r);if(v){if(v===h)continue;return v}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var d=y(e,t,r);if("normal"===d.type){if(n=r.done?"completed":"suspendedYield",d.arg===h)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(n="completed",r.method="throw",r.arg=d.arg)}}}function I(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=y(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function K(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function $(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(K,this),this.reset(!0)}function L(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=k,n(P,"constructor",{value:k,configurable:!0}),n(k,"constructor",{value:m,configurable:!0}),m.displayName=d(k,v,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,d(e,v,"GeneratorFunction")),e.prototype=Object.create(P),e},e.awrap=function(e){return{__await:e}},S(C.prototype),d(C.prototype,l,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,c){void 0===c&&(c=Promise);var l=new C(f(t,r,n,o),c);return e.isGeneratorFunction(r)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},S(P),d(P,v,"Generator"),d(P,c,(function(){return this})),d(P,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var object=Object(e),t=[];for(var r in object)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in object)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),v=r.call(o,"finallyLoc");if(l&&v){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var t=this.tryEntries[i];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),$(t),h}},catch:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var t=this.tryEntries[i];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var n=r.arg;$(t)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function X(e,t,r,n,o,c,l){try{var v=e[c](l),d=v.value}catch(e){return void r(e)}v.done?t(d):Promise.resolve(d).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var c=e.apply(t,r);function l(e){X(c,n,o,l,v,"next",e)}function v(e){X(c,n,o,l,v,"throw",e)}l(void 0)}))}}var S={asyncData:function(e){return P(z().mark((function t(){var r;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,t.next=3,r.$get("/pentestusers/self/publickeys/");case 3:return t.t0=t.sent,t.abrupt("return",{publicKeys:t.t0});case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{setupWizard:{visible:!1,form:null},editWizard:{visible:!1,form:null,publicKey:null},error:null,actionInProgress:!1}},methods:{requestWrapper:function(e){var t=this;return P(z().mark((function r(){var n,o;return z().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.actionInProgress){r.next=2;break}return r.abrupt("return",!1);case 2:return r.prev=2,t.actionInProgress=!0,r.next=6,e();case 6:t.error=null,r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),400===(null===r.t0||void 0===r.t0||null===(n=r.t0.response)||void 0===n?void 0:n.status)&&null!==r.t0&&void 0!==r.t0&&null!==(o=r.t0.response)&&void 0!==o&&o.data&&(t.error=r.t0.response.data),t.$toast.global.requestError({error:r.t0});case 13:return r.prev=13,t.actionInProgress=!1,r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[2,9,13,16]])})))()},openSetupWizard:function(){this.error=null,this.setupWizard={visible:!0,step:"create",form:{public_key:"",name:"Archiving Public Key"},data:null}},setupWizardRegisterBegin:function(){var e=this;return P(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestWrapper(P(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("/pentestusers/self/publickeys/register/begin/",e.setupWizard.form);case 2:e.setupWizard.data=t.sent,e.setupWizard.form={verification:""},e.setupWizard.step="verify";case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},setupWizardRegisterComplete:function(){var e=this;return P(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestWrapper(P(z().mark((function t(){var r;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("/pentestusers/self/publickeys/register/complete/",e.setupWizard.form);case 2:e.setupWizard.data=t.sent,e.setupWizard.form={name:(null===(r=e.setupWizard.data.public_key_info.uids)||void 0===r?void 0:r[0])||""},e.setupWizard.step="set-name";case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},setupWizardSetName:function(){var e=this;return P(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestWrapper(P(z().mark((function t(){var r;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$patch("/pentestusers/self/publickeys/".concat(e.setupWizard.data.id,"/"),e.setupWizard.form);case 2:r=t.sent,e.publicKeys.push(r),e.setupWizard.visible=!1,e.$toast.success("Archiving Public Key setup completed");case 6:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},openEditWizard:function(e){this.error=null,this.editWizard={visible:!0,form:Object(x.pick)(e,["id","name","enabled"]),publicKey:e}},editWizardSave:function(){var e=this;return P(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestWrapper(P(z().mark((function t(){var r;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$patch("/pentestusers/self/publickeys/".concat(e.editWizard.form.id,"/"),e.editWizard.form);case 2:r=t.sent,e.publicKeys=e.publicKeys.map((function(e){return e.id===r.id?r:e})),e.editWizard.visible=!1;case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},deletePublicKey:function(e){var t=this;return P(z().mark((function r(){return z().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.requestWrapper(P(z().mark((function r(){return z().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.$delete("/pentestusers/self/publickeys/".concat(e.id,"/"));case 2:t.publicKeys=t.publicKeys.filter((function(t){return t.id!==e.id}));case 3:case"end":return r.stop()}}),r)}))));case 2:case"end":return r.stop()}}),r)})))()}}},C=(r(1579),r(20)),component=Object(C.a)(S,(function(){var e=this,t=e._self._c;return t("s-card",{staticClass:"mt-4"},[t(o.c,[e._v("Archiving Public Keys")]),e._v(" "),t(o.b,[t(v.a,[e._l(e.publicKeys,(function(r){return t(d.a,{key:r.id},[t(y.c,[e._v("\n          "+e._s(r.name)+"\n          "),r.enabled?e._e():[t(c.a,{staticClass:"ml-3",attrs:{small:""}},[e._v("Disabled")])]],2),e._v(" "),t(f.a,[t("s-dialog",{scopedSlots:e._u([{key:"activator",fn:function(o){var c=o.on,v=o.attrs;return[t(n.a,e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.openEditWizard(r)}}},"v-btn",v,!1),c),[t(l.a,[e._v("mdi-pencil")])],1)]}},{key:"title",fn:function(){return[e._v("Edit Public Key")]},proxy:!0},{key:"default",fn:function(){return[t(o.b,[t("s-text-field",{attrs:{label:"Name"},model:{value:e.editWizard.form.name,callback:function(t){e.$set(e.editWizard.form,"name",t)},expression:"editWizard.form.name"}}),e._v(" "),t("s-checkbox",{attrs:{label:"Enabled",hint:"If disabled, this key cannot be used to encrypt archives. But it can still be used to decrypt existing archives."},model:{value:e.editWizard.form.enabled,callback:function(t){e.$set(e.editWizard.form,"enabled",t)},expression:"editWizard.form.enabled"}}),e._v(" "),t("h4",{staticClass:"text-subtitle-1 mt-4"},[e._v("Public Key")]),e._v(" "),(e.encryptionKeyInfo=Object.values(e.editWizard.publicKey.public_key_info.subkey_info).find((function(e){return"e"===e.cap})))?t("div",[["1","2"].includes(e.encryptionKeyInfo.algo)?t(c.a,{attrs:{small:""}},[e._v("RSA "+e._s(e.encryptionKeyInfo.length)+" bit")]):"16"===e.encryptionKeyInfo.algo?t(c.a,{attrs:{small:""}},[e._v("ElGamal "+e._s(e.encryptionKeyInfo.length)+" bit")]):"18"===e.encryptionKeyInfo.algo?t(c.a,{attrs:{small:""}},[e._v("ECDH "+e._s(e.encryptionKeyInfo.curve))]):e._e()],1):e._e(),e._v(" "),t(w.a,{staticClass:"textarea-codeblock pt-0",attrs:{readonly:"","auto-grow":"",spellcheck:"false"},model:{value:e.editWizard.publicKey.public_key,callback:function(t){e.$set(e.editWizard.publicKey,"public_key",t)},expression:"editWizard.publicKey.public_key"}})],1),e._v(" "),t(o.a,[t("s-btn",{attrs:{loading:e.actionInProgress,color:"primary"},on:{click:e.editWizardSave}},[e._v("\n                  Save\n                ")])],1)]},proxy:!0}],null,!0),model:{value:e.editWizard.visible,callback:function(t){e.$set(e.editWizard,"visible",t)},expression:"editWizard.visible"}})],1),e._v(" "),t(f.a,[t("btn-delete",{attrs:{icon:"",delete:function(){return e.deletePublicKey(r)}}})],1)],1)})),e._v(" "),0===e.publicKeys.length?t(d.a,[t(y.c,[e._v("No archiving public keys configured")])],1):e._e(),e._v(" "),t(d.a,[t("s-dialog",{scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t("s-btn",e._g(e._b({attrs:{color:"secondary"},on:{click:e.openSetupWizard}},"s-btn",o,!1),n),[t(l.a,[e._v("mdi-plus")]),e._v("\n              Add\n            ")],1)]}},{key:"title",fn:function(){return[e._v("Setup Public Key")]},proxy:!0},{key:"default",fn:function(){return["create"===e.setupWizard.step?[t(o.b,[t("p",[e._v("\n                  To encrypt archives, you need to create a OpenPGP public key for encryption. You can use an existing key or create a new one."),t("br"),e._v("\n                  You can also generate the key on a YubiKey to use hardware encryption.\n                ")]),e._v(" "),t(k.a,{staticClass:"mb-4",attrs:{grow:"",height:"2.5em"}},[t(_.a,[e._v("Generate key")]),e._v(" "),t(m.a,[t("p",[e._v("\n                      Use the following command to generate a new Elliptic Curve key pair. "),t("br"),e._v("\n                      Pro-Tip: You can also use "),t("code",[e._v("gpg2 --full-generate-key")]),e._v(" to customize ciphers and other configs.\n                    ")]),e._v(" "),t("code",{staticClass:"code-snippet"},[e._v("\n                      cat << EOF > config.txt"),t("br"),e._v("\n                      Key-Type: ECDSA"),t("br"),e._v("\n                      Key-Curve: nistp521"),t("br"),e._v("\n                      Subkey-Type: ECDH"),t("br"),e._v("\n                      Subkey-Curve: nistp521"),t("br"),e._v("\n                      Expire-Date: 0"),t("br"),e._v("\n                      Name-Comment: SysReptor Archiving"),t("br"),e._v("\n                      Name-Real: "+e._s(e.$auth.user.name||e.$auth.user.username)),t("br"),e._v(" "),e.$auth.user.email?[e._v("Name-Email: "+e._s(e.$auth.user.email)),t("br")]:e._e(),e._v("\n                      EOF"),t("br"),e._v("\n                      gpg2 --batch --generate-key config.txt"),t("br"),e._v(" "),t("br"),e._v("\n                      gpg --list-secret-keys --keyid-format=long"),t("br"),e._v("\n                      gpg --armor --export <key-id>"),t("br")],2)]),e._v(" "),t(_.a,[e._v("Generate hardware key (YubiKey 5)")]),e._v(" "),t(m.a,[t("p",[e._v("\n                      Use the following command to generate a new Elliptic Curve key pair on a YubiKey 5."),t("br"),e._v("\n                      The private key is generated on the YubiKey and never leaves the device."),t("br"),e._v("\n                      Beware that you cannot backup the key. We recommend that you add a second key as a fallback in case you lose your YubiKey.\n                    ")]),e._v(" "),t("code",{staticClass:"code-snippet"},[e._v("\n                      gpg --card-edit"),t("br"),e._v(" "),t("br"),e._v("\n                      Reader ...........: Yubico YubiKey FIDO CCID 00 00"),t("br"),e._v("\n                      Application ID ...: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"),t("br"),e._v("\n                      Application type .: OpenPGP"),t("br"),e._v("\n                      Version ..........: 3.4"),t("br"),e._v("\n                      Manufacturer .....: Yubico"),t("br"),e._v("\n                      Serial number ....: 19763721"),t("br"),e._v("\n                      Name of cardholder: [not set]"),t("br"),e._v("\n                      Language prefs ...: [not set]"),t("br"),e._v("\n                      Salutation .......:"),t("br"),e._v("\n                      URL of public key : [not set]"),t("br"),e._v("\n                      Login data .......: [not set]"),t("br"),e._v("\n                      Signature PIN ....: not forced"),t("br"),e._v("\n                      Key attributes ...: rsa2048 rsa2048 rsa2048"),t("br"),e._v("\n                      Max. PIN lengths .: 127 127 127"),t("br"),e._v("\n                      PIN retry counter : 3 0 3"),t("br"),e._v("\n                      Signature counter : 0"),t("br"),e._v("\n                      KDF setting ......: off"),t("br"),e._v("\n                      UIF setting ......: Sign=off Decrypt=off Auth=off"),t("br"),e._v("\n                      Signature key ....: [none]"),t("br"),e._v("\n                      Encryption key....: [none]"),t("br"),e._v("\n                      Authentication key: [none]"),t("br"),e._v("\n                      General key info..: [none]"),t("br"),e._v(" "),t("br"),e._v("\n                      gpg/card> admin"),t("br"),e._v("\n                      Admin commands are allowed"),t("br"),e._v(" "),t("br"),e._v("\n                      # Change Yubikey Pin (optional)"),t("br"),e._v("\n                      # Hint: default pin is 123456, default admin pin is 12345678"),t("br"),e._v("\n                      gpg/card> passwd"),t("br"),e._v("\n                      gpg: OpenPGP card no. XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX detected"),t("br"),e._v(" "),t("br"),e._v("\n                      1 - change PIN"),t("br"),e._v("\n                      2 - unblock PIN"),t("br"),e._v("\n                      3 - change Admin PIN"),t("br"),e._v("\n                      4 - set the Reset Code"),t("br"),e._v("\n                      Q - quit"),t("br"),e._v(" "),t("br"),e._v("\n                      Your selection? 3"),t("br"),e._v("\n                      PIN changed."),t("br"),e._v(" "),t("br"),e._v("\n                      1 - change PIN"),t("br"),e._v("\n                      2 - unblock PIN"),t("br"),e._v("\n                      3 - change Admin PIN"),t("br"),e._v("\n                      4 - set the Reset Code"),t("br"),e._v("\n                      Q - quit"),t("br"),e._v(" "),t("br"),e._v("\n                      Your selection? 1"),t("br"),e._v("\n                      PIN changed."),t("br"),e._v(" "),t("br"),e._v("\n                      1 - change PIN"),t("br"),e._v("\n                      2 - unblock PIN"),t("br"),e._v("\n                      3 - change Admin PIN"),t("br"),e._v("\n                      4 - set the Reset Code"),t("br"),e._v("\n                      Q - quit"),t("br"),e._v(" "),t("br"),e._v("\n                      Your selection? Q"),t("br"),e._v(" "),t("br"),e._v("\n                      gpg/card> name"),t("br"),e._v("\n                      Cardholder's surname: "+e._s(e.$auth.user.last_name)),t("br"),e._v("\n                      Cardholder's given name: "+e._s(e.$auth.user.first_name)),t("br"),e._v(" "),t("br"),e._v("\n                      # Change key type to elliptic curve (optional)"),t("br"),e._v("\n                      gpg/card> key-attr"),t("br"),e._v("\n                      Changing card key attribute for: Signature key"),t("br"),e._v("\n                      Please select what kind of key you want:"),t("br"),e._v("\n                         (1) RSA"),t("br"),e._v("\n                         (2) ECC"),t("br"),e._v("\n                      Your selection? 2"),t("br"),e._v("\n                      Please select which elliptic curve you want:"),t("br"),e._v("\n                         (1) Curve 25519 *default*"),t("br"),e._v("\n                         (4) NIST P-384"),t("br"),e._v("\n                      Your selection? 1"),t("br"),e._v("\n                      The card will now be re-configured to generate a key of type: ed25519"),t("br"),e._v("\n                      Note: There is no guarantee that the card supports the requested"),t("br"),e._v("\n                            key type or size.  If the key generation does not succeed,"),t("br"),e._v("\n                            please check the documentation of your card to see which"),t("br"),e._v("\n                            key types and sizes are supported."),t("br"),e._v("\n                      Changing card key attribute for: Encryption key"),t("br"),e._v("\n                      Please select what kind of key you want:"),t("br"),e._v("\n                         (1) RSA"),t("br"),e._v("\n                         (2) ECC"),t("br"),e._v("\n                      Your selection? 2"),t("br"),e._v("\n                      Please select which elliptic curve you want:"),t("br"),e._v("\n                         (1) Curve 25519 *default*"),t("br"),e._v("\n                         (4) NIST P-384"),t("br"),e._v("\n                      Your selection? 1"),t("br"),e._v("\n                      The card will now be re-configured to generate a key of type: cv25519"),t("br"),e._v("\n                      Changing card key attribute for: Authentication key"),t("br"),e._v("\n                      Please select what kind of key you want:"),t("br"),e._v("\n                         (1) RSA"),t("br"),e._v("\n                         (2) ECC"),t("br"),e._v("\n                      Your selection? 2"),t("br"),e._v("\n                      Please select which elliptic curve you want:"),t("br"),e._v("\n                         (1) Curve 25519 *default*"),t("br"),e._v("\n                         (4) NIST P-384"),t("br"),e._v("\n                      Your selection? 1"),t("br"),e._v("\n                      The card will now be re-configured to generate a key of type: ed25519"),t("br"),e._v(" "),t("br"),e._v("\n                      # Generate key pair"),t("br"),e._v("\n                      gpg/card> generate"),t("br"),e._v("\n                      Make off-card backup of encryption key? (Y/n) n"),t("br"),e._v("\n                      Please specify how long the key should be valid."),t("br"),e._v("\n                      0 = key does not expire"),t("br"),e._v("\n                          <n>  = key expires in n days"),t("br"),e._v("\n                         <n>w = key expires in n weeks"),t("br"),e._v("\n                         <n>m = key expires in n months"),t("br"),e._v("\n                         <n>y = key expires in n years"),t("br"),e._v("\n                      Key is valid for? (0) 0"),t("br"),e._v("\n                      Key does not expire at all"),t("br"),e._v("\n                      Is this correct? (y/N) y"),t("br"),e._v(" "),t("br"),e._v("\n                      GnuPG needs to construct a user ID to identify your key."),t("br"),e._v(" "),t("br"),e._v("\n                      Real name: "+e._s(e.$auth.user.name||e.$auth.user.username)),t("br"),e._v("\n                      Email address: "+e._s(e.$auth.user.email)),t("br"),e._v("\n                      Comment: SysReptor Archiving Key"),t("br"),e._v("\n                      You selected this USER-ID:"),t("br"),e._v('\n                      "'+e._s(e.$auth.user.name||e.$auth.user.username)+" (SysReptor Archiving Key) "),e.$auth.user.email?[e._v("<"+e._s(e.$auth.user.email)+">")]:e._e(),e._v('"'),t("br"),e._v(" "),t("br"),e._v("\n                      Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O"),t("br"),e._v("\n                      public and secret key created and signed."),t("br"),e._v(" "),t("br"),e._v("\n                      gpg/card> quit"),t("br"),e._v(" "),t("br"),e._v("\n                      gpg --list-secret-keys --keyid-format=long"),t("br"),e._v("\n                      gpg --armor --export <key-id>"),t("br")],2)])],1),e._v(" "),t(w.a,{staticClass:"textarea-codeblock",attrs:{label:"Public Key",hint:"OpenPGP public key for encryption. It does not has to be publicly trusted and can be a key only used for archiving.","persistent-hint":"","error-messages":e.error,spellcheck:"false"},model:{value:e.setupWizard.form.public_key,callback:function(t){e.$set(e.setupWizard.form,"public_key",t)},expression:"setupWizard.form.public_key"}})],1),e._v(" "),t(o.a,[t(h.a),e._v(" "),t("s-btn",{attrs:{disabled:!e.setupWizard.form.public_key,loading:e.actionInProgress,color:"primary"},on:{click:e.setupWizardRegisterBegin}},[e._v("\n                  Next\n                ")])],1)]:"verify"===e.setupWizard.step?[t(o.b,[t("p",[e._v("\n                  Please decrypt the following message with your private key to verify that you own it."),t("br"),e._v("\n                  Copy the decrypted verification code below.\n                ")]),e._v(" "),t("p",{staticClass:"mb-0"},[t("code",[e._v("gpg2 --decrypt message.txt")])]),e._v(" "),t(w.a,{staticClass:"textarea-codeblock",attrs:{readonly:"","auto-grow":"",spellcheck:"false"},model:{value:e.setupWizard.data.verification,callback:function(t){e.$set(e.setupWizard.data,"verification",t)},expression:"setupWizard.data.verification"}}),e._v(" "),t("s-text-field",{attrs:{label:"Verification","error-messages":e.error},model:{value:e.setupWizard.form.verification,callback:function(t){e.$set(e.setupWizard.form,"verification",t)},expression:"setupWizard.form.verification"}})],1),e._v(" "),t(o.a,[t(h.a),e._v(" "),t("s-btn",{attrs:{disabled:!e.setupWizard.form.verification,loading:e.actionInProgress,color:"primary"},on:{click:e.setupWizardRegisterComplete}},[e._v("\n                  Activate\n                ")])],1)]:"set-name"===e.setupWizard.step?[t(o.b,[t("p",[e._v("\n                  Set a name for the new public key to identify it later.\n                ")]),e._v(" "),t("s-text-field",{attrs:{label:"Name"},model:{value:e.setupWizard.form.name,callback:function(t){e.$set(e.setupWizard.form,"name",t)},expression:"setupWizard.form.name"}})],1),e._v(" "),t(o.a,[t(h.a),e._v(" "),t("s-btn",{attrs:{loading:e.actionInProgress,color:"primary"},on:{click:e.setupWizardSetName}},[e._v("\n                  Save\n                ")])],1)]:e._e()]},proxy:!0}]),model:{value:e.setupWizard.visible,callback:function(t){e.$set(e.setupWizard,"visible",t)},expression:"setupWizard.visible"}})],1)],2)],1)],1)}),[],!1,null,"468347f6",null);t.default=component.exports;installComponents(component,{STextField:r(538).default,SCheckbox:r(604).default,SBtn:r(145).default,SDialog:r(542).default,BtnDelete:r(557).default,SCard:r(533).default})},604:function(e,t,r){"use strict";r.r(t);var n=r(726),o={props:{value:{type:Boolean,required:!0}}},c=r(20),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t(n.a,e._g(e._b({attrs:{"input-value":e.value,"persistent-hint":"","hide-details":"auto","error-count":100},on:{change:function(t){return e.$emit("input",t)}}},"v-checkbox",e.$attrs,!1),e.$listeners),[e._l(e.$scopedSlots,(function(r,n){return t("template",{slot:n},[e._t(n)],2)}))],2)}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=0a5eefc.js.map