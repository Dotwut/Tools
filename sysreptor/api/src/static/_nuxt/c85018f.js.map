{"version":3,"sources":["webpack:///./components/Markdown/Page.vue?2344","webpack:///./components/Markdown/Page.vue?0b8f","webpack:///./components/Markdown/Page.vue?da9b","webpack:///./components/Markdown/Page.vue","webpack:///./components/Markdown/Page.vue?889a","webpack:///../packages/markdown/mdext/helpers.js","webpack:///./utils/urls.js","webpack:///./node_modules/url-join/lib/url-join.js","webpack:///../packages/markdown/mdext/footnotes.js","webpack:///../packages/markdown/mdext/gfm.js","webpack:///../packages/markdown/mdext/rehypePlugins.js","webpack:///../packages/markdown/mdext/attrs.js","webpack:///../packages/markdown/mdext/image.js","webpack:///../packages/markdown/mdext/tables.js","webpack:///../packages/markdown/mdext/reference.js","webpack:///../packages/markdown/editor/annotatedtext.js","webpack:///../packages/markdown/mdext/templates.js","webpack:///../packages/markdown/mdext/todo.js","webpack:///../packages/markdown/mdext/codeHighlight.js","webpack:///../packages/markdown/mdext/label-end.js","webpack:///../packages/markdown/mdext/modified-commonmark.js","webpack:///../packages/markdown/index.js","webpack:///./components/Markdown/Preview.vue","webpack:///./components/FillScreenHeight.vue?62f5","webpack:///./components/Markdown/ToolbarButton.vue?d91e","webpack:///../packages/markdown/editor/micromark-utils.js","webpack:///../packages/markdown/editor/codemirror-utils.js","webpack:///../packages/markdown/editor/commands.js","webpack:///./components/Markdown/Toolbar.vue?e54b","webpack:///./components/Markdown/Preview.vue?9783","webpack:///../packages/markdown/editor/language.js","webpack:///../packages/markdown/editor/highlight.js","webpack:///../packages/markdown/editor/utils.js","webpack:///../packages/markdown/editor/spellcheck.js","webpack:///./components/FillScreenHeight.vue?6e03","webpack:///./components/FillScreenHeight.vue","webpack:///./components/FillScreenHeight.vue?ef3b","webpack:///./components/FillScreenHeight.vue?5d2c","webpack:///./components/FillScreenHeight.vue?d7c3","webpack:///./components/Markdown/ToolbarButton.vue?c569","webpack:///./components/Markdown/ToolbarButton.vue?3446","webpack:///./components/Markdown/ToolbarButton.vue?9578","webpack:///./components/Markdown/ToolbarButton.vue","webpack:///./components/Markdown/ToolbarButton.vue?f373","webpack:///./components/Markdown/Toolbar.vue?8948","webpack:///./components/Markdown/Toolbar.vue?eac1","webpack:///./components/Markdown/Preview.vue?f713","webpack:///./components/Markdown/Preview.vue?4b7b","webpack:///./components/Markdown/Toolbar.vue","webpack:///./components/Markdown/Toolbar.vue?0924","webpack:///./components/Markdown/Toolbar.vue?f936","webpack:///./components/Markdown/Preview.vue?4fd4","webpack:///./components/Markdown/Preview.vue?95cb","webpack:///./mixins/MarkdownEditorBase.js","webpack:///./components/Markdown/Page.vue?3a36"],"names":["___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","module","i","exports","mixins","MarkdownEditorBase","methods","additionalCodeMirrorExtensions","scrollPastEnd","resizeEditor","this","editorView","destroy","initializeEditorView","component","staticClass","_vm","attrs","uploadFile","uploadFiles","lang","_v","_c","directives","name","value","on","ref","_e","editorMode","rewriteFileUrl","staticRenderFns","installComponents","MarkdownToolbar","default","FillScreenHeight","MarkdownPreview","addRemarkExtension","self","micromarkExtensions","fromMarkdownExtensions","toMarkdownExtensions","data","add","field","assert","bool","msg","Error","absoluteApiUrl","url","axios","some","p","startsWith","urlJoin","URL","defaults","baseURL","window","location","origin","CursorPaginationFetcher","toast","nextPageURL","isLoading","hasError","errorData","hasNextPage","$get","res","next","results","response","global","requestError","error","SearchableCursorPaginationFetcher","searchFilters","search","_searchFilters","_fetchNextPageDebounced","debounce","_fetchNextPage","fetcher","_createFetcher","searchParams","URLSearchParams","split","Object","entries","k","v","Array","isArray","delete","e","append","set","searchUrl","toString","val","assign","fetchNextPage","filters","fetchNextPageImmediate","flush","normalize","strArray","resultArray","length","TypeError","match","first","shift","replace","str","join","parts","arguments","slice","call","remarkFootnotes","_hiddenFootnoteSupport","text","codes","caret","tokenize","effects","ok","nok","code","enter","consume","exit","inlineFootnoteStart","leftSquareBracket","resolveAll","resolveAllFootnote","rightSquareBracket","hasStart","index","events","type","resolveTo","context","token","openIndex","undefined","group","start","end","note","splice","parser","constructs","insideSpan","null","footnoteSyntax","inlineFootnote","children","unsafe","character","inConstruct","handlers","footnote","node","_","subexit","containerPhrasing","before","after","remarkToRehypeHandlersFootnotes","h","all","footnoteDefinition","footnoteReference","rehypeFootnoteSeparator","tree","visit","parent","tagName","class","rehypeFootnoteSeparatorPreview","properties","dataFootnoteRef","nextSibling","remarkStrikethrough","gfmStrikethrough","gfmStrikethroughFromMarkdown","gfmStrikethroughToMarkdown","remarkTaskListItem","gfmTaskListItem","gfmTaskListItemFromMarkdown","gfmTaskListItemToMarkdown","rehypeLinkTargetBlank","href","target","rel","rehypeConvertAttrsToStyle","convertAttrs","attrName","styleName","style","addClass","className","rehypeRewriteImageSources","rewriteImageSource","src","rehypeRewriteFileLinks","download","rehypeTemplates","content","rehypeRawFixSelfClosingTags","console","log","replaceAll","attrsFromMarkdown","transforms","prevNode","hProperties","includes","attrsString","textAttributes","setData","buffer","cleaned","getData","attribute","resume","stack","sliceSerialize","textAttributeClassValue","parseEntities","textAttributeIdValue","textAttributeName","textAttributeValue","list","remarkToRehypeAttrs","attributes","remarkAttrs","leftCurlyBrace","factoryAttributes","map","c","remarkFigure","image","title","alt","label","fragment","peek","safeOptions","quote","checkQuote","suffix","tracker","track","move","current","test","safe","figureToMarkdown","remarkToRehypeHandlersFigure","normalizeUri","remarkTables","gfmTable","gfmTableFromMarkdown","gfmTableToMarkdown","remarkTableCaptions","captionBlock","captionText","captionPrefixLength","captionVal","captionValTrimmed","trimStart","position","column","offset","tableCaption","remarkToRehypeHandlersTableCaptions","rehypeTableCaptions","tableNode1","tableNode2","rehypeReferenceLink","to","substring","rehypeReferenceLinkPreview","rewriteReferenceLink","refNodes","refTargets","id","refId","refPreview","cn","createBlockSeparator","pos","micromarkToAnnotatedText","micromarkEventsToTree","leafNodes","interpretAsLeafNodes","interpretAsLeafNodesFns","wrapTypesWithBlockSeparators","collectLeafNodes","t","n","wrapWithSeparators","extractLeafNodesFromMicromarkTree","textTypes","markupTypesInterpretAs","annotatedText","markup","interpretAs","annotatedTextParse","Parser","parseMicromarkEvents","extensions","remarkTemplateVariables","closeBraceCount","start2","between","eof","rightCurlyBrace","sequenceClose","templateVariable","remarkTodoMarker","uppercaseT","tokenizeTodo","lowercaseT","middleO","uppercaseO","lowercaseO","middleDorDash","dash","middleD","uppercaseD","lowercaseD","endO","todoSyntax","todo","hName","splitTreeAtPosition","splitPos","processChildren","flat","currentPos","childrenLeft","childrenRight","processNode","pc","nodeLength","wrapTreeAreas","wrapInfos","wi","startMarkerPos","endMarkerPos","ci","wii","concat","markerTree","rehypeHighlightCode","meta","metaLine","fromEntries","from","matchAll","m","camelCase","groups","highlightManual","lineNumbers","Number","parseInt","parseMeta","highlightInfos","highlightMarkerRe","highlightedAreaRe","RegExp","codeNew","highlightInfo","startMarker","endMarker","parseManualHighlightAreas","language","filter","toLowerCase","getLanguage","lowlight","highlight","highlightSyntax","hi","unified","use","rehypeParse","parse","applyManualHighlighting","lines","line","dataLineNumber","splitIntoLines","labelEnd","labelStart","defined","types","labelImage","labelLink","_labelEnd_balanced","_inactive","balanced","normalizeIdentifier","now","labelMarker","afterLabelEnd","leftParenthesis","attempt","resourceConstruct","fullReferenceConstruct","collapsedReferenceConstruct","open","close","media","link","labelText","resource","resourceMarker","factoryWhitespace","rightParenthesis","factoryDestination","destinationAfter","resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString","constants","linkResourceDestinationBalanceMax","markdownLineEndingOrSpace","quotationMark","apostrophe","factoryTitle","resourceTitle","resourceTitleMarker","resourceTitleString","factoryLabel","afterLabel","reference","referenceMarker","referenceString","labelEndSyntax","modifiedCommonmarkFeatures","disable","rehypeSanitizeSchema","merge","defaultSchema","allowComments","clobberPrefix","tagNames","markdownParser","renderMarkdownToHtml","preview","rewriteFileSource","md","remarkParse","remarkRehype","allowDangerousHtml","footnoteLabelTagName","rehypeRaw","rehypeSanitize","rehypeStringify","mdHtml","processSync","markdownToAnnotatedText","props","String","Function","renderedMarkdownRaw","imageCache","computed","renderedMarkdown","html","imgCacheEntry","placeholder","watch","updatePreview","created","throttle","renderMarkdown","updated","$el","querySelectorAll","forEach","a","addEventListener","preventDefault","document","querySelector","getAttribute","scrollIntoView","behavior","fetchImage","$nextTick","$axios","responseType","imgRes","imageType","endsWith","imgData","Buffer","status","imgSrc","apiUrl","__esModule","locals","config","postprocess","write","preprocess","action","treeNode","linesInRange","doc","range","out","startLine","lineAt","number","endLine","getChildren","firstChild","intersectsRange","getIntersectionNodes","predicate","nodes","cb","iterateChildren","topNode","iterateRange","clamp","min","max","Math","moveRangeDelete","moveRange","change","moveStart","moveEnd","EditorSelection","moveRangeInsert","insert","Context","spaceBefore","spaceAfter","item","maxWidth","trailing","result","itemNumber","getContext","selectedNode","cur","startPos","exec","len","sliceString","renumberList","changes","prev","insertNewlineContinueMarkup","state","dispatch","syntaxTree","dont","changeByRange","empty","markdownLanguage","isActiveAt","resolveInner","pop","inner","emptyLine","delTo","marker","cursor","prevLine","quoted","continued","blank","charAt","lineBreak","update","userEvent","isMark","deleteMarkupBackward","scan","childBefore","lastChild","contextNodeForDelete","spaceEnd","isTypeInSelection","selection","ranges","toggleMarkdownAction","isInSelection","enable","foundNodes","toggleMarkerType","markerTypes","insertText","newRange","flatMap","toggleStrong","toggleEmphasis","toggleStrikethrough","toggleListUnordered","listItemNumber","find","removeMarkers","toggleListOrdered","listItemBullet","toggleLink","linksToRemove","insertCodeBlock","codeBlockStart","codeBlockEnd","insertTable","markdownLanguageFacet","defineLanguageFacet","block","markdownHighlighting","styleTags","strong","emphasis","strikethrough","tags","inlinecode","codeblock","table","heading1","heading2","heading3","heading4","heading5","heading6","nodeSet","NodeSet","NodeType","none","idx","define","extend","languageDataProp","indentNodeProp","micromarkToLezerSyntaxTree","visitTree","visitNode","addListItem","currentListItem","info","listItems","modifySyntaxTree","Tree","build","toBuffer","nodeId","topID","lezerSyntaxTreeParse","BlockContext","input","fragments","stoppedAt","read","MarkdownParser","mdParser","parseMixed","htmlLanguage","overlay","matchClosingTags","Language","markdown","LanguageSupport","Prec","high","keymap","of","key","run","Tag","markdownHighlightStyle","tagHighlighter","tag","angleBracket","attributeName","attributeValue","comment","markdownHighlightCodeBlocks","ViewPlugin","fromClass","view","Decoration","updateDecorations","builder","RangeSetBuilder","iterate","l","decorations","finish","createEditorExtensionToggler","extension","compartment","Compartment","get","reconfigure","StateEffect","appendConfig","createEditorCompartment","targetApply","exExtension","SPELLING_RULE_IDS","STYLE_ISSUE_TYPES","spellcheck","performSpellcheckRequest","performSpellcheckAddWordRequest","linter","annotation","spellcheckResults","matches","severity","r","rule","renderMessage","elt","category","message","urls","actions","replacements","apply","word","diagnostics","forEachDiagnostic","d","setDiagnostics","delay","underline","color","encodeURIComponent","svg","spellcheckTheme","EditorView","theme","listStyle","fontSize","backgroundColor","paddingBottom","display","marginBottom","marginLeft","marginRight","width","textAlign","marginTop","opacity","background","backgroundSize","fontWeight","paddingLeft","height","borderRadius","left","top","borderLeft","backgroundImage","emits","mounted","updateHeight","beforeDestroy","removeEventListener","clientRects","$refs","container","getClientRects","startY","innerHeight","$emit","_self","expression","_t","render","icon","required","disabled","Boolean","active","scopedSlots","fn","proxy","SBtn","STooltip","fileUploadInProgress","$store","settings","markdownEditorMode","commit","spellcheckSupported","getters","features","languages","spellcheckEnabled","canUndo","undoDepth","canRedo","redoDepth","undo","redo","err","onUploadFiles","event","files","fileInput","MarkdownToolbarButton","domProps","_s","editorActions","valueNotNull","forceLinting","editor","EditorState","create","history","allowMultipleSelections","lineWrapping","tabSize","indentUnit","defaultKeymap","indentWithTab","historyKeymap","syntaxHighlighting","updateListener","viewUpdate","docChanged","editable","readOnly","domEventHandlers","drop","stopPropagation","dropPos","posAtCoords","x","clientX","y","clientY","dataTransfer","paste","clipboardData","handleInput","handleBlur","Promise","file","$toast","mdFileText","u","main","$post"],"mappings":"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","file":"c85018f.js","sourcesContent":["export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=1c12869c&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mde-editor[data-v-1c12869c]{height:100%}.mde-editor-side.cm-editor[data-v-1c12869c]{width:50%}[data-v-1c12869c] .mde-editor .cm-editor{height:100%}[data-v-1c12869c] .mde-editor .cm-focused{outline:none!important}[data-v-1c12869c] .mde-editor .cm-content{font-family:\\\"Exo\\\"}[data-v-1c12869c] .mde-editor .cm-content .tok-h1,[data-v-1c12869c] .mde-editor .cm-content .tok-h2,[data-v-1c12869c] .mde-editor .cm-content .tok-h3,[data-v-1c12869c] .mde-editor .cm-content .tok-h4,[data-v-1c12869c] .mde-editor .cm-content .tok-h5,[data-v-1c12869c] .mde-editor .cm-content .tok-h6{font-weight:700}[data-v-1c12869c] .mde-editor .cm-content .tok-h1{font-size:2em}[data-v-1c12869c] .mde-editor .cm-content .tok-h2{font-size:1.75em}[data-v-1c12869c] .mde-editor .cm-content .tok-h3{font-size:1.5em}[data-v-1c12869c] .mde-editor .cm-content .tok-h4{font-size:1.25em}[data-v-1c12869c] .mde-editor .cm-content .tok-h5{font-size:1.1em}[data-v-1c12869c] .mde-editor .cm-content .tok-h6{font-size:1em}[data-v-1c12869c] .mde-editor .cm-content .tok-strong{font-weight:700}[data-v-1c12869c] .mde-editor .cm-content .tok-emphasis{font-style:italic}[data-v-1c12869c] .mde-editor .cm-content .tok-strikethrough{text-decoration:line-through}[data-v-1c12869c] .mde-editor .cm-content .tok-codeblock,[data-v-1c12869c] .mde-editor .cm-content .tok-inlinecode{font-family:monospace;background-color:rgba(0,0,0,.05);color:currentColor}[data-v-1c12869c] .mde-editor .cm-content .tok-table{font-family:monospace}[data-v-1c12869c] .mde-editor .cm-content .tok-footnote{vertical-align:super;font-size:.9em}[data-v-1c12869c] .mde-editor .cm-content .tok-footnote,[data-v-1c12869c] .mde-editor .cm-content .tok-image,[data-v-1c12869c] .mde-editor .cm-content .tok-link{color:#7f8c8d}[data-v-1c12869c] .mde-editor .cm-content .tok-url{color:#aab2b3;text-decoration:underline}[data-v-1c12869c] .mde-editor .cm-content .tok-quote{color:#7f8c8d}[data-v-1c12869c] .mde-editor .cm-content .tok-todo{background-color:#e83221;color:#fff;padding-left:.2em;padding-right:.2em;border-radius:10%}[data-v-1c12869c] .mde-editor .cm-content .tok-anglebracket,[data-v-1c12869c] .mde-editor .cm-content .tok-attributename,[data-v-1c12869c] .mde-editor .cm-content .tok-attributevalue,[data-v-1c12869c] .mde-editor .cm-content .tok-comment,[data-v-1c12869c] .mde-editor .cm-content .tok-tagname{font-family:monospace}[data-v-1c12869c] .mde-editor .cm-content .tok-anglebracket,[data-v-1c12869c] .mde-editor .cm-content .tok-tagname{color:#085}[data-v-1c12869c] .mde-editor .cm-content .tok-attributename{color:#795da3}[data-v-1c12869c] .mde-editor .cm-content .tok-attributevalue{color:#a11}[data-v-1c12869c] .mde-editor .cm-content .tok-comment{color:#940}[data-v-1c12869c] .mde-editor .cm-content{font-family:monospace}.preview[data-v-1c12869c]{height:100%;padding:.5em}.preview-side[data-v-1c12869c]{width:50%}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","\nimport { scrollPastEnd } from '@codemirror/view';\nimport MarkdownEditorBase from '~/mixins/MarkdownEditorBase.js';\n\nexport default {\n  mixins: [MarkdownEditorBase],\n  methods: {\n    additionalCodeMirrorExtensions() {\n      return [\n        scrollPastEnd(),\n      ]\n    },\n    resizeEditor() {\n      // CodeMirror is not initialized correctly when it is loaded inside a component with dynamic height (e.g. FillScreenHeight)\n      // This leads to update and rendering errors. The internal viewState and viewport are not updated which results in lines beining not rendered on scroll.\n      // Re-initialize CodeMirror when height changes.\n      if (!this.editorView) {\n        return;\n      }\n      this.editorView.destroy();\n      this.initializeEditorView();\n    },\n  },\n}\n","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=1c12869c&scoped=true&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=1c12869c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c12869c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {MarkdownToolbar: require('/app/frontend/components/Markdown/Toolbar.vue').default,FillScreenHeight: require('/app/frontend/components/FillScreenHeight.vue').default,MarkdownPreview: require('/app/frontend/components/Markdown/Preview.vue').default})\n","export function addRemarkExtension(self, micromarkExtensions, fromMarkdownExtensions, toMarkdownExtensions) {\n  const data = self.data();\n\n  add('micromarkExtensions', micromarkExtensions);\n  add('fromMarkdownExtensions', fromMarkdownExtensions);\n  add('toMarkdownExtensions', toMarkdownExtensions);\n\n  /**\n  * @param {string} field\n  * @param {unknown} value\n  */\n  function add(field, value) {\n    if (!value) {\n      return;\n    }\n\n    const list = /** @type {unknown[]} */ (\n      // Other extensions\n      /* c8 ignore next 2 */\n      data[field] ? data[field] : (data[field] = [])\n    )\n\n    list.push(value)\n  }\n}\n\n\nexport function assert(bool, msg) {\n  if (!bool) {\n    throw new Error(msg);\n  }\n}","import urlJoin from 'url-join';\nimport { debounce } from 'lodash';\n\nexport function absoluteApiUrl(url, axios) {\n  if (['http', 'data'].some(p => url.startsWith(p))) {\n    return url;\n  } else if (url.startsWith('/api/')) {\n    return urlJoin(new URL(axios.defaults.baseURL, window.location).origin, url);\n  } else {\n    return urlJoin(axios.defaults.baseURL, url);\n  }\n}\n\nexport function relativeTo(url, baseUrl) {\n  const absUrl = absoluteApiUrl(url);\n  baseUrl = absoluteApiUrl(baseUrl);\n\n  if (absUrl.startsWith(baseUrl)) {\n    return absUrl.substring(baseUrl.length);\n  } else {\n    return url;\n  }\n}\n\nexport class CursorPaginationFetcher {\n  constructor(baseURL, axios, toast) {\n    this.axios = axios;\n    this.toast = toast;\n    this.baseURL = baseURL;\n\n    this.nextPageURL = this.baseURL;\n    this.isLoading = false;\n    this.data = [];\n    this.hasError = false;\n    this.errorData = null;\n  }\n\n  get hasNextPage() {\n    return this.nextPageURL !== null;\n  }\n\n  async fetchNextPage() {\n    if (!this || this.isLoading || !this.hasNextPage) {\n      return;\n    }\n\n    try {\n      this.isLoading = true;\n\n      const res = await this.axios.$get(this.nextPageURL);\n      this.nextPageURL = res.next;\n      this.data.push(...res.results);\n\n      this.hasError = false;\n      this.errorData = null;\n    } catch (error) {\n      this.hasError = true;\n      this.errorData = error?.response?.data || null;\n\n      this.toast.global.requestError({ error });\n    } finally {\n      this.isLoading = false;\n    }\n  }\n}\n\nexport class SearchableCursorPaginationFetcher {\n  constructor({ baseURL, searchFilters = { search: '' }, axios, toast }) {\n    this.axios = axios;\n    this.toast = toast;\n    this.baseURL = baseURL;\n    this._searchFilters = searchFilters;\n\n    this._fetchNextPageDebounced = debounce(function() { this._fetchNextPage(); }, 500);\n\n    this.fetcher = null;\n    this._createFetcher();\n  }\n\n  _createFetcher() {\n    const searchParams = new URLSearchParams(this.baseURL.split('?')[1]);\n    for (const [k, v] of Object.entries(this.searchFilters)) {\n      if (v) {\n        if (Array.isArray(v)) {\n          searchParams.delete(k);\n          for (const e of v) {\n            searchParams.append(k, e);\n          }\n        } else {\n          searchParams.set(k, v);\n        }\n      }\n    }\n    const searchUrl = this.baseURL.split('?')[0] + '?' + searchParams.toString();\n    this.fetcher = new CursorPaginationFetcher(searchUrl, this.axios, this.toast);\n  }\n\n  search(val) {\n    this._searchFilters = Object.assign(this._searchFilters, { search: val })\n    this._createFetcher();\n    this.fetchNextPage();\n  }\n\n  applyFilters(filters) {\n    Object.assign(this._searchFilters, filters);\n    this._createFetcher();\n    this.fetchNextPageImmediate()\n  }\n\n  get searchFilters() {\n    return this._searchFilters;\n  }\n\n  get searchQuery() {\n    return this.searchFilters.search;\n  }\n\n  set searchQuery(val) {\n    this.search(val, this._searchFilters);\n  }\n\n  get hasNextPage() {\n    return this.fetcher.hasNextPage;\n  }\n\n  get hasError() {\n    return this.fetcher.hasError;\n  }\n\n  get errorData() {\n    return this.fetcher.errorData;\n  }\n\n  get data() {\n    return this.fetcher.data;\n  }\n\n  fetchNextPage() {\n    this._fetchNextPageDebounced();\n  }\n\n  async _fetchNextPage() {\n    await this.fetcher.fetchNextPage();\n  }\n\n  fetchNextPageImmediate() {\n    if (!this) {\n      return;\n    }\n\n    this._fetchNextPageDebounced();\n    this._fetchNextPageDebounced.flush();\n  }\n}\n","function normalize (strArray) {\n  var resultArray = [];\n  if (strArray.length === 0) { return ''; }\n\n  if (typeof strArray[0] !== 'string') {\n    throw new TypeError('Url must be a string. Received ' + strArray[0]);\n  }\n\n  // If the first part is a plain protocol, we combine it with the next part.\n  if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n    var first = strArray.shift();\n    strArray[0] = first + strArray[0];\n  }\n\n  // There must be two or three slashes in the file protocol, two slashes in anything else.\n  if (strArray[0].match(/^file:\\/\\/\\//)) {\n    strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n  } else {\n    strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n  }\n\n  for (var i = 0; i < strArray.length; i++) {\n    var component = strArray[i];\n\n    if (typeof component !== 'string') {\n      throw new TypeError('Url must be a string. Received ' + component);\n    }\n\n    if (component === '') { continue; }\n\n    if (i > 0) {\n      // Removing the starting slashes for each component but the first.\n      component = component.replace(/^[\\/]+/, '');\n    }\n    if (i < strArray.length - 1) {\n      // Removing the ending slashes for each component but the last.\n      component = component.replace(/[\\/]+$/, '');\n    } else {\n      // For the last component we will combine multiple slashes to a single one.\n      component = component.replace(/[\\/]+$/, '/');\n    }\n\n    resultArray.push(component);\n\n  }\n\n  var str = resultArray.join('/');\n  // Each input component is now separated by a single slash except the possible first plain protocol part.\n\n  // remove trailing slash before parameters or hash\n  str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n  // replace ? in parameters with &\n  var parts = str.split('?');\n  str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\n\n  return str;\n}\n\nexport default function urlJoin() {\n  var input;\n\n  if (typeof arguments[0] === 'object') {\n    input = arguments[0];\n  } else {\n    input = [].slice.call(arguments);\n  }\n\n  return normalize(input);\n}\n","import {splice} from 'micromark-util-chunked'\nimport {codes} from 'micromark-util-symbol/codes.js'\nimport {resolveAll} from 'micromark-util-resolve-all'\nimport {containerPhrasing} from 'mdast-util-to-markdown/lib/util/container-phrasing.js'\nimport {all} from 'remark-rehype';\nimport {visit} from 'unist-util-visit';\nimport { addRemarkExtension, assert } from './helpers';\nimport {h} from 'hastscript';\n\n/**\n * @typedef {import('micromark-util-types').Extension} Extension\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n * @typedef {import('micromark-util-types').Exiter} Exiter\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').HtmlExtension} HtmlExtension\n * @typedef {import('micromark-util-types').CompileContext} CompileContext\n * \n * @typedef {import('mdast-util-from-markdown').Extension} FromMarkdownExtension\n * @typedef {import('mdast-util-from-markdown').Handle} FromMarkdownHandle\n * @typedef {import('mdast-util-to-markdown').Options} ToMarkdownExtension\n * @typedef {import('mdast-util-to-markdown').Handle} ToMarkdownHandle\n * @typedef {import('mdast-util-to-markdown').Map} Map\n */\n \n\n/**\n * @returns {Extension}\n */\nfunction footnoteSyntax() {\n  /** @type {Extension} */\n  return {\n    _hiddenFootnoteSupport: {},\n    text: {\n      [codes.caret]: {\n        tokenize: tokenizeInlineFootnoteStart, \n        resolveAll: resolveAllFootnote\n      },\n      [codes.rightSquareBracket]: {\n        add: 'after',\n        tokenize: tokenizeInlineFootnoteEnd,\n        resolveAll: resolveAllFootnote,\n        resolveTo: resolveToFootnoteEnd\n      },  \n    }\n  };\n\n  /** @type {Tokenizer} */\n  function tokenizeInlineFootnoteStart(effects, ok, nok) {\n    return start;\n\n    /** @type {State} */\n    function start(code) {\n      assert(code === codes.caret, 'expected `^`');\n      effects.enter('inlineFootnoteStart');\n      effects.enter('inlineFootnoteMarker');\n      effects.consume(code);\n      effects.exit('inlineFootnoteMarker');\n      return inlineFootnoteStart;\n    }\n\n    /** @type {State} */\n    function inlineFootnoteStart(code) {\n      if (code !== codes.leftSquareBracket) {\n        return nok(code);\n      }\n\n      effects.enter('inlineFootnoteStartMarker');\n      effects.consume(code);\n      effects.exit('inlineFootnoteStartMarker');\n      effects.exit('inlineFootnoteStart');\n      return ok;\n    }\n  }\n\n  /** @type {Tokenizer} */\n  function tokenizeInlineFootnoteEnd(effects, ok, nok) {\n    const self = this;\n    return start;\n\n    /** @type {State} */\n    function start(code) {\n      assert(code === codes.rightSquareBracket, 'expected `]`');\n      let index = self.events.length;\n      /** @type {boolean|undefined} */\n      let hasStart;\n\n      // Find an opening.\n      while (index--) {\n        if (self.events[index][1].type === 'inlineFootnoteStart') {\n          hasStart = true;\n          break;\n        }\n      }\n\n      if (!hasStart) {\n        return nok(code);\n      }\n\n      effects.enter('inlineFootnoteEnd');\n      effects.enter('inlineFootnoteEndMarker');\n      effects.consume(code);\n      effects.exit('inlineFootnoteEndMarker');\n      effects.exit('inlineFootnoteEnd');\n      return ok;\n    }\n  }\n\n  /**\n   * Remove remaining note starts.\n   *\n   * @type {Resolver}\n   */\n  function resolveAllFootnote(events) {\n    let index = -1;\n    /** @type {Token} */\n    let token;\n\n    while (++index < events.length) {\n      token = events[index][1];\n\n      if (events[index][0] === 'enter' && token.type === 'inlineFootnoteStart') {\n        token.type = 'data';\n        // Remove the two marker (`^[`).\n        events.splice(index + 1, 4);\n      }\n    }\n\n    return events;\n  }\n\n  /** @type {Resolver} */\n  function resolveToFootnoteEnd(events, context) {\n    let index = events.length - 4;\n    /** @type {Token} */\n    let token;\n    /** @type {number} */\n    let openIndex;\n\n    // Find an opening.\n    while (index--) {\n      token = events[index][1];\n\n      // Find where the note starts.\n      if (events[index][0] === 'enter' && token.type === 'inlineFootnoteStart') {\n        openIndex = index;\n        break;\n      }\n    }\n\n    // @ts-expect-error It’s fine.\n    assert(openIndex !== undefined, 'expected `openIndex` to be found');\n\n    /** @type {Token} */\n    const group = {\n      type: 'inlineFootnote',\n      start: Object.assign({}, events[openIndex][1].start),\n      end: Object.assign({}, events[events.length - 1][1].end),\n    }\n\n    const text = {\n      type: 'inlineFootnoteText',\n      start: Object.assign({}, events[openIndex + 4][1].end),\n      end: Object.assign({}, events[events.length - 3][1].start),\n    }\n\n    const note = [\n      ['enter', group, context],\n      events[openIndex + 1],\n      events[openIndex + 2],\n      events[openIndex + 3],\n      events[openIndex + 4],\n      ['enter', text, context]\n    ];\n\n    splice(\n      note,\n      note.length,\n      0,\n      resolveAll(\n        context.parser.constructs.insideSpan.null,\n        events.slice(openIndex + 6, -4),\n        context\n      )\n    );\n\n    note.push(\n      ['exit', text, context],\n      events[events.length - 3],\n      events[events.length - 2],\n      ['exit', group, context]\n    );\n\n    splice(events, index, events.length - index, note);\n\n    return events;\n  }\n}\n\n\n\nfunction footnoteFromMarkdown() {\n  /** @type {FromMarkdownExtension} */\n  return {\n    enter: {\n      inlineFootnote: enterInlineFootnote,\n    },\n    exit: {\n      inlineFootnote: exitInlineFootnote,\n    }\n  };\n\n  function enterInlineFootnote(token) {\n    this.enter({type: 'footnote', children: []}, token);\n  }\n\n  function exitInlineFootnote(token) {\n    this.exit(token);\n  }\n}\n\nfunction footnoteToMarkdown() {\n  return {\n    unsafe: [{character: '[', inConstruct: ['phrasing', 'label', 'reference']}],\n    handlers: {footnote},\n  };\n\n  function footnote(node, _, context) {\n    const exit = context.enter('footnote');\n    const subexit = context.enter('label');\n    const value = '^[' + containerPhrasing(node, context, {before: '[', after: ']'}) + ']';\n    subexit();\n    exit();\n    return value;\n  }\n};\n\n\n\nexport function remarkFootnotes() {\n  addRemarkExtension(this, footnoteSyntax(), footnoteFromMarkdown(), footnoteToMarkdown());\n}\n\n\n/**\n * Render footnotes as <footnote>content</footnote>\n */\nexport const remarkToRehypeHandlersFootnotes = {\n  footnote(h, node) {\n    return h(node, 'footnote', all(h, node))\n  },\n  footnoteDefinition(h, node) {\n    return null;\n  },\n  footnoteReference(h, node) {\n    return null;\n  },\n};\n\n\nexport function rehypeFootnoteSeparator() {\n  // add a footnote call separator tag between consecutive <footnote> tags\n  return tree => visit(tree, 'element', (node, index, parent) => {\n    if (node.tagName === 'footnote' && parent.children[index + 1]?.tagName === 'footnote') {\n      parent.children.splice(index + 1, 0, h('sup', {class: 'footnote-call-separator'}));\n    }\n  })\n}\n\n\nexport function rehypeFootnoteSeparatorPreview() {\n  return tree => visit(tree, 'element', (node, index, parent) => {\n    // Remove link from footnote call\n    if (node.tagName !== 'sup' || node.children.length !== 1 || !node.children[0]?.properties?.dataFootnoteRef) {\n      return;\n    }\n    node.children = node.children[0].children;\n\n    // Add footnote call separator\n    const nextSibling = parent.children[index + 1];\n    if (nextSibling?.tagName !== 'sup' || nextSibling.children.length !== 1 || !nextSibling.children[0]?.properties?.dataFootnoteRef) {\n      return;\n    }\n    parent.children.splice(index + 1, 0, h('sup', {class: 'footnote-call-separator'}, [',']));\n  })\n}","import { gfmStrikethrough } from 'micromark-extension-gfm-strikethrough';\nimport { gfmStrikethroughFromMarkdown, gfmStrikethroughToMarkdown } from 'mdast-util-gfm-strikethrough';\nimport { gfmTaskListItem } from 'micromark-extension-gfm-task-list-item';\nimport { gfmTaskListItemFromMarkdown, gfmTaskListItemToMarkdown } from 'mdast-util-gfm-task-list-item';\nimport { addRemarkExtension } from './helpers';\n\n\nexport function remarkStrikethrough() {\n  addRemarkExtension(this, gfmStrikethrough(), gfmStrikethroughFromMarkdown, gfmStrikethroughToMarkdown);\n}\n\n\nexport function remarkTaskListItem() {\n  addRemarkExtension(this, gfmTaskListItem, gfmTaskListItemFromMarkdown, gfmTaskListItemToMarkdown);\n}\n","import {visit} from 'unist-util-visit';\n\n/**\n * Add target=\"_blank\" to links.\n */\nexport function rehypeLinkTargetBlank() {\n  return tree => {\n    visit(tree, 'element', node => {\n      if (node.tagName === 'a' && !(node.properties.href || '#').startsWith('#')) {\n        node.properties.target = '_blank';\n        node.properties.rel = 'nofollow noopener noreferrer';\n      }\n    });\n  }\n}\n\n/**\n * Convert HTML attributes to inline CSS styles.\n */\nexport function rehypeConvertAttrsToStyle() {\n  const convertAttrs = {\n    'width': 'width', \n    'height': 'height'\n  };\n\n  return tree => {\n    visit(tree, 'element', node => {\n      for (const [attrName, styleName] of Object.entries(convertAttrs)) {\n        if (node.properties[attrName]) {\n          let style = (node.properties.style || '');\n          if (style && style[style.length - 1] !== ';') {\n            style += ';'\n          }\n          style += styleName + ':' + node.properties[attrName] + ';';\n          node.properties.style = style;\n          node.properties[attrName] = undefined;\n        }\n      }\n    });\n  }\n}\n\n\nexport function addClass(node, className) {\n  if (!node.properties.className) {\n    node.properties.className = [];\n  }  \n  if (Array.isArray(className)) {\n    node.properties.className.push(...className);\n  } else {\n    node.properties.className.push(className);\n  }\n}\n\n\nexport function rehypeRewriteImageSources({rewriteImageSource}) {\n  return tree => visit(tree, 'element', node => {\n    if (node.tagName === 'img' && node.properties.src && rewriteImageSource) {\n      node.properties.src = rewriteImageSource(node.properties.src);\n    }\n  });\n}\n\n\nexport function rehypeRewriteFileLinks({ rewriteFileUrl }) {\n  return tree => visit(tree, 'element', node => {\n    if (node.tagName === 'a' && node.properties?.href?.startsWith('/files/') && rewriteFileUrl) {\n      node.properties.href = rewriteFileUrl(node.properties.href);\n      node.properties.download = true;\n      addClass(node, ['file-download-preview', 'v-icon', 'mdi', 'mdi-file-download']);\n    }\n  });\n}\n\n\nexport function rehypeTemplates() {\n  return tree => visit(tree, 'element', node => {\n    if (node.tagName === 'template') {\n      node.children = node.content?.children || [];\n      node.tagName = 'span';\n    }\n  })\n}\n\n\n/**\n * Replace self-closing tags with a combination of start and end tag.\n */\nexport function rehypeRawFixSelfClosingTags() {\n  return tree => visit(tree, 'raw', (node) => {\n    console.log(node.value);\n    node.value = node.value.replaceAll(/<(?<tag>[a-zA-Z0-9-]+)(?<attrs>[^>]*)\\/>/g, \"<$<tag>$<attrs>></$<tag>>\");\n    console.log(node.value);\n  });\n}","import {codes} from 'micromark-util-symbol/codes.js';\nimport {factoryAttributes} from 'micromark-extension-directive/lib/factory-attributes.js';\nimport {parseEntities} from 'parse-entities';\nimport {visit} from 'unist-util-visit';\nimport { addRemarkExtension } from './helpers';\n\n\nfunction attrsSyntax() {\n  return {\n    name: 'attrs',\n    text: {\n      [codes.leftCurlyBrace]: {\n        tokenize: tokenizeAttributes,\n      }\n    }\n  };\n\n  function tokenizeAttributes(effects, ok, nok) {\n    // Always a `{`\n    return factoryAttributes(\n      effects,\n      ok,\n      nok,\n      'textAttributes',\n      'textAttributesMarker',\n      'textAttribute',\n      'textAttributeId',\n      'textAttributeClass',\n      'textAttributeName',\n      'textAttributeInitializerMarker',\n      'textAttributeValueLiteral',\n      'textAttributeValue',\n      'textAttributeValueMarker',\n      'textAttributeValueData'\n    )\n  }\n};\n\n\nfunction attrsFromMarkdown() {\n  return {\n    transforms: [transformAttributesAttachToElements],\n    enter: {\n      textAttributes: enterAttributes,\n    },\n    exit: {\n      textAttributes: exitAttributes,\n      textAttributeClassValue: exitAttributeClassValue,\n      textAttributeIdValue: exitAttributeIdValue,\n      textAttributeName: exitAttributeName,\n      textAttributeValue: exitAttributeValue,\n    }\n  };\n\n  function enterAttributes(token) {\n    this.setData('directiveAttributes', []);\n    this.enter({type: 'attributes', attrs: {}, attrsString: ''}, token);\n    this.buffer();\n  }\n\n  function exitAttributeIdValue(token) {\n    const list = this.getData('directiveAttributes');\n    list.push(['id', parseEntities(this.sliceSerialize(token))])\n  }\n\n  function exitAttributeClassValue(token) {\n    const list = this.getData('directiveAttributes');\n    list.push(['class', parseEntities(this.sliceSerialize(token))])\n  }\n\n  function exitAttributeValue(token) {\n    const list = this.getData('directiveAttributes');\n    list[list.length - 1][1] = parseEntities(this.sliceSerialize(token))\n  }\n\n  function exitAttributeName(token) {\n    // Attribute names in CommonMark are significantly limited, so character\n    // references can’t exist.\n    this.getData('directiveAttributes').push([this.sliceSerialize(token), ''])\n  }\n\n  function exitAttributes(token) {\n    const cleaned = {};\n    for (const attribute of this.getData('directiveAttributes')) {\n      if (attribute[0] === 'class' && cleaned.class) {\n        cleaned.class += ' ' + attribute[1];\n      } else {\n        cleaned[attribute[0]] = attribute[1];\n      }\n    }\n  \n    this.setData('directiveAttributes')\n    this.resume(); // Drop EOLs\n\n    const node = this.stack[this.stack.length - 1];\n    node.attrs = cleaned;\n    node.attrsString = this.sliceSerialize(token);\n    this.exit(token);\n  }\n\n  function transformAttributesAttachToElements(tree) {\n    // Attach attributes to elements or convert to text\n    visit(tree, (node, index, parent) => {\n      if (node.type === 'attributes') {\n        const prevNode = index > 0 ? parent.children[index - 1] : null;\n        if (prevNode && prevNode.type !== 'text') {\n          // Attach attributes to previous element e.g. ![img](img.png){width=\"50%\"}, **bold**{.styled}, but not \"**bold** {.not-styled}\"\n          prevNode.data = {...prevNode.data, hProperties: node.attrs};\n        } else if (['heading', 'tableCaption'].includes(parent.type)) {\n          // Attach attributes to parent element e.g. \"# Heading {#chapter-id}\"\n          parent.data = {...parent.data, hProperties: node.attrs};\n        } else {\n          // Could not attach to any node: convert attributes to text\n          node.type = 'text';\n          node.value = node.attrsString;\n          delete node.attrs;\n          delete node.attrsString;\n        }\n      }\n    });\n  }\n}\n\n\nfunction attrsToMarkdown() {\n  return {\n    handlers: {\n      attributes\n    }\n  };\n\n  function attributes(node, _, context) {\n    const exit = context.enter('attributes');\n    const value = node.attrsString || Object.entries(node.attrs).map(([k, v]) => {\n      if (k === 'id') { return '#' + v }\n      else if (k === 'class') { return v.split(' ').map(c => '.' + c).join(' ')}\n      else { return `${k}=${v}`; }\n    }).join(' ');\n    exit();\n    return value;\n  }\n}\n\nexport const remarkToRehypeAttrs = {\n  attributes(h, node) {\n    // Remove attributes nodes\n    return null;\n  }\n}\n\nexport function remarkAttrs() {\n  addRemarkExtension(this, attrsSyntax(), attrsFromMarkdown(), attrsToMarkdown());\n}\n\n","import { addRemarkExtension } from \"./helpers\";\nimport {checkQuote} from 'mdast-util-to-markdown/lib/util/check-quote.js'\nimport {containerPhrasing} from 'mdast-util-to-markdown/lib/util/container-phrasing.js'\nimport {track} from 'mdast-util-to-markdown/lib/util/track.js'\nimport {safe} from 'mdast-util-to-markdown/lib/util/safe.js'\nimport {all} from 'remark-rehype';\nimport {normalizeUri} from 'micromark-util-sanitize-uri';\n\n\nfunction figureFromMarkdown() {\n  // Extend default image formatter from mdast-util-from-markdown to support child markdown text\n  return {\n    enter: {\n      image: enterImage,\n    }, \n    exit: {\n      label: exitLabel,\n    }\n  };\n\n  function enterImage(token) {\n    this.enter({type: 'image', title: null, url: '', alt: null, children: []}, token);\n  }\n\n\n  /**\n   * Label for link or image\n   */\n  function exitLabel(token) {\n    const fragment = /** @type {Fragment} */ (this.stack[this.stack.length - 1]);\n    const value = this.resume();\n    const node =\n      /** @type {(Link|Image) & {identifier: string, label: string}} */ (\n        this.stack[this.stack.length - 1]\n      );\n\n    // Assume a reference.\n    this.setData('inReference', true);\n\n    // @ts-expect-error: Assume static phrasing content.\n    node.children = fragment.children;\n    if (node.type === 'image') {\n      node.alt = value;\n    }\n  }\n}\n\n\nfunction figureToMarkdown() {\n  image.peek = () => '!';\n\n  return {\n    handlers: {\n      image\n    },\n  };\n\n  function image(node, _, context, safeOptions) {\n    const quote = checkQuote(context);\n    const suffix = quote === '\"' ? 'Quote' : 'Apostrophe';\n    const exit = context.enter('image');\n    let subexit = context.enter('label');\n    const tracker = track(safeOptions);\n    let value = tracker.move('![');\n    value += tracker.move(\n      containerPhrasing(node, context, {\n        before: value,\n        after: '](',\n        ...tracker.current()\n      })\n    );\n    value += tracker.move('](');\n\n    subexit();\n\n    if (\n      // If there’s no url but there is a title…\n      (!node.url && node.title) ||\n      // If there are control characters or whitespace.\n      /[\\0- \\u007F]/.test(node.url)\n    ) {\n      subexit = context.enter('destinationLiteral');\n      value += tracker.move('<');\n      value += tracker.move(\n        safe(context, node.url, {before: value, after: '>', ...tracker.current()})\n      );\n      value += tracker.move('>');\n    } else {\n      // No whitespace, raw is prettier.\n      subexit = context.enter('destinationRaw');\n      value += tracker.move(\n        safe(context, node.url, {\n          before: value,\n          after: node.title ? ' ' : ')',\n          ...tracker.current()\n        })\n      );\n    }\n\n    subexit();\n\n    if (node.title) {\n      subexit = context.enter('title' + suffix);\n      value += tracker.move(' ' + quote);\n      value += tracker.move(\n        safe(context, node.title, {\n          before: value,\n          after: quote,\n          ...tracker.current()\n        })\n      );\n      value += tracker.move(quote);\n      subexit();\n    }\n\n    value += tracker.move(')');\n    exit();\n\n    return value;\n  }\n  \n}\n\n\nexport function remarkFigure() {\n  addRemarkExtension(this, {}, figureFromMarkdown(), figureToMarkdown());\n}\n\n\nexport const remarkToRehypeHandlersFigure = {\n  image(h, node) {\n    // only add attributes to <img> tag, not to <figure>\n    const attrs = (node.data || {}).hProperties || {};\n    if (!node.data) {\n      node.data = {};\n    }\n    node.data.hProperties = {};\n\n    return h(node, 'figure', [\n      h(node, 'img', {src: normalizeUri(node.url), alt: node.alt, ...attrs}),\n      ...(node.children.length > 0 ? [h(node, 'figcaption', all(h, node))] : [])\n    ]);\n  }\n};\n","import { gfmTable } from 'micromark-extension-gfm-table';\nimport { gfmTableFromMarkdown, gfmTableToMarkdown } from 'mdast-util-gfm-table';\nimport { addRemarkExtension } from './helpers';\nimport { visit } from 'unist-util-visit';\nimport { all } from 'remark-rehype';\nimport { containerPhrasing } from 'mdast-util-to-markdown/lib/util/container-phrasing.js'\n\n\nexport function remarkTables() {\n  addRemarkExtension(this, gfmTable, gfmTableFromMarkdown, gfmTableToMarkdown());\n}\n\n\nfunction tableCaptionFromMarkdown() {\n  return {\n    transforms: [transformTableCaption]\n  };\n\n  function transformTableCaption(tree) {\n    visit(tree, (node, index, parent) => {\n      if (node.type === 'table') {\n        const captionBlock = parent.children[index + 1];\n        if (captionBlock && captionBlock.type === 'paragraph' && captionBlock.children.length > 0 && captionBlock.children[0].type === 'text') {\n          const captionText = captionBlock.children[0];\n          let captionPrefixLength = 0;\n          if (captionText.value.startsWith(':')) {\n            captionPrefixLength = 1;\n          } else if (captionText.value.startsWith('Table:')) {\n            captionPrefixLength = 6;\n          }\n\n          \n          if (captionPrefixLength) {\n            const captionVal = captionText.value.slice(captionPrefixLength);\n            const captionValTrimmed = captionVal.trimStart();\n            captionPrefixLength += captionVal.length - captionValTrimmed.length;\n\n            captionText.value = captionText.value.slice(captionPrefixLength);\n            captionText.position.start.column += captionPrefixLength;\n            captionText.position.start.offset += captionPrefixLength;\n\n            // Mark block as table caption, but do not move caption into table (this is done when transforming to rehype)\n            captionBlock.type = 'tableCaption';\n          }\n        }\n      }\n    });\n  }\n}\n\n\nfunction tableCaptionToMarkdown() {\n  return {\n    handlers: {tableCaption},\n  };\n\n  function tableCaption(node, _, context, safeOptions) {\n    const exit = context.enter('tableCaption');\n    const subexit = context.enter('phrasing');\n    const value = 'Table: ' + containerPhrasing(node, context, safeOptions);\n    subexit();\n    exit();\n    return value;\n  }\n}\n\n\nexport function remarkTableCaptions() {\n  addRemarkExtension(this, {}, tableCaptionFromMarkdown(), tableCaptionToMarkdown());\n}\n\n\nexport const remarkToRehypeHandlersTableCaptions = {\n  tableCaption(h, node) {\n    return h(node, 'caption', all(h, node));\n  }\n};\n\nexport function rehypeTableCaptions() {\n  return tree =>\n    visit(tree, 'element', (node, index, parent) => {\n      if (node.tagName === 'caption') {\n        // Move table caption tag into HTML table\n        const tableNode1 = parent.children[index - 1];\n        const tableNode2 = parent.children[index - 2];\n        if (tableNode1 && tableNode1.tagName === 'table') {\n          tableNode1.children.push(node);\n          parent.children.splice(index, 1);\n        } else if (tableNode1 && tableNode1.type === 'text' && tableNode1.value === '\\n' && tableNode2.tagName === 'table') {\n          tableNode2.children.push(node);\n          parent.children.splice(index, 1);\n        }\n      }\n    });\n}","import { visit } from 'unist-util-visit';\nimport { addClass } from './rehypePlugins';\n\n\nexport function rehypeReferenceLink() {\n  return tree => visit(tree, 'element', (node, index, parent) => {\n    if (node.tagName === 'a' && node.properties.href && node.properties.href.startsWith('#')) {\n      node.tagName = 'ref';\n      node.properties.to = node.properties.href.substring(1);\n      delete node.properties.href;\n    }\n  });\n}\n\n\nexport function rehypeReferenceLinkPreview({ rewriteReferenceLink = null }) {\n  return tree => {\n    let refNodes = [];\n    let refTargets = {};\n\n    // Collect references and elements that can be references\n    visit(tree, 'element', (node, index, parent) => {\n      if (node.tagName === 'a' && node.properties.href && node.properties.href.startsWith('#')) {\n        refNodes.push(node);\n      }\n      if (node.properties.id) {\n        refTargets[node.properties.id] = {node, index, parent};\n      }\n    });\n\n    // Resolve references\n    if (refNodes.length > 0) {\n      for (const node of refNodes) {\n        const refId = node.properties.href.substring(1);\n\n        let refPreview = null;\n        // Known reference target (e.g. other finding)\n        if (!refPreview && rewriteReferenceLink) {\n          refPreview = rewriteReferenceLink(refId);\n        }\n\n        // Local reference target (e.g. figure in same markdown field)\n        if (!refPreview && refTargets[refId]) {\n          if (refTargets[refId].node.tagName === 'img' && \n              refTargets[refId].parent.tagName === 'figure' && \n              refTargets[refId].parent.children.some(cn => cn.tagName === 'figcaption')) {\n            refPreview = {\n              title: `[Figure #${refId}]`,\n            };\n          }\n          if (refTargets[refId].node.tagName === 'caption') {\n            refPreview = {\n              title: `[Table #${refId}]`,\n            };\n          }\n        }\n\n        // Unknown reference target\n        if (!refPreview) {\n          refPreview = {\n            title: `[Reference to #${refId}]`,\n          };\n        }\n\n        // Update reference node\n        addClass(node, 'ref');\n        if (refPreview.href) {\n          node.properties.href = refPreview.href;\n        }\n        if (refPreview.title && node.children.length === 0) {\n          node.children.push({type: 'text', value: refPreview.title});\n        }\n      }\n    }\n\n  }\n}\n\n","import { micromarkEventsToTree, parseMicromarkEvents } from './micromark-utils.js';\n\n\nfunction createBlockSeparator(pos) {\n  return {\n    type: 'annotatedTextBlockSeparator', \n    text: '', \n    children: [],\n    enter: {\n      type: 'annotatedTextBlockSeparator',\n      start: pos,\n      end: pos,\n    },\n    exit: {\n      type: 'annotatedTextBlockSeparator',\n      start: pos,\n      end: pos,\n    },\n  };\n}\n\nexport function extractLeafNodesFromMicromarkTree(tree, {interpretAsLeafNodes = [], interpretAsLeafNodesFns = {}, wrapTypesWithBlockSeparators = []}) {\n  const leafNodes = [];\n  collectLeafNodes(tree);\n  return leafNodes;\n\n  function collectLeafNodes(t) {\n    for (const n of t) {\n      const wrapWithSeparators = wrapTypesWithBlockSeparators.includes(n.type);\n      if (wrapWithSeparators) {\n        leafNodes.push(createBlockSeparator(n.enter.start));\n      }\n\n      if (n.children.length === 0 || interpretAsLeafNodes.includes(n.type) || interpretAsLeafNodesFns[n.type]?.(n)) {\n        leafNodes.push(n);\n      } else {\n        collectLeafNodes(n.children);\n      }\n\n      if (wrapWithSeparators) {\n        leafNodes.push(createBlockSeparator(n.exit.end));\n      }\n    }\n  } \n}\n\n\n\nfunction micromarkToAnnotatedText(text, events) {\n  const tree = micromarkEventsToTree(text, events);\n  // console.log('micromark tree', tree);\n\n  // Add separators between blocks, such that blocks are always interpreted as separate\n  for (let i = tree.length - 1; i >= 0; i--) {\n    tree.splice(i, 0, createBlockSeparator(tree[i].enter.start));\n  }\n\n  // extract leaf nodes of tree => this is a sequence of all the text tokens\n  const leafNodes = extractLeafNodesFromMicromarkTree(tree, {\n    interpretAsLeafNodes: ['codeFenced', 'codeText', 'textAttributes', 'inlineFootnote', 'table', 'resource', 'templateVariable'],\n    interpretAsLeafNodesFns: {\n      'labelText': n => n.children.length === 0,\n    },\n    wrapTypesWithBlockSeparators: ['image'],\n  });\n\n  // console.log('annotatedText.leafNodes', leafNodes)\n\n  // convert leaf nodes to annotatedText => either text or markup\n  // TODO: support table caption in micromark (instead of mdast)\n  const textTypes = ['data', 'lineEnding', 'lineEndingBlank'];\n  const markupTypesInterpretAs = {\n    'listItemMarker': '\\n\\n',\n    'codeFenced': '\\n\\n',\n    'annotatedTextBlockSeparator': '\\n\\n',\n    'codeText': '`code`',\n    'templateVariable': '`code`',\n    'labelText': '`code`',\n    'htmlTextData': '`code`',\n  };\n  const annotatedText = [];\n  for (const n of leafNodes) {\n    if (n.type === 'lineEnding') {\n      // Workaround for micromark bug: the end position of lineEnding elements is wrong (overlaps with next element)\n      annotatedText.push({\n        text: '\\n',\n        offset: n.enter.start.offset,\n      });\n    } else if (textTypes.includes(n.type)) {\n      annotatedText.push({\n        text: n.text,\n        offset: n.enter.start.offset,\n      });\n    } else {\n      annotatedText.push({\n        markup: n.text,\n        offset: n.enter.start.offset,\n        interpretAs: markupTypesInterpretAs[n.type] || '',\n      });\n    }\n  }\n  return annotatedText;\n}\n\n\nexport function annotatedTextParse() {\n  const micromarkExtensions = this.data('micromarkExtensions') || [];\n  this.Parser = parser;\n\n  function parser(text) {\n    const events = parseMicromarkEvents(text, {extensions: micromarkExtensions});\n    return micromarkToAnnotatedText(text, events);\n  }\n}","import { codes } from 'micromark-util-symbol/codes.js';\nimport { addRemarkExtension, assert } from './helpers';\n\n\nfunction templateVariableSyntax() {\n  return {\n    text: {\n      [codes.leftCurlyBrace]: {\n        tokenize: tokenizeTemplateVariable,\n      },\n    }\n  };\n\n  function tokenizeTemplateVariable(effects, ok, nok) {\n    let closeBraceCount = 0;\n    return start;\n\n    function start(code) {\n      assert(code === codes.leftCurlyBrace, 'expected `{`}');\n      effects.enter('templateVariable');\n      effects.consume(code);\n      return start2;\n    }\n    function start2(code) {\n      if (code !== codes.leftCurlyBrace) {\n        return nok(code);\n      }\n      effects.consume(code);\n      return between;\n    }\n    function between(code) {\n      if (code === codes.eof) {\n        return nok(code);\n      } else if (code === codes.rightCurlyBrace) {\n        // Closing sequence or part of content?\n        closeBraceCount = 0;\n        return sequenceClose(code);\n      } else {\n        effects.consume(code);\n        return between;\n      }\n    }\n    function sequenceClose(code) {\n      if (code === codes.rightCurlyBrace) {\n        effects.consume(code);\n        closeBraceCount += 1;\n\n        if (closeBraceCount === 2) {\n          // Dummy close events, rewritten in resolveTemplateVariable\n          effects.exit('templateVariable');\n          return ok(code);\n        } else {\n          return sequenceClose;\n        }\n      } else {\n        return between(code);\n      }\n    }\n  }\n\n}\n\n\nfunction templateVariableFromMarkdown() {\n  return {\n    enter: {\n      templateVariable: enterTemplateVariable,\n    },\n    exit: {\n      templateVariable: exitTemplateVariable,\n    }\n  };\n\n  function enterTemplateVariable(token) {\n    this.enter({type: 'templateVariable', value: ''}, token);\n  }\n  function exitTemplateVariable(token) {\n    const node = this.stack[this.stack.length - 1];\n    node.value = this.sliceSerialize(token); \n    this.exit(token);\n  }\n}\n\nfunction templateVariableToMarkdown() {\n  return {\n    handlers: {\n      templateVariable,\n    } \n  };\n\n  function templateVariable(node, _, context) {\n    const exit = context.enter('templateVariable');\n    const value = node.value;\n    exit();\n    return value;\n  }\n}\n\n\nexport function remarkTemplateVariables() {\n  addRemarkExtension(this, templateVariableSyntax(), templateVariableFromMarkdown(), templateVariableToMarkdown());\n}\n","import { codes } from 'micromark-util-symbol/codes.js';\nimport { addRemarkExtension } from \"./helpers\";\nimport { containerPhrasing } from 'mdast-util-to-markdown/lib/util/container-phrasing.js'\n\n\nfunction todoSyntax() {\n  return {\n    name: 'todo',\n    text: {\n      [codes.uppercaseT]: {\n        tokenize: tokenizeTodo,\n      },\n      [codes.lowercaseT]: {\n        tokenize: tokenizeTodo,\n      },\n    }\n  };\n\n  function tokenizeTodo(effects, ok, nok) {\n    return startT;\n\n    function startT(code) {\n      effects.enter('todo');\n      effects.enter('data');\n      effects.consume(code);\n      return middleO;\n    }\n    function middleO(code) {\n      if (![codes.uppercaseO, codes.lowercaseO].includes(code)) {\n        return nok(code);\n      }\n      effects.consume(code);\n      return middleDorDash;\n    }\n    function middleDorDash(code) {\n      if (code == codes.dash) {\n        effects.consume(code);\n        return middleD;\n      }\n      return middleD(code);\n    }\n    function middleD(code) {\n      if (![codes.uppercaseD, codes.lowercaseD].includes(code)) {\n        return nok(code);\n      }\n      effects.consume(code);\n      return endO;\n    }\n    function endO(code) {\n      if (![codes.uppercaseO, codes.lowercaseO].includes(code)) {\n        return nok(code);\n      }\n      effects.consume(code);\n      effects.exit('data');\n      effects.exit('todo');\n      return ok(code);\n    }\n  }\n}\n\n\nfunction todoFromMarkdown() {\n  return {\n    enter: {\n      todo: enterTodo,\n    },\n    exit: {\n      todo: exitTodo,\n    }\n  };\n\n  function enterTodo(token) {\n    this.enter({type: 'todo', children: [], data: {hName: 'span', hProperties: {class: 'todo'}}}, token);\n  }\n  function exitTodo(token) {\n    this.exit(token);\n  }\n}\n\nfunction todoToMarkdown() {\n  return {\n    handlers: {\n      todo,\n    } \n  };\n\n  function todo(node, _, context, safeOptions) {\n    const exit = context.enter('todo');\n    const value = containerPhrasing(node, context, safeOptions);\n    exit();\n    return value;\n  }\n}\n\n\nexport function remarkTodoMarker() {\n  addRemarkExtension(this, todoSyntax(), todoFromMarkdown(), todoToMarkdown());\n}\n","import { visit } from 'unist-util-visit';\nimport { toString } from 'hast-util-to-string';\nimport { camelCase } from 'lodash';\nimport { lowlight } from 'lowlight/lib/all'\nimport { unified } from 'unified';\nimport rehypeParse from 'rehype-parse';\nimport { addClass } from './rehypePlugins';\n\n\nfunction getLanguage(node) {\n  return (node.properties?.className || [])\n    .filter(c => c.startsWith('language-'))\n    .map(c => c.slice(9).toLowerCase())\n    [0] || 'none';\n}\n\nfunction highlightSyntax(code, node) {\n  const language = getLanguage(node);\n  \n  addClass(node, 'hljs');\n  try {\n    return lowlight.highlight(language, code);\n  } catch (error) {\n    if (!/Unknown language/.test(error)) {\n      throw error;\n    }\n  }\n  return {\n    type: 'root',\n    children: [{type: 'text', value: code}]\n  };\n}\n\nfunction parseMeta(metaLine) {\n  const meta = Object.fromEntries(\n    Array.from(metaLine.matchAll(/(?<name>[a-zA-Z0-9\\-]+)(?:=\"(?<value>[^\"]+)\")?/g))\n      .map(m => [camelCase(m.groups.name), m.groups.value || null])\n  );\n  if (meta.highlightManual !== undefined) {\n    meta.highlightManual = meta.highlightManual || '§';\n  }\n  if (meta.lineNumbers !== undefined) {\n    meta.lineNumbers = Number.parseInt(meta.lineNumbers) || 1;\n  }\n  return meta;\n}\n\nfunction parseManualHighlightAreas(code, meta) {\n  const highlightInfos = []\n  if (!meta.highlightManual || meta.highlightManual.length !== 1) {\n      return {code, highlightInfos};\n  }\n\n  const highlightMarkerRe = `\\\\${meta.highlightManual}[^\\\\${meta.highlightManual}\\\\R]*\\\\${meta.highlightManual}`;\n  const highlightedAreaRe = new RegExp(`(${highlightMarkerRe})([^\\\\${meta.highlightManual}]*)(${highlightMarkerRe})`, 'g');\n  const parts = code.split(highlightedAreaRe);\n  let codeNew = '';\n  for (let i = 0; i < parts.length; i += 4) {\n    codeNew += parts[i];\n    if (i + 3 < parts.length) {\n      const highlightInfo = {\n        startMarker: parts[i + 1].slice(1, parts[i + 1].length - 1),\n        startMarkerPos: codeNew.length,\n        endMarker: parts[i + 3].slice(1, parts[i + 3].length - 1),\n        endMarkerPos: 0,\n      };\n      codeNew += parts[i + 2];\n      highlightInfo.endMarkerPos = codeNew.length;\n      highlightInfos.push(highlightInfo);\n    }\n  }\n\n  return {code: codeNew, highlightInfos};\n}\n\n\nfunction splitTreeAtPosition(tree, splitPos) {\n  return {\n    ...tree,\n    children: processChildren(tree.children, 0).flat(),\n  }\n\n  function processChildren(children, currentPos) {\n    const childrenLeft = [];\n    const childrenRight = [];\n\n    for (const c of children) {\n      for (const pc of processNode(c, currentPos)) {\n        if (currentPos < splitPos) {\n          childrenLeft.push(pc);\n        } else {\n          childrenRight.push(pc);\n        }\n        currentPos += toString(pc).length;\n      }\n    }\n    return [childrenLeft, childrenRight];\n  }\n\n  function processNode(node, currentPos) {\n    const nodeLength = toString(node).length;\n    if (currentPos < splitPos && currentPos + nodeLength > splitPos) {\n      if (node.type === 'text') {\n        return [\n          {...node, value: node.value.slice(0, splitPos - currentPos)},\n          {...node, value: node.value.slice(splitPos - currentPos)},\n        ];\n      } else {\n        const [childrenLeft, childrenRight] = processChildren(node.children, currentPos)\n        return [\n          {...node, children: childrenLeft},\n          {...node, children: childrenRight},\n        ];\n      }\n    }\n\n    return [node];\n  }\n}\n\n\nfunction wrapTreeAreas(tree, wrapInfos) {\n  for (const wi of wrapInfos) {\n    // Split highlighted HTML tree at the positions where manual highlight markers will be inserted\n    tree = splitTreeAtPosition(tree, wi.startMarkerPos);\n    tree = splitTreeAtPosition(tree, wi.endMarkerPos);\n  }\n\n  // Insert manual highlighting markers\n  const children = [];\n  for (let ci = 0, wii = 0, currentPos = 0; ci < tree.children.length; currentPos += toString(tree.children[ci]).length, ci++) {\n    const c = tree.children[ci];\n    let wi = wrapInfos[wii];\n\n    if (wi && (currentPos >= wi.startMarkerPos && currentPos + toString(c).length <= wi.endMarkerPos)) {\n      wi.children = (wi.children || []).concat([c]);\n\n      if (currentPos + toString(c).length == wi.endMarkerPos) {\n        visit(wi.markerTree, 'element', (node, index, parent) => {\n          if (node.tagName === 'content-placeholder') {\n            parent.children.splice(index, 1, ...wi.children);\n          }\n        });\n        children.push(...wi.markerTree.children);\n        wii += 1;\n      }\n    } else if (wi && (currentPos === wi.startMarkerPos && currentPos === wi.endMarkerPos)) {\n      visit(wi.markerTree, 'element', (node, index, parent) => {\n        if (node.tagName === 'content-placeholder') {\n          parent.children.splice(index, 1);\n        }\n      });\n      children.push(...wi.markerTree.children);\n      children.push(c);\n      wii += 1;\n    } else {\n      children.push(c);\n    }\n  }\n\n  tree.children = children;\n  return tree;\n}\n\n\nfunction applyManualHighlighting(tree, highlightInfos) {\n  for (const hi of highlightInfos) {\n    // Parse marker as HTML\n    hi.markerTree = unified()\n      .use(rehypeParse, {fragment: true})\n      .parse((hi.startMarker || '<mark>') + '<content-placeholder />' + (hi.endMarker || '</mark>'))\n  }\n\n  return wrapTreeAreas(tree, highlightInfos);\n}\n\n\nfunction splitIntoLines(tree) {\n  const lines = [];\n  let currentPos = 0;\n  for (const line of toString(tree).split('\\n')) {\n    lines.push({\n      startMarkerPos: currentPos,\n      endMarkerPos: currentPos + line.length,\n      markerTree: {\n        type: 'root',\n        children: [\n          {\n            type: 'element',\n            tagName: 'span',\n            properties: {\n              className: ['code-block-line'],\n              dataLineNumber: lines.length + 1\n            },\n            children: [{type: 'element', tagName: 'content-placeholder', children: []}],\n          }\n        ]\n      }\n    });\n    currentPos += line.length + 1;\n  }\n  \n  return wrapTreeAreas(tree, lines);\n}\n\n\nexport function rehypeHighlightCode() {\n  return tree => visit(tree, 'element', (node, index, parent) => {\n    if (node.tagName === 'code' && parent.tagName === 'pre') {\n      addClass(parent, 'code-block');\n\n      const meta = parseMeta(node.data?.meta || '');\n\n      // Manual highlighting\n      const {code, highlightInfos} = parseManualHighlightAreas(toString(node), meta);\n\n      // Syntax highlighting\n      let tree = highlightSyntax(code, node);\n\n      // Add manual highighting\n      if (highlightInfos.length > 0) {\n        tree = applyManualHighlighting(tree, highlightInfos);\n      }\n\n      // Add line infos\n      tree = splitIntoLines(tree);\n\n      node.children = tree.children;\n    } else if (node.tagName === 'code') {\n      addClass(node, 'code-inline');\n    }\n  }); \n}\n","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Event} Event\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').State} State\n */\n\nimport {factoryDestination} from 'micromark-factory-destination'\nimport {factoryLabel} from 'micromark-factory-label'\nimport {factoryTitle} from 'micromark-factory-title'\nimport {factoryWhitespace} from 'micromark-factory-whitespace'\nimport {markdownLineEndingOrSpace} from 'micromark-util-character'\nimport {push, splice} from 'micromark-util-chunked'\nimport {normalizeIdentifier} from 'micromark-util-normalize-identifier'\nimport {resolveAll} from 'micromark-util-resolve-all'\nimport {codes} from 'micromark-util-symbol/codes.js'\nimport {constants} from 'micromark-util-symbol/constants.js'\nimport {types} from 'micromark-util-symbol/types.js'\nimport { addRemarkExtension, assert } from './helpers'\n\n\n/** @type {Construct} */\nconst labelEnd = {\n  name: 'labelEndCustom',\n  tokenize: tokenizeLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  resolveAll: resolveAllLabelEnd\n}\n\n\n/** @type {Construct} */\nconst resourceConstruct = {tokenize: tokenizeResource}\n/** @type {Construct} */\nconst fullReferenceConstruct = {tokenize: tokenizeFullReference}\n/** @type {Construct} */\nconst collapsedReferenceConstruct = {tokenize: tokenizeCollapsedReference}\n\n/** @type {Resolver} */\nfunction resolveAllLabelEnd(events) {\n  let index = -1\n\n  while (++index < events.length) {\n    const token = events[index][1]\n\n    if (\n      token.type === types.labelImage ||\n      token.type === types.labelLink ||\n      token.type === types.labelEnd ||\n      token.type === 'inlineFootnoteStart' ||\n      token.type === 'inlineFootnoteEnd'\n    ) {\n      // Remove the marker.\n      events.splice(index + 1, (token.type === types.labelImage || token.type === 'inlineFootnoteStart') ? 4 : 2)\n      token.type = types.data\n      index++\n    }\n  }\n\n  return events\n}\n\n/** @type {Resolver} */\nfunction resolveToLabelEnd(events, context) {\n  let index = events.length\n  let offset = 0\n  /** @type {Token} */\n  let token\n  /** @type {number|undefined} */\n  let open\n  /** @type {number|undefined} */\n  let close\n  /** @type {Array<Event>} */\n  let media\n\n  // Find an opening.\n  while (index--) {\n    token = events[index][1]\n\n    if (open) {\n      // If we see another link, or inactive link label, we’ve been here before.\n      if (\n        token.type === types.link ||\n        (token.type === types.labelLink && token._inactive)\n      ) {\n        break\n      }\n\n      // Mark other link openings as inactive, as we can’t have links in\n      // links.\n      if (events[index][0] === 'enter' && token.type === types.labelLink) {\n        token._inactive = true\n      }\n    } else if (close) {\n      if (\n        events[index][0] === 'enter' &&\n        (token.type === types.labelImage || token.type === types.labelLink || token.type === 'inlineFootnoteStart') &&\n        !token._labelEnd_balanced\n      ) {\n        open = index\n\n        if (token.type !== types.labelLink) {\n          offset = 2\n          break\n        }\n      }\n    } else if (token.type === types.labelEnd || token.type === 'inlineFootnoteEnd') {\n      close = index\n    }\n  }\n\n  assert(open !== undefined, '`open` is supposed to be found')\n  assert(close !== undefined, '`close` is supposed to be found')\n\n  const group = {\n    type: events[open][1].type === types.labelLink ? types.link : types.image,\n    start: Object.assign({}, events[open][1].start),\n    end: Object.assign({}, events[events.length - 1][1].end)\n  }\n\n  const label = {\n    type: types.label,\n    start: Object.assign({}, events[open][1].start),\n    end: Object.assign({}, events[close][1].end)\n  }\n\n  const text = {\n    type: types.labelText,\n    start: Object.assign({}, events[open + offset + 2][1].end),\n    end: Object.assign({}, events[close - 2][1].start)\n  }\n\n  media = [\n    ['enter', group, context],\n    ['enter', label, context]\n  ]\n\n  // Opening marker.\n  media = push(media, events.slice(open + 1, open + offset + 3))\n\n  // Text open.\n  media = push(media, [['enter', text, context]])\n\n  // Between.\n  media = push(\n    media,\n    resolveAll(\n      context.parser.constructs.insideSpan.null,\n      events.slice(open + offset + 4, close - 3),\n      context\n    )\n  )\n\n  // Text close, marker close, label close.\n  media = push(media, [\n    ['exit', text, context],\n    events[close - 2],\n    events[close - 1],\n    ['exit', label, context]\n  ])\n\n  // Reference, resource, or so.\n  media = push(media, events.slice(close + 1))\n\n  // Media close.\n  media = push(media, [['exit', group, context]])\n\n  splice(events, open, events.length, media)\n\n  return events\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  const self = this\n  let index = self.events.length\n  /** @type {Token} */\n  let labelStart\n  /** @type {boolean} */\n  let defined\n\n  // Find an opening.\n  while (index--) {\n    if (\n      (self.events[index][1].type === types.labelImage ||\n        self.events[index][1].type === types.labelLink ||\n        self.events[index][1].type === 'inlineFootnoteStart') &&\n      !self.events[index][1]._labelEnd_balanced\n    ) {\n      labelStart = self.events[index][1]\n      break\n    }\n  }\n\n  return start\n\n  /**\n   * Start of label end.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    assert(code === codes.rightSquareBracket, 'expected `]`')\n\n    if (!labelStart) {\n      return nok(code)\n    }\n\n    // It’s a balanced bracket, but contains a link.\n    if (labelStart._inactive) return balanced(code)\n\n    defined = self.parser.defined.includes(\n      normalizeIdentifier(\n        self.sliceSerialize({start: labelStart.end, end: self.now()})\n      )\n    )\n    effects.enter(types.labelEnd)\n    effects.enter(types.labelMarker)\n    effects.consume(code)\n    effects.exit(types.labelMarker)\n    effects.exit(types.labelEnd)\n    return afterLabelEnd\n  }\n\n  /**\n   * After `]`.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterLabelEnd(code) {\n    // Resource (`[asd](fgh)`)?\n    if (code === codes.leftParenthesis) {\n      return effects.attempt(\n        resourceConstruct,\n        ok,\n        defined ? ok : balanced\n      )(code)\n    }\n\n    // Full (`[asd][fgh]`) or collapsed (`[asd][]`) reference?\n    if (code === codes.leftSquareBracket) {\n      return effects.attempt(\n        fullReferenceConstruct,\n        ok,\n        defined\n          ? effects.attempt(collapsedReferenceConstruct, ok, balanced)\n          : balanced\n      )(code)\n    }\n\n    // Shortcut (`[asd]`) reference?\n    return defined ? ok(code) : balanced(code)\n  }\n\n  /**\n   * Done, it’s nothing.\n   *\n   * There was an okay opening, but we didn’t match anything.\n   *\n   * ```markdown\n   * > | [a](b c\n   *        ^\n   * > | [a][b c\n   *        ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function balanced(code) {\n    labelStart._labelEnd_balanced = true\n    return nok(code)\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeResource(effects, ok, nok) {\n  return start\n\n  /**\n   * Before a resource, at `(`.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    assert(code === codes.leftParenthesis, 'expected left paren')\n    effects.enter(types.resource)\n    effects.enter(types.resourceMarker)\n    effects.consume(code)\n    effects.exit(types.resourceMarker)\n    return factoryWhitespace(effects, open)\n  }\n\n  /**\n   * At the start of a resource, after optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === codes.rightParenthesis) {\n      return end(code)\n    }\n\n    return factoryDestination(\n      effects,\n      destinationAfter,\n      nok,\n      types.resourceDestination,\n      types.resourceDestinationLiteral,\n      types.resourceDestinationLiteralMarker,\n      types.resourceDestinationRaw,\n      types.resourceDestinationString,\n      constants.linkResourceDestinationBalanceMax\n    )(code)\n  }\n\n  /**\n   * In a resource, after a destination, before optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function destinationAfter(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, between)(code)\n      : end(code)\n  }\n\n  /**\n   * In a resource, after a destination, after whitespace.\n   *\n   * ```markdown\n   * > | [a](b ) c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function between(code) {\n    if (\n      code === codes.quotationMark ||\n      code === codes.apostrophe ||\n      code === codes.leftParenthesis\n    ) {\n      return factoryTitle(\n        effects,\n        factoryWhitespace(effects, end),\n        nok,\n        types.resourceTitle,\n        types.resourceTitleMarker,\n        types.resourceTitleString\n      )(code)\n    }\n\n    return end(code)\n  }\n\n  /**\n   * In a resource, at the `)`.\n   *\n   * ```markdown\n   * > | [a](b) d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function end(code) {\n    if (code === codes.rightParenthesis) {\n      effects.enter(types.resourceMarker)\n      effects.consume(code)\n      effects.exit(types.resourceMarker)\n      effects.exit(types.resource)\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeFullReference(effects, ok, nok) {\n  const self = this\n\n  return start\n\n  /**\n   * In a reference (full), at the `[`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    assert(code === codes.leftSquareBracket, 'expected left bracket')\n    return factoryLabel.call(\n      self,\n      effects,\n      afterLabel,\n      nok,\n      types.reference,\n      types.referenceMarker,\n      types.referenceString\n    )(code)\n  }\n\n  /**\n   * In a reference (full), after `]`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterLabel(code) {\n    return self.parser.defined.includes(\n      normalizeIdentifier(\n        self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n      )\n    )\n      ? ok(code)\n      : nok(code)\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeCollapsedReference(effects, ok, nok) {\n  return start\n\n  /**\n   * In a reference (collapsed), at the `[`.\n   *\n   * > 👉 **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    assert(code === codes.leftSquareBracket, 'expected left bracket')\n    effects.enter(types.reference)\n    effects.enter(types.referenceMarker)\n    effects.consume(code)\n    effects.exit(types.referenceMarker)\n    return open\n  }\n\n  /**\n   * In a reference (collapsed), at the `]`.\n   *\n   * > 👉 **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *         ^\n   * ```\n   *\n   *  @type {State}\n   */\n  function open(code) {\n    if (code === codes.rightSquareBracket) {\n      effects.enter(types.referenceMarker)\n      effects.consume(code)\n      effects.exit(types.referenceMarker)\n      effects.exit(types.reference)\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\n\n\nexport const labelEndSyntax = {\n  text: {\n    [codes.rightSquareBracket]: labelEnd,\n  }\n};\n\n\n","import { addRemarkExtension } from \"./helpers\";\nimport { labelEndSyntax } from \"./label-end\";\n\n\nexport function modifiedCommonmarkFeatures() {\n  // Disable indented code blocks to not detect indented markdown as code blocks.\n  addRemarkExtension(this, {disable: {null: ['codeIndented']}});\n\n  // Override default labelEnd handler to support parsing nested labels in image captions and footnotes.\n  addRemarkExtension(this, {disable: {null: ['labelEnd']}});\n  addRemarkExtension(this, labelEndSyntax);\n}","\nimport { unified } from 'unified';\nimport remarkParse from 'remark-parse';\nimport remarkRehype from 'remark-rehype';\nimport rehypeStringify from 'rehype-stringify';\nimport rehypeRaw from 'rehype-raw';\nimport remarkStringify from 'remark-stringify';\nimport rehypeSanitize, { defaultSchema } from 'rehype-sanitize';\nimport { merge } from 'lodash';\nimport 'highlight.js/styles/default.css';\n\nimport { remarkFootnotes, remarkToRehypeHandlersFootnotes, rehypeFootnoteSeparator, rehypeFootnoteSeparatorPreview } from './mdext/footnotes.js';\nimport { remarkStrikethrough, remarkTaskListItem } from './mdext/gfm.js';\nimport { rehypeConvertAttrsToStyle, rehypeLinkTargetBlank, rehypeRewriteImageSources, rehypeRewriteFileLinks, rehypeTemplates, rehypeRawFixSelfClosingTags } from './mdext/rehypePlugins.js';\nimport { remarkAttrs, remarkToRehypeAttrs } from './mdext/attrs.js';\nimport { remarkFigure, remarkToRehypeHandlersFigure } from './mdext/image.js';\nimport { remarkTables, remarkTableCaptions, remarkToRehypeHandlersTableCaptions, rehypeTableCaptions } from './mdext/tables.js';\nimport { rehypeReferenceLink, rehypeReferenceLinkPreview } from './mdext/reference.js';\nimport { annotatedTextParse } from './editor/annotatedtext.js';\nimport { remarkTemplateVariables } from './mdext/templates.js';\nimport { remarkTodoMarker } from './mdext/todo.js';\nimport { rehypeHighlightCode } from './mdext/codeHighlight.js';\nimport { modifiedCommonmarkFeatures } from './mdext/modified-commonmark.js';\n\n\nconst rehypeSanitizeSchema = merge({}, defaultSchema, {\n  allowComments: true,\n  clobberPrefix: null,\n  tagNames: ['footnote', 'template', 'ref', 'pagebreak', 'markdown', 'u'].concat(defaultSchema.tagNames),\n  attributes: {\n    '*': ['className', 'style', 'data*', 'v-if', 'v-for', 'v-bind', 'v-on'].concat(defaultSchema.attributes['*']),\n    'a': ['download'].concat(defaultSchema.attributes['a']),\n    'ref': ['to', ':to'],\n    'markdown': ['text', ':text'],\n  }\n});\n\n\nexport function markdownParser() {\n  return unified()\n    .use(modifiedCommonmarkFeatures)\n    .use(remarkFootnotes)\n    .use(remarkTables)\n    .use(remarkTableCaptions)\n    .use(remarkStrikethrough)\n    .use(remarkTaskListItem)\n    .use(remarkTemplateVariables)\n    .use(remarkAttrs)\n    .use(remarkFigure)\n    .use(remarkTodoMarker);\n}\n\n\nexport function formatMarkdown(text) {\n  const md = markdownParser()\n    .use(remarkParse)\n    .use(remarkStringify, {\n      fence: '`',\n      fences: true,\n      bullet: '*',\n      strong: '*',\n      emphasis: '_',\n    });\n  return md.processSync(text).value;\n}\n\nexport function renderMarkdownToHtml(text, {preview = false, rewriteFileSource = null, rewriteReferenceLink = null} = {}) {\n  const md = markdownParser()\n      .use(remarkParse)\n      .use(remarkRehype, { \n        allowDangerousHtml: true, \n        footnoteLabelTagName: 'h4',\n        handlers: {\n          ...(preview ? {} : remarkToRehypeHandlersFootnotes),\n          ...remarkToRehypeHandlersFigure,\n          ...remarkToRehypeHandlersTableCaptions,\n          ...remarkToRehypeAttrs,\n        }\n      })\n      .use(rehypeTableCaptions)\n      .use(rehypeHighlightCode)\n      .use(rehypeRawFixSelfClosingTags)\n      .use(rehypeRaw)\n      .use(rehypeConvertAttrsToStyle)\n      .use(rehypeTemplates)\n      .use(preview ? rehypeFootnoteSeparatorPreview : rehypeFootnoteSeparator)\n      .use(preview ? rehypeReferenceLinkPreview : rehypeReferenceLink, {rewriteReferenceLink})\n      .use(rehypeRewriteImageSources, {rewriteImageSource: rewriteFileSource})\n      .use(rehypeRewriteFileLinks, {rewriteFileUrl: rewriteFileSource})\n      .use(rehypeLinkTargetBlank)\n      .use(rehypeSanitize, rehypeSanitizeSchema)\n      .use(rehypeStringify);\n\n    // const mdAst = md.parse(text);\n    // console.log('MarkdownAST', mdAst);\n    // const rehypeAst = md.runSync(mdAst);\n    // console.log('RehypeAST', rehypeAst);\n    // const mdHtml = md.stringify(rehypeAst);\n    // console.log('HTML', mdHtml);\n    const mdHtml = md.processSync(text).value;\n    return mdHtml;\n}\n\n\nexport function markdownToAnnotatedText(text) {\n  const md = markdownParser()\n    .use(annotatedTextParse);\n  const at = md.parse(text);\n  // console.log('AnnotatedText', at);\n  return at;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"preview\",domProps:{\"innerHTML\":_vm._s(_vm.renderedMarkdown)}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillScreenHeight.vue?vue&type=style&index=0&id=4ae993f5&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"112ac57b\", content, true, {\"sourceMap\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolbarButton.vue?vue&type=style&index=0&id=5dedde00&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"07404f30\", content, true, {\"sourceMap\":false});","import {parse} from 'micromark/lib/parse.js';\nimport {preprocess} from 'micromark/lib/preprocess.js';\nimport {postprocess} from 'micromark/lib/postprocess.js';\nimport {assert} from '../mdext/helpers.js';\n\n\nexport function parseMicromarkEvents(text, config) {\n  return postprocess(parse(config).document().write(preprocess()(text, undefined, true)));\n}\n\nexport function micromarkEventsToTree(text, events) {\n  // console.log('micromark events', events);\n\n  // build enter/exit tree of nested elements\n  const tree = [];\n  const stack = [];\n  for (const [action, node, context] of events) {\n    if (action === 'enter') {\n      const treeNode = {\n        enter: node,\n        exit: null,  \n        children: [],\n\n        type: node.type,\n        text: null,\n      };\n      if (stack.length > 0) {\n        stack[stack.length - 1].children.push(treeNode);\n      } else {\n        tree.push(treeNode);\n      }\n      stack.push(treeNode);\n    } else if (action === 'exit') {\n      const treeNode = stack[stack.length - 1];\n      assert(treeNode.type == node.type);\n\n      treeNode.exit = node;\n      treeNode.text = text.slice(treeNode.enter.start.offset, treeNode.exit.end.offset);\n      stack.splice(stack.length - 1, 1);\n    }\n  }\n  // console.log('micromark tree', tree);\n  return tree;\n}\n","import {EditorSelection} from \"@codemirror/state\"\n\n\nexport function linesInRange(doc, range) {\n  const out = [];\n  const startLine = doc.lineAt(range.from).number;\n  const endLine = doc.lineAt(range.to).number;\n  for (let i = startLine; i <= endLine; i++) {\n    out.push(doc.line(i));\n  }\n  return out;\n}\n\nexport function getChildren(n) {\n  const out = [];\n  for (let c = n.firstChild; c; c = c.nextSibling) {\n    out.push(c);\n  }\n  return out;\n}\n\nexport function intersectsRange(range, node) {\n  return range.to >= node.from && node.to >= range.from;\n}\n\nexport function iterateRange(tree, range, cb) {\n  iterateChildren(tree.topNode);\n\n  function iterateChildren(n) {\n    if (!intersectsRange(range, n)) {\n      return;\n    }\n    cb(n);\n    for (const c of getChildren(n)) {\n      iterateChildren(c);\n    }\n  }\n}\n\nexport function getIntersectionNodes(tree, range, predicate) {\n  const nodes = [];\n  iterateRange(tree, range, n => {\n    if (predicate(n)) {\n      nodes.push(n);\n    }\n  });\n  return nodes;\n}\n\nfunction clamp(val, min, max) {\n  return Math.max(min, Math.min(max, val));\n}\n\n\nexport function moveRangeDelete(moveRange, range, change) {\n  const moveStart = clamp(change.from - range.from, change.from - change.to, 0);\n  const moveEnd = clamp(change.from - range.to, change.from - change.to, 0);\n  return EditorSelection.range(\n    moveRange.from + moveStart,\n    moveRange.to + moveEnd\n  );\n}\n\n\nexport function moveRangeInsert(moveRange, range, change) {\n  return EditorSelection.range(\n    moveRange.from + ((range.from > change.from) ? change.insert.length : 0),\n    moveRange.to + ((range.to > change.from) ? change.insert.length : 0),\n  );\n}","import {EditorSelection} from \"@codemirror/state\"\nimport {syntaxTree} from \"@codemirror/language\"\nimport { markdownLanguage } from \"./language\";\nimport {linesInRange, getChildren, intersectsRange, getIntersectionNodes, moveRangeDelete, moveRangeInsert} from './codemirror-utils';\n\n\nclass Context {\n  constructor(\n    node,\n    from,\n    to,\n    spaceBefore,\n    spaceAfter,\n    type,\n    item\n  ) {\n    this.node = node;\n    this.from = from;\n    this.to = to;\n    this.spaceBefore = spaceBefore;\n    this.spaceAfter = spaceAfter;\n    this.type = type;\n    this.item = item;\n  }\n\n  blank(maxWidth = null, trailing = true) {\n    let result = this.spaceBefore;\n    if (this.node.name === \"blockQuote\") { \n      result += \">\";\n    }\n    if (maxWidth !== null) {\n      while (result.length < maxWidth) {\n        result += \" \";\n      }\n      return result;\n    } else {\n      for (let i = this.to - this.from - result.length - this.spaceAfter.length; i > 0; i--) {\n        result += \" \";\n      }\n      return result + (trailing ? this.spaceAfter : \"\");\n    }\n  }\n\n  marker(doc, add) {\n    let number = this.node.name == \"listOrdered\" ? String((+itemNumber(this.item, doc)[2] + add)) : \"\"\n    return this.spaceBefore + number + this.type + this.spaceAfter\n  }\n}\n\nfunction getContext(selectedNode, doc) {\n  let nodes = []\n  for (let cur = selectedNode; cur && cur.name != \"document\"; cur = cur.parent) {\n    if (cur.name == \"listItem\" || cur.name == \"blockQuote\")\n      nodes.push(cur)\n  }\n  let context = [];\n  for (let i = nodes.length - 1; i >= 0; i--) {\n    let node = nodes[i], match;\n    let line = doc.lineAt(node.from), startPos = node.from - line.from;\n    if (node.name == \"blockQuote\" && (match = /^[ \\t]*>( ?)/.exec(line.text.slice(startPos)))) {\n      context.push(new Context(node, startPos, startPos + match[0].length, \"\", match[1], \">\", null));\n    } else if (node.name == \"listItem\" && node.parent.name == \"listOrdered\" &&\n               (match = /^([ \\t]*)\\d+([.)])([ \\t]*)/.exec(line.text.slice(startPos)))) {\n      let after = match[3], len = match[0].length\n      if (after.length >= 4) { after = after.slice(0, after.length - 4); len -= 4 }\n      context.push(new Context(node.parent, startPos, startPos + len, match[1], after, match[2], node));\n    } else if (node.name == \"listItem\" && node.parent.name == \"listUnordered\" &&\n               (match = /^([ \\t]*)([-+*])([ \\t]{1,4}\\[[ xX]\\])?([ \\t]+)/.exec(line.text.slice(startPos)))) {\n      let after = match[4], len = match[0].length\n      if (after.length > 4) { after = after.slice(0, after.length - 4); len -= 4 }\n      let type = match[2]\n      if (match[3]) type += match[3].replace(/[xX]/, ' ')\n      context.push(new Context(node.parent, startPos, startPos + len, match[1], after, type, node));\n    }\n  }\n  return context\n}\n\nfunction itemNumber(item, doc) {\n  return /^(\\s*)(\\d+)(?=[.)])/.exec(doc.sliceString(item.from, item.from + 10))\n}\n\nfunction renumberList(after, doc, changes, offset = 0) {\n  for (let prev = -1, node = after;;) {\n    if (node.name == \"listItem\") {\n      let m = itemNumber(node, doc)\n      let number = +m[2]\n      if (prev >= 0) {\n        if (number != prev + 1) return\n        changes.push({from: node.from + m[1].length, to: node.from + m[0].length, insert: String(prev + 2 + offset)})\n      }\n      prev = number\n    }\n    let next = node.nextSibling\n    if (!next) break\n    node = next\n  }\n}\n\n/// This command, when invoked in Markdown context with cursor\n/// selection(s), will create a new line with the markup for\n/// blockquotes and lists that were active on the old line. If the\n/// cursor was directly after the end of the markup for the old line,\n/// trailing whitespace and list markers are removed from that line.\n///\n/// The command does nothing in non-Markdown context, so it should\n/// not be used as the only binding for Enter (even in a Markdown\n/// document, HTML and code regions might use a different language).\nexport const insertNewlineContinueMarkup = ({state, dispatch}) => {\n  let tree = syntaxTree(state), {doc} = state\n  let dont = null, changes = state.changeByRange(range => {\n    if (!range.empty || !markdownLanguage.isActiveAt(state, range.from)) return dont = {range}\n    let pos = range.from, line = doc.lineAt(pos)\n    let context = getContext(tree.resolveInner(pos, -1), doc)\n    while (context.length && context[context.length - 1].from > pos - line.from) context.pop()\n    if (!context.length) return dont = {range}\n    let inner = context[context.length - 1]\n    if (inner.to - inner.spaceAfter.length > pos - line.from) return dont = {range}\n\n    let emptyLine = pos >= (inner.to - inner.spaceAfter.length) && !/\\S/.test(line.text.slice(inner.to))\n    // Empty line in list\n    if (inner.item && emptyLine) {\n      let next = context.length > 1 ? context[context.length - 2] : null\n      let delTo, insert = \"\"\n      if (next && next.item) { // Re-add marker for the list at the next level\n        delTo = line.from + next.from\n        insert = next.marker(doc, 1)\n      } else {\n        delTo = line.from + (next ? next.to : 0)\n      }\n      let changes = [{from: delTo, to: pos, insert}]\n      if (inner.node.name == \"listOrdered\") {\n        renumberList(inner.item, doc, changes, -2);\n      }\n      if (next && next.node.name == \"listOrdered\") {\n        renumberList(next.item, doc, changes);\n      }\n      return {range: EditorSelection.cursor(delTo + insert.length), changes}\n    }\n\n    if (inner.node.name == \"blockQuote\" && emptyLine && line.from) {\n      let prevLine = doc.lineAt(line.from - 1), quoted = />\\s*$/.exec(prevLine.text)\n      // Two aligned empty quoted lines in a row\n      if (quoted && quoted.index == inner.from) {\n        let changes = state.changes([{from: prevLine.from + quoted.index, to: prevLine.to},\n                                     {from: line.from + inner.from, to: line.to}])\n        return {range: range.map(changes), changes}\n      }\n    }\n\n    let changes = []\n    if (inner.node.name == \"listOrdered\") {\n      renumberList(inner.item, doc, changes);\n    }\n    let continued = inner.item && inner.item.from < line.from;\n    let insert = \"\";\n    // If not dedented\n    if (!continued || /^[\\s\\d.)\\-+*>]*/.exec(line.text)[0].length >= inner.to) {\n      for (let i = 0, e = context.length - 1; i <= e; i++) {\n        insert += i == e && !continued ? context[i].marker(doc, 1)\n          : context[i].blank(i < e ? context[i + 1].from - insert.length : null);\n      }\n    }\n    let from = pos;\n    while (from > line.from && /\\s/.test(line.text.charAt(from - line.from - 1))) { \n      from--; \n    }\n    insert = state.lineBreak + insert;\n    changes.push({from, to: pos, insert});\n    return {range: EditorSelection.cursor(from + insert.length), changes};\n  })\n  if (dont) return false\n  dispatch(state.update(changes, {scrollIntoView: true, userEvent: \"input\"}))\n  return true\n}\n\n\n\nfunction isMark(node) {\n  return node.name == \"blockQuotePrefix\" || node.name == \"listItemPrefix\"\n}\n\nfunction contextNodeForDelete(tree, pos) {\n  let node = tree.resolveInner(pos, -1), scan = pos\n  if (isMark(node)) {\n    scan = node.from\n    node = node.parent\n  }\n  for (let prev; prev = node.childBefore(scan);) {\n    if (isMark(prev)) {\n      scan = prev.from\n    } else if (prev.name == \"listOrdered\" || prev.name == \"listUnordered\") {\n      node = prev.lastChild\n      scan = node.to\n    } else {\n      break\n    }\n  }\n  return node;\n}\n\n\n/// This command will, when invoked in a Markdown context with the\n/// cursor directly after list or blockquote markup, delete one level\n/// of markup. When the markup is for a list, it will be replaced by\n/// spaces on the first invocation (a further invocation will delete\n/// the spaces), to make it easy to continue a list.\n///\n/// When not after Markdown block markup, this command will return\n/// false, so it is intended to be bound alongside other deletion\n/// commands, with a higher precedence than the more generic commands.\nexport const deleteMarkupBackward = ({state, dispatch}) => {\n  let tree = syntaxTree(state)\n  let dont = null, changes = state.changeByRange(range => {\n    let pos = range.from, {doc} = state\n    if (range.empty && markdownLanguage.isActiveAt(state, range.from)) {\n      let line = doc.lineAt(pos)\n      let context = getContext(contextNodeForDelete(tree, pos), doc)\n      if (context.length) {\n        let inner = context[context.length - 1]\n        let spaceEnd = inner.to - inner.spaceAfter.length + (inner.spaceAfter ? 1 : 0)\n        // Delete extra trailing space after markup\n        if (pos - line.from > spaceEnd && !/\\S/.test(line.text.slice(spaceEnd, pos - line.from)))\n          return {range: EditorSelection.cursor(line.from + spaceEnd),\n                  changes: {from: line.from + spaceEnd, to: pos}}\n        if (pos - line.from == spaceEnd &&\n            // Only apply this if we're on the line that has the\n            // construct's syntax, or there's only indentation in the\n            // target range\n            (!inner.item || line.from <= inner.item.from || !/\\S/.test(line.text.slice(0, inner.to)))) {\n          let start = line.from + inner.from\n          // Replace a list item marker with blank space\n          if (inner.item && inner.node.from < inner.item.from && /\\S/.test(line.text.slice(inner.from, inner.to))) {\n            return {range, changes: {from: start, to: line.from + inner.to, insert: inner.blank(inner.to - inner.from)}};\n          }\n          // Delete one level of indentation\n          if (start < pos) {\n            return {range: EditorSelection.cursor(start), changes: {from: start, to: pos}};\n          }\n        }\n      }\n    }\n    return dont = {range}\n  })\n  if (dont) return false\n  dispatch(state.update(changes, {scrollIntoView: true, userEvent: \"delete\"}))\n  return true\n}\n\n\nexport function isTypeInSelection(state, type) {\n  let tree = syntaxTree(state);\n  return state.selection.ranges.some(range => getIntersectionNodes(tree, range, n => n.name === type).length > 0);\n}\n\n\nfunction toggleMarkdownAction({state, dispatch}, { isInSelection, enable, disable }) {\n  const tree = syntaxTree(state);\n\n  const changes = state.changeByRange(range => {\n    if (!markdownLanguage.isActiveAt(state, range.from)) {\n      return {range};\n    }\n\n    const foundNodes = getIntersectionNodes(tree, range, isInSelection);\n    if (foundNodes.length > 0) {\n      if (disable) {\n        return disable(range, foundNodes);\n      } else {\n        return {range};\n      }\n    } else {\n      if (enable) {\n        return enable(range, tree);\n      } else {\n        return {range};\n      }\n    }\n  });\n\n  dispatch(state.update(changes, {scrollIntoView: true, userEvent: 'input'}));\n  return true;\n}\n\n\nfunction toggleMarkerType({state, dispatch}, { type, markerTypes = [], startMarker = null, endMarker = null}) {\n  return toggleMarkdownAction({state, dispatch}, {\n    isInSelection: n => {\n      return n.name === type || (n.name === 'data' && state.doc.sliceString(n.from, n.to) === startMarker + endMarker)\n    },\n    enable: (range) => {\n      if (range.empty) {\n        const insertText = 'text';\n        return {\n          range: EditorSelection.range(range.from + startMarker.length, range.to + startMarker.length + insertText.length),\n          changes: [{from: range.from, insert: startMarker + insertText + endMarker}],\n        };\n      } else {\n        // insert bold markers at start and end of selection\n        return {\n          range: EditorSelection.range(range.from + startMarker.length, range.to + startMarker.length),\n          changes: [\n            {from: range.from, insert: startMarker},\n            {from: range.to, insert: endMarker},\n        ]};\n      }\n    },\n    disable: (range, foundNodes) => {\n      // remove bold markers of all intersecting bold nodes\n      const removeMarkers = foundNodes\n        .flatMap(n => getChildren(n).concat(n))\n        .filter(c => markerTypes.includes(c.name) || (c.name === 'data' && state.doc.sliceString(c.from, c.to) === startMarker + endMarker));\n      let newRange = range;\n      const changes = [];\n      for (const cn of removeMarkers) {\n        const change = {from: cn.from, to: cn.to};\n        newRange = moveRangeDelete(newRange, range, change)\n        changes.push(change);\n      }\n      return { range: newRange, changes };\n    }\n  });\n}\n\nexport function toggleStrong({state, dispatch}) {\n  return toggleMarkerType({state, dispatch}, {\n    type: 'strong',\n    markerTypes: ['strongSequence'],\n    startMarker: '**',\n    endMarker: '**'\n  });\n}\n\nexport function toggleEmphasis({state, dispatch}) {\n  return toggleMarkerType({state, dispatch}, {\n    type: 'emphasis',\n    markerTypes: ['emphasisSequence'],\n    startMarker: '_',\n    endMarker: '_',\n  });\n}\n\nexport function toggleStrikethrough({state, dispatch}) {\n  return toggleMarkerType({state, dispatch}, {\n    type: 'strikethrough',\n    markerTypes: ['strikethroughSequence'],\n    startMarker: '~~',\n    endMarker: '~~'\n  });\n}\n\nexport function toggleListUnordered({state, dispatch}) {\n  return toggleMarkdownAction({state, dispatch}, {\n    isInSelection: n => n.name === 'listUnordered',\n    enable: (range, tree) => {\n      // Add marker to start of each line\n      // If line is a listItem of an listOrdered: replace the marker\n      const changes = [];\n      let newRange = range;\n      for (const line of linesInRange(state.doc, range)) {\n        const listItemNumber = getIntersectionNodes(tree, line, n => n.name === 'listItem' && n.parent.name === 'listOrdered')\n          .flatMap(n => getChildren(n))\n          .filter(n => n.name === 'listItemPrefix')\n          .find(n => intersectsRange(line, n));\n        \n        if (listItemNumber) {\n          const change = {from: listItemNumber.from, to: listItemNumber.to, insert: '* '};\n          newRange = moveRangeInsert(moveRangeDelete(newRange, range, change), range, change);\n          changes.push(change);\n        } else {\n          const change = {from: line.from, insert: '* '};\n          newRange = moveRangeInsert(newRange, range, change);\n          changes.push(change);\n        }\n      }\n      return {\n        range: newRange,\n        changes,\n      };\n    },\n    disable: (range, foundNodes) => {\n      const removeMarkers = foundNodes\n        .flatMap(n => getChildren(n))  // Get all listItems\n        .filter(i => intersectsRange(range, i))  // Get selected listItems\n        .flatMap(n => getChildren(n))\n        .filter(n => n.name === 'listItemPrefix');\n      let newRange = range;\n      const changes = [];\n      for (const cn of removeMarkers) {\n        const change = {from: cn.from, to: cn.to};\n        newRange = moveRangeDelete(newRange, range, change)\n        changes.push(change);\n      }\n      return { range: newRange, changes };\n    }\n  });\n}\n\nexport function toggleListOrdered({state, dispatch}) {\n  return toggleMarkdownAction({state, dispatch}, {\n    isInSelection: n => n.name === 'listOrdered',\n    enable: (range, tree) => {\n      // Add marker to start of each line\n      // If line is a listItem of an listUnordered: replace the marker\n      const changes = [];\n      let newRange = range;\n      let itemNumber = 0;\n      for (const line of linesInRange(state.doc, range)) {\n        itemNumber += 1;\n        const listItemNumber =  itemNumber + '. ';\n\n        const listItemBullet = getIntersectionNodes(tree, line, n => n.name === 'listItem' && n.parent.name === 'listUnordered')\n          .flatMap(n => getChildren(n))\n          .filter(n => n.name === 'listItemPrefix')\n          .find(n => intersectsRange(line, n));\n        \n        if (listItemBullet) {\n          const change = {from: listItemBullet.from, to: listItemBullet.to, insert: listItemNumber};\n          newRange = moveRangeInsert(moveRangeDelete(newRange, range, change), range, change);\n          changes.push(change);\n        } else {\n          const change = {from: line.from, insert: listItemNumber};\n          newRange = moveRangeInsert(newRange, range, change);\n          changes.push(change);\n        }\n      }\n      return {\n        range: newRange,\n        changes,\n      };\n    },\n    disable: (range, foundNodes) => {\n      const removeMarkers = foundNodes\n        .flatMap(n => getChildren(n))  // Get all listItems\n        .filter(i => intersectsRange(range, i))  // Get selected listItems\n        .flatMap(n => getChildren(n))\n        .filter(n => n.name === 'listItemPrefix');\n      let newRange = range;\n      const changes = [];\n      for (const cn of removeMarkers) {\n        const change = {from: cn.from, to: cn.to};\n        newRange = moveRangeDelete(newRange, range, change)\n        changes.push(change);\n      }\n      return { range: newRange, changes };\n    }\n  });\n}\n\n\nexport function toggleLink({state, dispatch}) {\n  return toggleMarkdownAction({state, dispatch}, {\n    isInSelection: n => n.name === 'link',\n    enable: (range) => {\n      return {\n        range: EditorSelection.range(range.from + 1, range.to + 1),\n        changes: [\n          {from: range.from, insert: '['},\n          {from: range.to, insert: '](' + (range.from === range.to ? 'https://' : state.doc.sliceString(range.from, range.to)) + ')'},\n        ]\n      };\n    },\n    disable: (range, foundNodes) => {\n      // Remove links only when a range is inside the link label\n      const linksToRemove = foundNodes\n        .filter(n => \n          getChildren(n)\n          .flatMap(c => getChildren(c))\n          .filter(c => c.name === 'labelText' && c.parent.name === 'label' && range.from >= c.from && range.to <= c.to)\n          .length === 1)\n        .flatMap(n => getChildren(n).flatMap(c => getChildren(c)))\n        .filter(c => !(c.name === 'labelText' && c.parent.name === 'label'));\n      const changes = [];\n      let newRange = range;\n      for (const n of linksToRemove) {\n        const change = {from: n.from, to: n.to};\n        newRange = moveRangeDelete(newRange, range, change);\n        changes.push(change);\n      }\n      return {\n        range: newRange,\n        changes,\n      };\n    }\n  });\n}\n\nexport function insertCodeBlock({state, dispatch}) {\n  return toggleMarkdownAction({state, dispatch}, {\n    isInSelection: n => n.name === 'codeFenced',\n    enable: (range) => {\n      // insert \"```\\n\" at the start of the first selected line and \"\\n```\" at the end of the last selected line\n      const codeBlockStart = state.lineBreak + '```' + state.lineBreak;\n      const codeBlockEnd = state.lineBreak + '```';\n      return {\n        range: EditorSelection.range(range.from + codeBlockStart.length, range.to + codeBlockStart.length),\n        changes: [\n          {from: state.doc.lineAt(range.from).from, insert: codeBlockStart},\n          {from: state.doc.lineAt(range.to).to, insert: codeBlockEnd},\n        ],\n      };\n    },\n  })\n}\n\nexport function insertTable({state, dispatch}) {\n  return toggleMarkdownAction({state, dispatch}, {\n    isInSelection: n => n.name === 'table',\n    enable: (range) => {\n      return {\n        range,\n        changes: [{\n          from: state.doc.lineAt(range.to).to, \n          insert: state.lineBreak +\n                  '| Column1 | Column2 | Column3 |' + state.lineBreak +\n                  '| ------- | ------- | ------- |' + state.lineBreak +\n                  '| Text    | Text    | Text    |' + state.lineBreak + \n                  state.lineBreak,\n        }],\n      };\n    }\n  });\n}\n\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=0eb62b93&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"76a20e68\", content, true, {\"sourceMap\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=style&index=0&id=0469da19&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"b251e776\", content, true, {\"sourceMap\":false});","import { micromarkEventsToTree, parseMicromarkEvents } from \"./micromark-utils\";\nimport { LanguageSupport, Language, defineLanguageFacet, languageDataProp, indentNodeProp } from '@codemirror/language';\nimport {html} from \"@codemirror/lang-html\"\nimport {Prec} from \"@codemirror/state\";\nimport { keymap } from '@codemirror/view';\nimport { Parser, Tree, NodeSet, NodeType, parseMixed } from '@lezer/common';\nimport {styleTags, tags as t} from \"@lezer/highlight\"\nimport { markdownParser } from \"..\";\nimport { tags } from \"./highlight\";\nimport { insertNewlineContinueMarkup, deleteMarkupBackward, toggleStrong, toggleEmphasis } from \"./commands\";\n\nconst markdownLanguageFacet = defineLanguageFacet({block: {open: '<!--', close: '-->'}});\n\nconst markdownHighlighting = styleTags({\n  \"strong/...\": t.strong,\n  \"emphasis/...\": t.emphasis,\n  \"strikethrough/...\": t.strikethrough,\n  \"codeText/...\": tags.inlinecode,\n  \"codeFenced/...\": tags.codeblock,\n  \"table/...\": tags.table,\n  \"blockQuote/...\": t.quote,\n  \"heading1/...\": t.heading1,\n  \"heading2/...\": t.heading2,\n  \"heading3/...\": t.heading3,\n  \"heading4/...\": t.heading4,\n  \"heading5/...\": t.heading5,\n  \"heading6/...\": t.heading6,\n  \"link/...\": t.link,\n  \"image/...\": t.link,\n  \"textAttributes/...\": t.link,\n  \"resource/...\": t.url,\n  \"inlineFootnote/...\": tags.footnote, \n  \"templateVariable\": tags.inlinecode,\n  \"todo/...\": tags.todo,\n});\nconst nodeTypes = [\n  'strong', 'strongSequence', 'emphasis', 'emphasisSequence', 'strikethrough', 'strikethroughSequence', \n  'codeText', 'codeFenced', 'table', 'blockQuote',\n  'heading1', 'heading2', 'heading3', 'heading4', 'heading5', 'heading6',\n  'link', 'image', 'resource', 'label', 'labelMarker', 'labelText',\n  'inlineFootnote', 'textAttributes', 'templateVariable', 'todo',\n  'htmlText', 'htmlFlow',\n  'data', 'paragraph', 'content', 'document', 'lineEnding',\n  'listOrdered', 'listUnordered', 'listItem', 'listItemPrefix', 'blockQuotePrefix', 'listItemMarker', \n];\nconst nodeSet = new NodeSet([NodeType.none].concat(nodeTypes.map((type, idx) => NodeType.define({id: idx + 1, name: type}))))\n  .extend(markdownHighlighting)\n  .extend(languageDataProp.add({ document: markdownLanguageFacet }))\n  .extend(indentNodeProp.add({ document: () => null }));\n\n\nfunction modifySyntaxTree(tree) {\n  visitTree(tree);\n  return tree;\n\n  function visitTree(t) {\n    for (const n of t) {\n      visitNode(n);\n      if ((n.children?.length || 0) > 0) {\n        visitTree(n.children);\n      }\n    }\n  }\n  function visitNode(n) {\n    // Add ListItem nodes\n    if (['listOrdered', 'listUnordered'].includes(n.type)) {\n      let listItems = [];\n      let currentListItem = [];\n      for (const c of n.children) {\n        if (c.type === 'listItemPrefix') {\n          addListItem();\n        }\n        currentListItem.push(c);\n      }\n      addListItem();\n\n      function addListItem() {\n        if (currentListItem.length > 0) {      \n          const info = {\n            type: 'listItem',\n            start: currentListItem[0].enter.start,\n            end: currentListItem.slice(-1)[0].exit.end,\n          };\n\n          listItems.push({\n            type: 'listItem', \n            enter: info,\n            exit: info,\n            children: currentListItem,\n          });\n          currentListItem = [];\n        }\n      }\n\n      if (listItems.length > 0) {\n        n.children = listItems;\n      }\n    }\n  }\n}\n\nfunction micromarkToLezerSyntaxTree(text, events) {\n  const tree = modifySyntaxTree(micromarkEventsToTree(text, events));\n  // console.log('markdown syntax tree', tree);\n  \n  function toBuffer(node) {\n    const buffer = [];\n    for (const c of node.children || []) {\n      buffer.push(...toBuffer(c));\n    }\n    let nodeId = nodeSet.types.find(t => t.name === node.enter.type);\n    if (node.type === 'atxHeading' && node.children.length >= 1 && node.children[0].type === 'atxHeadingSequence') {\n      nodeId = nodeSet.types.find(t => t.name === 'heading' + node.children[0].text.length || 0);\n    }\n    \n    buffer.push((nodeId || NodeType.none).id, node.enter.start.offset, node.enter.end.offset, 4 + buffer.length);\n    return buffer;\n  }\n\n  return Tree.build({\n    buffer: tree.length > 0 ? toBuffer({children: tree, enter: {type: 'document', start: tree[0].enter.start, end: tree.slice(-1)[0].enter.end}}) : [],\n    nodeSet: nodeSet,\n    topID: nodeSet.types.find(t => t.name === 'document').id,\n  });\n}\n\n\nexport function lezerSyntaxTreeParse() {\n  const micromarkExtensions = this.data('micromarkExtensions') || [];\n  this.Parser = parser;\n\n  function parser(text) {\n    const events = parseMicromarkEvents(text, {extensions: micromarkExtensions});\n    return micromarkToLezerSyntaxTree(text, events);\n  }\n}\n\n\nclass BlockContext {\n  constructor(parser, input, fragments, ranges) {\n    this.parser = parser;\n    this.input = input;\n    this.fragments = fragments;\n    this.ranges = ranges;\n    this.stoppedAt = null;\n  }\n  \n  advance() {\n    // TODO: support incremental parsing: only parse current (and sourrounding?) blocks to increase performance\n    // test performance:\n    // * ~1ms: very short text\n    // * 10-20ms: longer md document with many costructs\n    // * 10-20ms: long text, no markup\n    // * ~30-100ms: https://raw.githubusercontent.com/toptensoftware/markdowndeep/master/Backup/MarkdownDeepBenchmark/benchmark/markdown-example-long-2.text\n    return markdownParser()\n    .use(lezerSyntaxTreeParse)\n    .parse(this.input.read(0, this.input.length));\n  }\n\n  get parsedPos() {\n    return this.input.length;\n  }\n\n  stopAt(pos) {\n    this.stoppedAt = pos;\n  }\n\n}\n\n\nclass MarkdownParser extends Parser {\n  createParse(input, fragments, ranges) {\n    const mdParser = new BlockContext(this, input, fragments, ranges);\n    return parseMixed((node, input) => {\n      if (['htmlText', 'htmlFlow'].includes(node.name)) {\n        return {parser: htmlLanguage.language.parser, overlay: [{from: node.from, to: node.to}]}\n      }\n      return null;\n    })(mdParser, input, fragments, ranges);\n  }\n}\n\nconst htmlLanguage = html({matchClosingTags: false});\n\nexport const markdownLanguage = new Language(\n  markdownLanguageFacet, \n  new MarkdownParser()\n);\n\nexport function markdown() {\n  return new LanguageSupport(markdownLanguage, [\n    Prec.high(keymap.of([\n      {key: 'Enter', run: insertNewlineContinueMarkup},\n      {key: 'Backspace', run: deleteMarkupBackward},\n    ])),\n    keymap.of([\n      {key: 'Mod-b', run: toggleStrong},\n      {key: 'Mod-i', run: toggleEmphasis},\n    ])\n  ]);\n}\n","import { syntaxTree } from \"@codemirror/language\";\nimport { RangeSetBuilder } from \"@codemirror/state\";\nimport { Decoration, ViewPlugin } from \"@codemirror/view\";\nimport { tags as t, Tag, tagHighlighter } from \"@lezer/highlight\";\nimport { linesInRange } from \"./codemirror-utils\";\n\nexport const tags = {\n  codeblock: Tag.define(),\n  inlinecode: Tag.define(),\n  footnote: Tag.define(),\n  table: Tag.define(),\n  todo: Tag.define(),\n};\n\n      \nexport const markdownHighlightStyle = tagHighlighter([\n  {tag: t.heading1, class: 'tok-h1'},\n  {tag: t.heading2, class: 'tok-h2'},\n  {tag: t.heading3, class: 'tok-h3'},\n  {tag: t.heading4, class: 'tok-h4'},\n  {tag: t.heading5, class: 'tok-h5'},\n  {tag: t.heading6, class: 'tok-h6'},\n  {tag: t.strong, class: 'tok-strong'},\n  {tag: t.emphasis, class: 'tok-emphasis'},\n  {tag: t.strikethrough, class: 'tok-strikethrough'},\n  {tag: t.link, class: 'tok-link'},\n  {tag: t.url, class: 'tok-url'},\n  {tag: t.quote, class: 'tok-quote'},\n\n  {tag: tags.inlinecode, class: 'tok-inlinecode'},\n  {tag: tags.table, class: 'tok-table'},\n  {tag: tags.footnote, class: 'tok-footnote'},\n  {tag: tags.todo, class: 'tok-todo'},\n\n  {tag: t.tagName, class: 'tok-tagname'},\n  {tag: t.angleBracket, class: 'tok-anglebracket'},\n  {tag: t.attributeName, class: 'tok-attributename'},\n  {tag: t.attributeValue, class: 'tok-attributevalue'},\n  {tag: t.comment, class: 'tok-comment'},\n]);\n\n\n// https://discuss.codemirror.net/t/how-to-define-highlighting-styles-for-blocks/4029\nexport const markdownHighlightCodeBlocks = ViewPlugin.fromClass(class {\n  decorations = Decoration.none;\n\n  constructor(view) {\n    this.updateDecorations(view);\n  }\n\n  update(update) {\n    this.updateDecorations(update.view);\n  }\n\n  updateDecorations(view) {\n    let builder = new RangeSetBuilder();\n    syntaxTree(view.state).iterate({\n      enter: (n) => {\n        if (n.name === 'codeFenced') {\n          for (const l of linesInRange(view.state.doc, n)) {\n            builder.add(l.from, l.from, Decoration.line({class: 'tok-codeblock'}));\n          }    \n        }\n      }\n    })\n    this.decorations = builder.finish();\n  }\n}, {decorations: v => v.decorations});","import { Compartment, StateEffect } from '@codemirror/state';\n\nexport function createEditorCompartment(view) {\n  const compartment = new Compartment();\n  const run = (extension) => {\n    compartment.get(view.state)\n      ? view.dispatch({ effects: compartment.reconfigure(extension) }) // reconfigure\n      : view.dispatch({ effects: StateEffect.appendConfig.of(compartment.of(extension)) }) // inject\n  }\n  return { compartment, run }\n}\n\nexport function createEditorExtensionToggler(view, extension) {\n  const { compartment, run } = createEditorCompartment(view)\n  return (targetApply) => {\n    const exExtension = compartment.get(view.state)\n    const apply = targetApply ?? exExtension !== extension\n    run(apply ? extension : [])\n  }\n}\n","import { markdownToAnnotatedText } from \"..\";\nimport { linter, setDiagnostics, forEachDiagnostic } from \"@codemirror/lint\";\nimport elt from \"crelt\";\nimport { EditorView } from \"@codemirror/view\";\n\n\nconst MAX_REPLACEMENTS = 5;\nconst SPELLING_RULE_IDS = [\n  \"SPELLER_RULE\",\n  \"MORFOLOGIK_RULE\",\n  \"HUNSPELL\",\n  \"SPELLING_RULE\"\n];\nconst STYLE_ISSUE_TYPES = [\n  \"style\",\n  \"locale-violation\",\n  \"register\"\n];\n\n\nexport function spellcheck({ performSpellcheckRequest, performSpellcheckAddWordRequest }) {\n  return linter(async (view) => {\n    const annotatedText = markdownToAnnotatedText(view.state.doc.toString());\n    if (annotatedText.length === 0) {\n      return [];\n    }\n\n    const spellcheckResults = await performSpellcheckRequest({\n      data: {annotation: annotatedText},\n    });\n    \n    return spellcheckResults.matches.map(m => {\n      const severity = SPELLING_RULE_IDS.some(r => m.rule.id.includes(r)) ? 'error' :\n                       STYLE_ISSUE_TYPES.some(r => m.rule.id.includes(r)) ? 'info' : \n                       'warning';\n      const from = m.offset;\n      const to = Math.min(m.offset + m.length, view.state.doc.length);\n      return {\n        from,\n        to,\n        severity: severity,\n        renderMessage() {\n          return elt('div', {class: 'cm-spellcheck-content'},\n            elt('div', {class: 'cm-spellcheck-title cm-spellcheck-title-' + severity}, m.rule.category.name),\n            elt('div', {class: 'cm-spellcheck-message'}, \n              m.message,\n              m.rule.urls?.length > 0 ? elt('a', {href: m.rule.urls[0].value, target: '_blank', rel: 'noreferrer noopener', class: 'cm-spellcheck-details'}) : null,\n            ),\n          );\n        },\n        actions: m.replacements.slice(0, MAX_REPLACEMENTS).map(r => ({\n          name: r.value,\n          apply(view, from, to) {\n            view.dispatch({changes: {from, to, insert: r.value}});\n          }\n        })).concat((performSpellcheckAddWordRequest && severity === 'error') ? [{\n          name: `Add \"${view.state.doc.sliceString(from, to)}\" to dictionary`,\n          async apply(view, from, to) {\n            const word = view.state.doc.sliceString(from, to);\n            await performSpellcheckAddWordRequest({ word });\n            \n            // remove spellcheck errors for word\n            const diagnostics = []\n            forEachDiagnostic(view.state, (d, from, to) => {\n              if (!(d.severity === 'error' && view.state.doc.sliceString(from, to) == word)) {\n                diagnostics.push(d);\n              }\n            });\n            view.dispatch(setDiagnostics(view.state, diagnostics));\n          }\n        }] : []),\n      };\n    });\n  }, {delay: 750});\n}\n\n\nfunction svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\n  return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`\n}\n\nfunction underline(color) {\n  return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`,\n             `width=\"6\" height=\"3\"`)\n}\n\nexport const spellcheckTheme = EditorView.theme({\n  '.cm-diagnostic': {\n    listStyle: 'none',\n    fontSize: '10pt',\n    maxWidth: '400px',\n    backgroundColor: 'white',\n    paddingBottom: '0.5em',\n  },\n  '.cm-diagnosticText': {\n    display: 'block',\n    marginBottom: '0.5em',\n  },\n  '.cm-diagnosticAction': {\n    backgroundColor: '#45a8fc',\n    color: 'white',\n    marginLeft: '0',\n    marginRight: '8px',\n    '&:hover': {\n      backgroundColor: '#1976d2'\n    },\n  },\n  [`.cm-diagnosticAction[aria-label*=\"Add \"][aria-label*=\" to dictionary\"]`]: {\n    display: 'block',\n    backgroundColor: 'inherit',\n    color: 'gray',\n    width: '100%',\n    textAlign: 'center',\n    marginTop: '0.5em',\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.05)',\n    },\n  },\n  '.cm-spellcheck-details': {\n    opacity: '0.7',\n    background: 'transparent url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEwIDRhNiA2IDAgMTAwIDEyIDYgNiAwIDAwMC0xMnptMC0xYTcgNyAwIDExMCAxNCA3IDcgMCAwMTAtMTR6bS0uNSA2aDFhLjUuNSAwIDExMCAxdjNhLjUuNSAwIDExMCAxaC0xYS41LjUgMCAxMTAtMXYtM2EuNS41IDAgMDEwLTF6bS41LTFhMSAxIDAgMTEwLTIgMSAxIDAgMDEwIDJ6IiBmaWxsPSIjM0MzRjQ5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=) 50% no-repeat',\n    backgroundSize: '100% 100%',\n    display: 'inline-block',\n    marginBottom: '-0.3em',\n    marginLeft: '0.2em',\n  },\n  '.cm-spellcheck-title': {\n    fontWeight: 'bold',\n    paddingLeft: '1.3em',\n  },\n  '.cm-spellcheck-title:before': {\n    content: '\"\"',\n    height: '0.6em',\n    width: '0.6em',\n    borderRadius: '50%',\n    position: 'absolute',\n    left: '1em',\n    top: '0.5em',\n  },\n  '.cm-spellcheck-title-error:before': { background: '#f91a47' },\n  '.cm-spellcheck-title-warning:before': { background: 'orange' },\n  '.cm-spellcheck-title-info:before': { background: '#5c4cff' },\n\n  \".cm-diagnostic-error\": { borderLeft: \"5px solid #f91a47\" },\n  \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n  \".cm-diagnostic-info\": { borderLeft: \"5px solid #5c4cff\" },\n\n  '.cm-lintRange-error': { backgroundImage: underline('#f91a47') },\n  '.cm-lintRange-warning': { backgroundImage: underline('orange') },\n  '.cm-lintRange-info': { backgroundImage: underline('#5c4cff') },\n});\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillScreenHeight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillScreenHeight.vue?vue&type=script&lang=js&\"","\nexport default {\n  emits: ['resize'],\n  data() {\n    return {\n      height: 0,\n    }\n  },\n  mounted() {\n    this.updateHeight();\n    window.addEventListener('resize', this.updateHeight);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updateHeight);\n  },\n  methods: {\n    updateHeight() {\n      const clientRects = this.$refs.container?.getClientRects();\n      if (!clientRects || clientRects.length === 0) {\n        return;\n      }\n      const startY = clientRects[0].top;\n      this.height = window.innerHeight - startY;\n      this.$emit('resize');\n    },\n  }\n}\n","import { render, staticRenderFns } from \"./FillScreenHeight.vue?vue&type=template&id=4ae993f5&scoped=true&\"\nimport script from \"./FillScreenHeight.vue?vue&type=script&lang=js&\"\nexport * from \"./FillScreenHeight.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FillScreenHeight.vue?vue&type=style&index=0&id=4ae993f5&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ae993f5\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillScreenHeight.vue?vue&type=style&index=0&id=4ae993f5&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".screen-height-container[data-v-4ae993f5]{width:100%;display:block;position:relative;overflow-y:auto}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolbarButton.vue?vue&type=style&index=0&id=5dedde00&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".v-btn--outlined[data-v-5dedde00]{border-radius:15%}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolbarButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolbarButton.vue?vue&type=script&lang=js&\"","\nexport default {\n  props: {\n    icon: {\n      type: String,\n      required: true,\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    active: {\n      type: Boolean,\n      default: false,\n    },\n  },\n}\n","import { render, staticRenderFns } from \"./ToolbarButton.vue?vue&type=template&id=5dedde00&scoped=true&\"\nimport script from \"./ToolbarButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ToolbarButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToolbarButton.vue?vue&type=style&index=0&id=5dedde00&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dedde00\",\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {SBtn: require('/app/frontend/components/S/Btn.vue').default,STooltip: require('/app/frontend/components/S/Tooltip.vue').default})\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=0eb62b93&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".toolbar[data-v-0eb62b93]{background-color:inherit!important}.separator[data-v-0eb62b93]{display:inline-block;height:1.5em;width:0;border-left:1px solid #d9d9d9;border-right:1px solid #fff;color:transparent;text-indent:-10px;margin:0 .5em}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=style&index=0&id=0469da19&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".preview[data-v-0469da19]{overflow:auto;word-wrap:break-word;background-color:#fafafa}.preview[data-v-0469da19]> :first-child{margin-top:0}.preview[data-v-0469da19]  table{width:100%;caption-side:bottom}.preview[data-v-0469da19]  table,.preview[data-v-0469da19]  td,.preview[data-v-0469da19]  th{border:1px solid #000;border-collapse:collapse}.preview[data-v-0469da19]  th{font-weight:700}.preview[data-v-0469da19]  td,.preview[data-v-0469da19]  th{padding:.3em}.preview[data-v-0469da19]  thead,.preview[data-v-0469da19]  tr{page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.preview[data-v-0469da19]  thead{page-break-after:avoid;-moz-column-break-after:avoid;break-after:avoid}.preview[data-v-0469da19]  caption{font-weight:700;page-break-before:avoid;-moz-column-break-before:avoid;break-before:avoid}.preview[data-v-0469da19]  caption,.preview[data-v-0469da19]  figure{page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.preview[data-v-0469da19]  figure{text-align:center;margin-left:0;margin-right:0}.preview[data-v-0469da19]  figcaption{font-weight:700;page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid;page-break-before:avoid;-moz-column-break-before:avoid;break-before:avoid}.preview[data-v-0469da19]  img{max-width:100%}.preview[data-v-0469da19]  h1{font-size:2rem}.preview[data-v-0469da19]  h2{font-size:1.6rem}.preview[data-v-0469da19]  h3{font-size:1.4rem}.preview[data-v-0469da19]  h4{font-size:1.25rem}.preview[data-v-0469da19]  h5{font-size:1.1rem}.preview[data-v-0469da19]  h6{font-size:1rem}.preview[data-v-0469da19]  h1,.preview[data-v-0469da19]  h2,.preview[data-v-0469da19]  h3,.preview[data-v-0469da19]  h4,.preview[data-v-0469da19]  h5,.preview[data-v-0469da19]  h6{font-weight:700;margin:1em 0 .4em}.preview[data-v-0469da19]  .code-block,.preview[data-v-0469da19]  .markdown,.preview[data-v-0469da19]  blockquote,.preview[data-v-0469da19]  ol,.preview[data-v-0469da19]  p,.preview[data-v-0469da19]  table,.preview[data-v-0469da19]  ul{margin:0 0 .8em;padding:0}.preview[data-v-0469da19]  .code-block:last-child,.preview[data-v-0469da19]  .markdown:last-child,.preview[data-v-0469da19]  blockquote:last-child,.preview[data-v-0469da19]  ol:last-child,.preview[data-v-0469da19]  p:last-child,.preview[data-v-0469da19]  table:last-child,.preview[data-v-0469da19]  ul:last-child{margin-bottom:0}.preview[data-v-0469da19]  blockquote{background:#f9f9f9;border-left:5px solid #ccc;padding:.1em .5em}.preview[data-v-0469da19]  ol li,.preview[data-v-0469da19]  ul li{margin-left:1.5em;padding-left:0}.preview[data-v-0469da19]  ul li.task-list-item{list-style-type:none}.preview[data-v-0469da19]  ul li.task-list-item input[type=checkbox]{margin-left:-1.5em;width:1.5em;padding:0}.preview[data-v-0469da19]  pre{white-space:pre-wrap}.preview[data-v-0469da19]  code{padding:.2em;border-radius:3px;font-family:monospace;font-size:.85em;background-color:#f0f0f0}.preview[data-v-0469da19]  pre code{padding:1em;display:block}.preview[data-v-0469da19]  .footnotes{border-top:1px solid #000;margin-top:2em}.preview[data-v-0469da19]  .footnotes h4{font-size:1em}.preview[data-v-0469da19]  .footnotes .data-footnote-backref{display:none}.preview[data-v-0469da19]  .file-download-preview{text-align:center;font-size:inherit;text-decoration:none}.preview[data-v-0469da19]  .file-download-preview:before{font-size:20pt}.preview[data-v-0469da19]  .ref{color:inherit;font-style:inherit;text-decoration:underline}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\nimport { undo, redo, undoDepth, redoDepth } from '@codemirror/commands';\nimport { isTypeInSelection, toggleStrong, toggleEmphasis, toggleStrikethrough, toggleListUnordered, toggleListOrdered, toggleLink, insertCodeBlock, insertTable } from 'reportcreator-markdown/editor/commands.js';\n\nexport default {\n  props: {\n    editorView: {\n      type: Object,\n      required: true,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    uploadFiles: {\n      type: Function,\n      default: null\n    },\n    fileUploadInProgress: {\n      type: Boolean,\n      default: false\n    },\n    lang: {\n      type: String,\n      default: null,\n    },\n  },\n  computed: {\n    editorMode: {\n      get() {\n        return this.$store.state.settings.markdownEditorMode;\n      },\n      set(val) {\n        this.$store.commit('settings/updateMarkdownEditorMode', val);\n      },\n    },\n    spellcheckSupported() {\n      return this.$store.getters['apisettings/settings'].features.spellcheck &&\n             this.$store.getters['apisettings/settings'].languages.find(l => l.code === this.lang)?.spellcheck;\n    },\n    spellcheckEnabled: {\n      get() {\n        return this.$store.state.settings.spellcheckEnabled && this.spellcheckSupported;\n      },\n      set(val) {\n        this.$store.commit('settings/updateSpellcheckEnabled', val);\n      }\n    },\n    canUndo() {\n      if (this.editorView) {\n        return undoDepth(this.editorView.state);\n      }\n      return false;\n    },\n    canRedo() {\n      if (this.editorView) {\n        return redoDepth(this.editorView.state);\n      }\n      return false;\n    },\n  },\n  methods: {\n    ...Object.fromEntries(Object.entries({\n      undo,\n      redo,\n      toggleStrong,\n      toggleEmphasis,\n      toggleStrikethrough,\n      toggleListUnordered,\n      toggleListOrdered,\n      toggleLink,\n      insertCodeBlock,\n      insertTable,\n    })\n      .map(([n, fn]) => [n, function() { \n        if (!this.editorView) {\n          return false;\n        }\n\n        try {\n          return fn(this.editorView); \n        } catch (err) {\n          // eslint-disable-next-line no-console\n          console.error('Error in CodeMirror action', err);\n        }\n      }])),\n    isTypeInSelection(type) {\n      if (!this.editorView) {\n        return false;\n      }\n      return isTypeInSelection(this.editorView.state, type);\n    },\n    async onUploadFiles(event) {\n      const files = event.target.files;\n      try {\n        await this.uploadFiles(files);\n      } finally {\n        this.$refs.fileInput.value = null;\n      }\n    },\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=0eb62b93&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=0eb62b93&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0eb62b93\",\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {MarkdownToolbarButton: require('/app/frontend/components/Markdown/ToolbarButton.vue').default})\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=0469da19&scoped=true&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preview.vue?vue&type=style&index=0&id=0469da19&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0469da19\",\n  null\n  \n)\n\nexport default component.exports","import { EditorState } from '@codemirror/state';\nimport { EditorView, keymap, lineNumbers } from '@codemirror/view';\nimport { defaultKeymap, historyKeymap, indentWithTab, history } from '@codemirror/commands';\nimport { createEditorExtensionToggler } from 'reportcreator-markdown/editor/utils';\nimport { markdown } from 'reportcreator-markdown/editor/language.js';\nimport { spellcheck, spellcheckTheme } from 'reportcreator-markdown/editor/spellcheck.js';\nimport 'highlight.js/styles/default.css';\nimport { syntaxHighlighting, indentUnit } from '@codemirror/language';\nimport { forceLinting, setDiagnostics } from '@codemirror/lint';\nimport { markdownHighlightStyle, markdownHighlightCodeBlocks } from 'reportcreator-markdown/editor/highlight.js';\n\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n    uploadFile: {\n      type: Function,\n      default: null,\n    },\n    rewriteFileUrl: {\n      type: Function,\n      default: null,\n    },\n    rewriteReferenceLink: {\n      type: Function,\n      default: null,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    lang: {\n      type: String,\n      default: null,\n    }\n  },\n  emits: ['input'],\n  data() {\n    return {\n      editorView: null,\n      editorActions: {},\n      fileUploadInProgress: false,\n    };\n  },\n  computed: {\n    valueNotNull() {\n      return this.value || '';\n    },\n    editorMode() {\n      return this.$store.state.settings.markdownEditorMode;\n    },\n    spellcheckEnabled() {\n      return this.lang !== null && !this.disabled && \n        this.$store.state.settings.spellcheckEnabled && this.$store.getters['apisettings/settings'].features.spellcheck &&\n        this.$store.getters['apisettings/settings'].languages.find(l => l.code === this.lang)?.spellcheck;\n    },\n  },\n  watch: {\n    value() {\n      if (this.editorView && this.valueNotNull !== this.editorView.state.doc.toString()) {\n        this.editorView.dispatch({\n          changes: {\n            from: 0,\n            to: this.editorView.state.doc.length,\n            insert: this.valueNotNull,\n          }\n        });\n      }\n    },\n    disabled(val) {\n      if (this.editorActions) {\n        this.editorActions.disabled(val);\n      }\n    },\n    lang(val) {\n      if (this.spellcheckEnabled) {\n        forceLinting(this.editorView);\n      }\n    },\n    spellcheckEnabled(val) {\n      this.editorActions.spellcheck(val);\n      if (!val) {\n        // clear existing spellcheck items from editor\n        this.editorView.dispatch(setDiagnostics(this.editorView.state, []));\n      }\n    }\n  },\n  mounted() {\n    this.initializeEditorView();\n  },\n  beforeDestroy() {\n    if (this.editorView) {\n      this.editorView.destroy();\n    }\n  },\n  methods: {\n    initializeEditorView() {\n      this.editorView = new EditorView({\n        parent: this.$refs.editor,\n        state: EditorState.create({\n          doc: this.valueNotNull,\n          extensions: [\n            lineNumbers(),\n            history(),\n            EditorState.allowMultipleSelections.of(true),\n            EditorView.lineWrapping,\n            EditorState.tabSize.of(4),\n            indentUnit.of('    '),\n            keymap.of([defaultKeymap, indentWithTab, historyKeymap]),\n            markdown(),\n            syntaxHighlighting(markdownHighlightStyle),\n            markdownHighlightCodeBlocks,\n            EditorView.updateListener.of((viewUpdate) => {\n              // https://discuss.codemirror.net/t/codemirror-6-proper-way-to-listen-for-changes/2395/11\n              if (viewUpdate.docChanged && viewUpdate.state.doc.toString() !== this.valueNotNull) {\n                this.$emit('input', viewUpdate.state.doc.toString());\n              }\n            }),\n            ...this.additionalCodeMirrorExtensions(),\n          ]\n        }),\n      });\n\n      this.editorActions = {\n        disabled: createEditorExtensionToggler(this.editorView, [\n          EditorView.editable.of(false),\n          EditorState.readOnly.of(true),\n        ]),\n        spellcheck: createEditorExtensionToggler(this.editorView, [\n          spellcheck({ performSpellcheckRequest: this.performSpellcheckRequest, performSpellcheckAddWordRequest: this.performSpellcheckAddWordRequest }),\n          spellcheckTheme,\n        ]),\n        uploadFile: createEditorExtensionToggler(this.editorView, [\n          EditorView.domEventHandlers({\n            drop: (event, view) => {\n              event.stopPropagation();\n              event.preventDefault();\n              const dropPos = this.editorView.posAtCoords({ x: event.clientX, y: event.clientY });\n              this.uploadFiles(event.dataTransfer.files, dropPos);\n            },\n            paste: (event, view) => {\n              if (event.clipboardData.files?.length > 0) {\n                event.stopPropagation();\n                event.preventDefault();\n                this.uploadFiles(event.clipboardData.files);\n              }\n            }\n          })\n        ]),\n      };\n      this.editorActions.disabled(this.disabled);\n      this.editorActions.spellcheck(this.spellcheckEnabled);\n      this.editorActions.uploadFile(this.uploadFile !== null);\n    },\n    additionalCodeMirrorExtensions() {\n      return [];\n    },\n    handleInput(val) {\n      this.$emit('input', val);\n    },\n    handleBlur(val) {\n      this.$emit('blur', val);\n    },\n    async uploadFiles(files, pos = null) {\n      if (!this.uploadFile || !files || files.length === 0 || this.fileUploadInProgress) {\n        return;\n      }\n\n      try {\n        this.fileUploadInProgress = true;\n        const results = await Promise.all(Array.from(files).map((file) => {\n          try {\n            return this.uploadFile(file);\n          } catch (error) {\n            this.$toast.global.requestError({ error, message: 'Failed to upload ' + file.name });\n            return null;\n          }\n        }));\n\n        const mdFileText = results.filter(u => u).join('\\n');\n        if (pos === null) {\n          pos = this.editorView.state.selection.main.from;\n        }\n        this.editorView.dispatch({ changes: { from: pos, insert: mdFileText } });\n      } finally {\n        this.fileUploadInProgress = false;\n      }\n    },\n    async performSpellcheckRequest(data) {\n      if (!this.spellcheckEnabled || !data) {\n        return {\n          matches: []\n        };\n      }\n\n      return await this.$axios.$post('/utils/spellcheck/', {\n        ...data,\n        language: this.lang,\n      });\n    },\n    async performSpellcheckAddWordRequest(data) {\n      try {\n        return await this.$axios.$post('/utils/spellcheck/words/', data);\n      } catch (error) {\n        this.$toast.global.requestError({ error });\n      }\n    },\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=1c12869c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5dc8ad50\", content, true, {\"sourceMap\":false});"],"sourceRoot":""}