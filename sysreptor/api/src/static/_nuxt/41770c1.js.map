{"version":3,"sources":["webpack:///./components/UserInfoForm.vue?315b","webpack:///./components/UserInfoForm.vue","webpack:///./components/UserInfoForm.vue?77f6","webpack:///./pages/users/_userId/index.vue","webpack:///./pages/users/_userId/index.vue?5237","webpack:///./pages/users/_userId/index.vue?46f4","webpack:///./utils/urls.js","webpack:///./components/SavingLoaderSpinner.vue?d4cb","webpack:///./components/EditToolbar.vue?8be5","webpack:///./components/SavingLoaderSpinner.vue?5714","webpack:///./components/SavingLoaderSpinner.vue","webpack:///./node_modules/vuetify/src/components/VCheckbox/VCheckbox.sass?b88d","webpack:///./node_modules/vuetify/src/components/VCheckbox/VCheckbox.sass","webpack:///./components/SavingLoaderSpinner.vue?fc7b","webpack:///./components/SavingLoaderSpinner.vue?6809","webpack:///./components/S/Checkbox.vue?f476","webpack:///./components/S/Checkbox.vue","webpack:///./components/S/Checkbox.vue?d4c0","webpack:///./components/EditToolbar.vue?7aea","webpack:///./components/EditToolbar.vue?f1fa","webpack:///./components/EditToolbar.vue","webpack:///./components/EditToolbar.vue?4e7e","webpack:///./components/EditToolbar.vue?c2e4","webpack:///../../../src/components/VGrid/VRow.ts","webpack:///../../../src/components/VGrid/VCol.ts","webpack:///../../../src/components/VCheckbox/VCheckbox.ts","webpack:///../../../src/components/VForm/VForm.ts"],"names":["props","value","type","Object","required","errors","default","canEditPermissions","Boolean","canEditUsername","data","rules","v","computed","user","this","canEdit","$auth","hasScope","is_system_user","id","canEditGeneralPermissions","canEditSuperuserPermissions","archivingEnabled","$store","getters","features","archiving","methods","updateField","fieldName","val","newUser","assign","$emit","component","staticClass","_c","_v","_vm","attrs","$event","is_designer","is_user_manager","is_superuser","is_guest","is_global_archiver","staticRenderFns","installComponents","STextField","SCard","SCheckbox","getUserUrl","params","userId","asyncData","$axios","$get","serverErrors","oidcEnabled","auth_providers","length","performSave","$patch","response","status","performDelete","$delete","$toast","success","$router","push","_self","ref","scopedSlots","model","callback","$set","expression","EditToolbar","SBtn","UserInfoForm","i","absoluteApiUrl","url","axios","some","p","startsWith","urlJoin","URL","defaults","baseURL","window","location","origin","CursorPaginationFetcher","toast","nextPageURL","isLoading","hasError","errorData","hasNextPage","res","next","results","global","requestError","error","SearchableCursorPaginationFetcher","searchFilters","search","_searchFilters","_fetchNextPageDebounced","debounce","_fetchNextPage","fetcher","_createFetcher","searchParams","URLSearchParams","split","entries","k","Array","isArray","delete","e","append","set","searchUrl","toString","fetchNextPage","filters","fetchNextPageImmediate","flush","content","__esModule","module","locals","exports","add","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","name","form","canAutoSave","save","Function","deleteConfirmInput","String","lockUrl","unlockUrl","editMode","EditMode","EDIT","errorMessage","events","hasChangesValue","savingInProgress","deletingInProgress","lockingInProgress","previousData","wasReset","hasLock","lockInfo","lockError","refreshLockInterval","canDelete","canSave","autoSaveEnabled","get","state","settings","commit","actionInProgress","hasChanges","watch","deep","immediate","handler","newValue","oldValue","valueChanged","isEqual","cloneDeep","performLock","autoSave","cancel","READONLY","performUnlock","created","mounted","addEventListener","beforeLeaveBrowser","keyboardShortcutListener","onUnloadBrowser","beforeDestroy","removeEventListener","clearInterval","validate","hasLockReset","hasChangesValueReset","selfLockedEditAnyway","console","log","performLockRequest","forceLock","post","refresh_lock","setInterval","lockResponse","lockedData","lock_info","Error","message","includes","performUnlockRequest","browserUnload","$post","navigator","sendBeacon","Promise","resolve","then","unlockedData","catch","undefined","event","returnValue","beforeLeave","to","from","resetComponent","answer","confirm","ctrlKey","key","metaKey","preventDefault","fn","on","_u","proxy","render","SavingLoaderSpinner","STooltip","BtnDelete","breakpoints","ALIGNMENT","makeProps","prefix","def","reduce","upperFirst","alignValidator","str","alignProps","validator","justifyValidator","justifyProps","alignContentValidator","alignContentProps","propMap","align","keys","justify","alignContent","classMap","breakpointClass","prop","className","breakpoint","replace","toLowerCase","cache","Map","Vue","extend","functional","tag","dense","noGutters","h","children","cacheKey","classList","forEach","mergeData","class","breakpointProps","Number","offsetProps","orderProps","col","offset","order","cols","alignSelf","parent","hasColClasses","Selectable","indeterminate","indeterminateIcon","offIcon","onIcon","inputIndeterminate","classes","VInput","options","call","computedIcon","isActive","validationState","isDisabled","shouldValidate","hasSuccess","hasColor","computedColor","$nextTick","genCheckbox","attrs$","checkboxAttrs","title","$createElement","VIcon","setTextColor","dark","light","genInput","genRipple","rippleState","genDefaultSlot","genLabel","mixins","BindsAttrs","RegistrableProvide","provide","inheritAttrs","disabled","lazyValidation","readonly","inputs","watchers","errorBag","values","watchInput","input","watcher","$watch","_uid","valid","hasOwnProperty","filter","reset","resetErrorBag","setTimeout","resetValidation","register","unregister","found","find","unwatch","novalidate","submit","$slots"],"mappings":"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","file":"41770c1.js","sourcesContent":["import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfoForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfoForm.vue?vue&type=script&lang=js&\"","\nexport default {\n  props: {\n    value: {\n      type: Object,\n      required: true,\n    },\n    errors: {\n      type: [Object, null],\n      default: null,\n    },\n    canEditPermissions: {\n      type: Boolean,\n      default: false,\n    },\n    canEditUsername: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  data() {\n    return {\n      rules: {\n        required: [v => !!v || 'This field is required!'],\n      }\n    }\n  },\n  computed: {\n    user() {\n      return this.value;\n    },\n    canEdit() {\n      return (this.$auth.hasScope('user_manager') && !this.user.is_system_user) || this.user.id === this.$auth.user.id;\n    },\n    canEditGeneralPermissions() {\n      return this.canEdit && this.canEditPermissions && this.$auth.hasScope('user_manager');\n    },\n    canEditSuperuserPermissions() {\n      return this.canEdit && this.canEditPermissions && this.$auth.hasScope('admin');\n    },\n    archivingEnabled() {\n      return this.$store.getters['apisettings/settings'].features.archiving;\n    },\n  },\n  methods: {\n    updateField(fieldName, val) {\n      const newUser = Object.assign({}, this.user);\n      newUser[fieldName] = val;\n      this.$emit('input', newUser);\n    },\n  },\n}\n","import { render, staticRenderFns } from \"./UserInfoForm.vue?vue&type=template&id=1f410515&\"\nimport script from \"./UserInfoForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserInfoForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {STextField: require('/app/frontend/components/S/TextField.vue').default,SCard: require('/app/frontend/components/S/Card.vue').default,SCheckbox: require('/app/frontend/components/S/Checkbox.vue').default})\n","\nfunction getUserUrl(params) {\n  return `/pentestusers/${params.userId}/`;\n}\n\nexport default {\n  async asyncData({ params, $axios }) {\n    return {\n      user: await $axios.$get(getUserUrl(params)),\n    };\n  },\n  data() {\n    return {\n      serverErrors: null,\n    }\n  },\n  computed: {\n    canEdit() {\n      return this.$auth.hasScope('user_manager') && !this.user.is_system_user;\n    },\n    oidcEnabled() {\n      return this.$store.getters['apisettings/settings'].auth_providers.length > 0;\n    },\n  },\n  methods: {\n    async performSave(data) {\n      try {\n        await this.$axios.$patch(getUserUrl({ userId: data.id }), data);\n        this.serverErrors = null;\n      } catch (error) {\n        if (error?.response?.status === 400 && error?.response?.data) {\n          this.serverErrors = error.response.data;\n        }\n        throw error;\n      }\n    },\n    async performDelete(data) {\n      await this.$axios.$delete(getUserUrl({ userId: data.id }));\n      this.$toast.success('User deleted');\n      this.$router.push('/users/');\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=aaf430b6&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {EditToolbar: require('/app/frontend/components/EditToolbar.vue').default,SBtn: require('/app/frontend/components/S/Btn.vue').default,SCheckbox: require('/app/frontend/components/S/Checkbox.vue').default,UserInfoForm: require('/app/frontend/components/UserInfoForm.vue').default})\n","import urlJoin from 'url-join';\nimport { debounce } from 'lodash';\n\nexport function absoluteApiUrl(url, axios) {\n  if (['http', 'data'].some(p => url.startsWith(p))) {\n    return url;\n  } else if (url.startsWith('/api/')) {\n    return urlJoin(new URL(axios.defaults.baseURL, window.location).origin, url);\n  } else {\n    return urlJoin(axios.defaults.baseURL, url);\n  }\n}\n\nexport function relativeTo(url, baseUrl) {\n  const absUrl = absoluteApiUrl(url);\n  baseUrl = absoluteApiUrl(baseUrl);\n\n  if (absUrl.startsWith(baseUrl)) {\n    return absUrl.substring(baseUrl.length);\n  } else {\n    return url;\n  }\n}\n\nexport class CursorPaginationFetcher {\n  constructor(baseURL, axios, toast) {\n    this.axios = axios;\n    this.toast = toast;\n    this.baseURL = baseURL;\n\n    this.nextPageURL = this.baseURL;\n    this.isLoading = false;\n    this.data = [];\n    this.hasError = false;\n    this.errorData = null;\n  }\n\n  get hasNextPage() {\n    return this.nextPageURL !== null;\n  }\n\n  async fetchNextPage() {\n    if (!this || this.isLoading || !this.hasNextPage) {\n      return;\n    }\n\n    try {\n      this.isLoading = true;\n\n      const res = await this.axios.$get(this.nextPageURL);\n      this.nextPageURL = res.next;\n      this.data.push(...res.results);\n\n      this.hasError = false;\n      this.errorData = null;\n    } catch (error) {\n      this.hasError = true;\n      this.errorData = error?.response?.data || null;\n\n      this.toast.global.requestError({ error });\n    } finally {\n      this.isLoading = false;\n    }\n  }\n}\n\nexport class SearchableCursorPaginationFetcher {\n  constructor({ baseURL, searchFilters = { search: '' }, axios, toast }) {\n    this.axios = axios;\n    this.toast = toast;\n    this.baseURL = baseURL;\n    this._searchFilters = searchFilters;\n\n    this._fetchNextPageDebounced = debounce(function() { this._fetchNextPage(); }, 500);\n\n    this.fetcher = null;\n    this._createFetcher();\n  }\n\n  _createFetcher() {\n    const searchParams = new URLSearchParams(this.baseURL.split('?')[1]);\n    for (const [k, v] of Object.entries(this.searchFilters)) {\n      if (v) {\n        if (Array.isArray(v)) {\n          searchParams.delete(k);\n          for (const e of v) {\n            searchParams.append(k, e);\n          }\n        } else {\n          searchParams.set(k, v);\n        }\n      }\n    }\n    const searchUrl = this.baseURL.split('?')[0] + '?' + searchParams.toString();\n    this.fetcher = new CursorPaginationFetcher(searchUrl, this.axios, this.toast);\n  }\n\n  search(val) {\n    this._searchFilters = Object.assign(this._searchFilters, { search: val })\n    this._createFetcher();\n    this.fetchNextPage();\n  }\n\n  applyFilters(filters) {\n    Object.assign(this._searchFilters, filters);\n    this._createFetcher();\n    this.fetchNextPageImmediate()\n  }\n\n  get searchFilters() {\n    return this._searchFilters;\n  }\n\n  get searchQuery() {\n    return this.searchFilters.search;\n  }\n\n  set searchQuery(val) {\n    this.search(val, this._searchFilters);\n  }\n\n  get hasNextPage() {\n    return this.fetcher.hasNextPage;\n  }\n\n  get hasError() {\n    return this.fetcher.hasError;\n  }\n\n  get errorData() {\n    return this.fetcher.errorData;\n  }\n\n  get data() {\n    return this.fetcher.data;\n  }\n\n  fetchNextPage() {\n    this._fetchNextPageDebounced();\n  }\n\n  async _fetchNextPage() {\n    await this.fetcher.fetchNextPage();\n  }\n\n  fetchNextPageImmediate() {\n    if (!this) {\n      return;\n    }\n\n    this._fetchNextPageDebounced();\n    this._fetchNextPageDebounced.flush();\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingLoaderSpinner.vue?vue&type=style&index=0&id=8eb3e0b0&prod&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0af97519\", content, true, {\"sourceMap\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditToolbar.vue?vue&type=style&index=0&id=fd680614&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2184e246\", content, true, {\"sourceMap\":false});","import { render, staticRenderFns } from \"./SavingLoaderSpinner.vue?vue&type=template&id=8eb3e0b0&scoped=true&\"\nvar script = {}\nimport style0 from \"./SavingLoaderSpinner.vue?vue&type=style&index=0&id=8eb3e0b0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8eb3e0b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"loader-spinner\"},[_c('v-icon',[_vm._v(\"mdi-cached\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../sass-loader/dist/cjs.js??ref--6-oneOf-1-3!./VCheckbox.sass\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"12a190a6\", content, true, {\"sourceMap\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}.v-input--checkbox.v-input--dense{margin-top:4px}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingLoaderSpinner.vue?vue&type=style&index=0&id=8eb3e0b0&prod&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".loader-spinner[data-v-8eb3e0b0]{animation:loader-8eb3e0b0 1s infinite;display:inline-flex}@keyframes loader-8eb3e0b0{0%{transform:rotate(0)}to{transform:rotate(-1turn)}}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=script&lang=js&\"","\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      required: true,\n    },\n  }\n}\n","import { render, staticRenderFns } from \"./Checkbox.vue?vue&type=template&id=d7077f38&\"\nimport script from \"./Checkbox.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkbox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditToolbar.vue?vue&type=style&index=0&id=fd680614&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".toolbar-sticky[data-v-fd680614]{position:sticky;top:0;z-index:1}.btn-autosave[data-v-fd680614]  .v-label{width:-moz-max-content;width:max-content}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\nimport { debounce, cloneDeep, isEqual } from 'lodash';\nimport { absoluteApiUrl } from '~/utils/urls';\nimport { EditMode } from '~/utils/other';\n\nexport default {\n  props: {\n    data: {\n      type: Object,\n      default: null,\n    },\n    form: {\n      type: Object,\n      default: null,\n    },\n    canAutoSave: {\n      type: Boolean,\n      default: false,\n    },\n    save: {\n      type: Function,\n      default: null,\n    },\n    delete: {\n      type: Function,\n      default: null,\n    },\n    deleteConfirmInput: {\n      type: String,\n      default: null,\n    },\n    lockUrl: {\n      type: String,\n      default: null,\n    },\n    unlockUrl: {\n      type: String,\n      default: null,\n    },\n    editMode: {\n      type: String,\n      default: EditMode.EDIT,\n    },\n    errorMessage: {\n      type: String,\n      default: null,\n    }\n  },\n  events: [\n    'update:editMode',\n    'update:lockedData',\n  ],\n  data() {\n    return {\n      hasChangesValue: false,\n      savingInProgress: false,\n      deletingInProgress: false,\n      lockingInProgress: false,\n      previousData: null,\n      wasReset: true,\n      \n      hasLock: false,\n      lockInfo: null,\n      lockError: false,\n      refreshLockInterval: null,\n    }\n  },\n  computed: {\n    canDelete() {\n      return this.delete !== null && this.editMode === EditMode.EDIT;\n    },\n    canSave() {\n      return this.save !== null && this.editMode === EditMode.EDIT;\n    },\n    autoSaveEnabled: {\n      get() {\n        return this.canSave && this.canAutoSave && this.$store.state.settings.autoSaveEnabled;\n      },\n      set(val) {\n        this.$store.commit('settings/updateAutoSaveEnabled', val);\n      }\n    },\n    actionInProgress() {\n      return this.savingInProgress || this.deletingInProgress;\n    },\n    hasChanges() {\n      return this.hasChangesValue || this.data === null;\n    }\n  },\n  watch: {\n    data: {\n      deep: true,\n      immediate: true,\n      handler(newValue) {\n        const oldValue = this.previousData;\n        const valueChanged = isEqual(newValue, this.previousData);\n        if (!this.wasReset && !valueChanged) {\n          this.hasChangesValue = true;\n          this.previousData = cloneDeep(newValue);\n\n          this.$emit('update:data', { newValue, oldValue });\n          if (this.autoSaveEnabled) {\n            this.autoSave();\n          }\n        } else if (this.wasReset) {\n          this.previousData = cloneDeep(newValue);\n          this.wasReset = false;\n          if (this.editMode === EditMode.EDIT) {\n            this.performLock();\n          }\n        }\n      }\n    },\n    autoSaveEnabled(newValue) {\n      if (newValue) {\n        this.autoSave();\n      } else {\n        this.autoSave.cancel();\n      }\n    },\n    editMode(newValue, oldValue) {\n      if (newValue === EditMode.EDIT && !this.hasLock) {\n        this.performLock();\n      } else if (newValue === EditMode.READONLY) {\n        this.performUnlock(false);\n      }\n    }\n  },\n  created() {\n    this.autoSave = debounce(this.performSave, 5000);\n  },\n  mounted() {\n    window.addEventListener('beforeunload', this.beforeLeaveBrowser);\n    window.addEventListener('keydown', this.keyboardShortcutListener);\n    window.addEventListener('unload', this.onUnloadBrowser);\n  },\n  beforeDestroy() {\n    window.removeEventListener('beforeunload', this.beforeLeaveBrowser);\n    window.removeEventListener('keydown', this.keyboardShortcutListener);\n    window.removeEventListener('unload', this.onUnloadBrowser);\n\n    if (this.refreshLockInterval) {\n      clearInterval(this.refreshLockInterval);\n      this.refreshLockInterval = null;\n    }\n  },\n  methods: {\n    async performSave() {\n      if (!this.canSave || !this.hasChanges || this.savingInProgress) {\n        return;\n      }\n      if (this.form !== null) {\n        if (!this.form.validate()) {\n          return;\n        }\n      }\n      \n      try {\n        this.savingInProgress = true;\n        await this.save(this.data);\n\n        this.hasChangesValue = false;\n        this.previousData = cloneDeep(this.data);\n      } catch (error) {\n        this.$toast.global.requestError({ error });\n      } finally {\n        this.savingInProgress = false;\n      }\n    },\n    async performDelete() {\n      if (!this.canDelete || !(this.hasLock || this.lockUrl === null)) {\n        return;\n      }\n\n      const hasLockReset = this.hasLock;\n      const hasChangesValueReset = this.hasChangesValue;\n      try {\n        this.hasLock = false;\n        this.hasChangesValue = false;\n        await this.delete(this.data);\n      } catch (error) {\n        this.hasLock = hasLockReset;\n        this.hasChangesValue = hasChangesValueReset;\n        throw error;\n      }\n    },\n    async selfLockedEditAnyway() {\n      await this.performLock(true)\n      // eslint-disable-next-line no-console\n      console.log('selfLockedEditAnyway', this.hasLock);\n      if (this.hasLock) {\n        this.$emit('update:editMode', EditMode.EDIT);\n      }\n    },\n    async performLockRequest(forceLock) {\n      return await this.$axios.post(this.lockUrl, {\n        refresh_lock: this.hasLock || forceLock,\n      });\n    },\n    async performLock(forceLock = false) {\n      // eslint-disable-next-line no-console\n      console.log('EditToolbar.performLock');\n      if (this.lockingInProgress || !this.lockUrl || (this.editMode === EditMode.READONLY && !forceLock) || this.wasReset) {\n        return;\n      }\n\n      this.lockingInProgress = true;\n      if (!this.refreshLockInterval) {\n        this.refreshLockInterval = setInterval(this.performLock, 30_000);\n      }\n\n      try {\n        const lockResponse = await this.performLockRequest(forceLock);\n        // eslint-disable-next-line no-console\n        console.log('performLock lockResponse', lockResponse);\n\n        const lockedData = lockResponse.data;\n        this.lockInfo = lockedData.lock_info;\n        this.$emit('update:lockedData', lockedData);\n\n        if (lockResponse.status !== 201 && !this.hasLock && !forceLock) {\n          throw new Error('Lock error: User has lock in another tab or browser session.');\n        }\n\n        this.hasLock = true;\n        this.lockError = false;\n      } catch (error) {\n        // Do not release lock (in frontend) if the user previously had the lock.\n        // Prevent resetting lock on network errors.\n        // hasLock is only set to false in situations where the API tells us that we do not have the lock.\n        // this.hasLock = false;\n\n        if (error.response?.status === 403 && error.response?.data?.lock_info) {\n          // eslint-disable-next-line no-console\n          console.log('Lock error: Another user has the lock. Switching to readonly mode.', this.data.id, error, error.response.data);\n          this.lockInfo = error.response.data.lock_info;\n          this.lockError = true;\n          this.hasLock = false;\n          this.$emit('update:editMode', EditMode.READONLY);\n          this.$emit('update:lockedData', error.response.data);\n        } else if (error?.message?.includes('User has lock in another tab or browser session')) {\n          // Open by current user in another tab or browser session\n          // eslint-disable-next-line no-console\n          console.log(error, this.data.id);\n          this.lockError = true;\n          this.hasLock = false;\n          this.$emit('update:editMode', EditMode.READONLY);\n        } else {\n          this.$toast.global.requestError({ error, message: 'Locking failed' });\n        }\n      } finally {\n        this.lockingInProgress = false;\n      }\n    },\n    performUnlockRequest(browserUnload) {\n      if (browserUnload) {\n        // sendbeacon does not support setting headers (including Authorization header)\n        // we might want to replace sendBeacon with fetch.keepalive in the future\n        // however, fetch.keepalive is currently not supported by Firefox\n        window.navigator.sendBeacon(\n          absoluteApiUrl(this.unlockUrl, this.$axios),\n          this.$auth.user.id\n        );\n      } else {\n        return this.$axios.$post(this.unlockUrl, {});\n      }\n    },\n    performUnlock(browserUnload = false) {\n      // eslint-disable-next-line no-console\n      console.log('EditToolbar.performUnlock', this.hasLock);\n      if (!this.unlockUrl || !this.hasLock) {\n        return Promise.resolve();\n      }\n      \n      if (this.refreshLockInterval) {\n        clearInterval(this.refreshLockInterval);\n        this.refreshLockInterval = null;\n      }\n      \n      this.hasLock = false;\n      this.lockInfo = null;\n      this.lockError = false;\n\n      try {\n        const res = this.performUnlockRequest(browserUnload);\n        if (!browserUnload) {\n          return res.then((unlockedData) => {\n            this.lockInfo = unlockedData.lock_info;\n            this.$emit('update:lockedData', unlockedData);\n          })\n            .catch((error) => {\n              if (error?.response?.data?.lock_info !== undefined) {\n                this.lockInfo = error.response.data.lock_info;\n                this.$emit('update:lockedData', error.response.data);\n              }\n            });\n        }\n      } catch (error) {\n        // silently ignore error\n        // eslint-disable-next-line no-console\n        console.error('Unlock error', error);\n      }\n\n      return Promise.resolve();\n    },\n    beforeLeaveBrowser(event) {\n      if (!this.canSave || !this.hasChangesValue || this.autoSaveEnabled || this.actionInProgress) {\n        return;\n      }\n      // Browser navigation event onbeforeunload: user navigates to a different site or refreshes pages\n      // Message is not displayed, but should not be empty\n      event.returnValue = 'Leave?';\n      return 'Leave?';\n    },\n    async beforeLeave(to, from, next) {\n      if (!this.canSave || !this.hasChangesValue || this.actionInProgress) {\n        next();\n        await this.resetComponent()\n      } else if (this.autoSaveEnabled) {\n        next();\n        await this.performSave();\n        await this.resetComponent();\n      } else {\n        // vue-router navigation event: user navigates to a different SPA page\n        const answer = window.confirm('Do you really want to leave? You have unsaved changes!');\n        next(answer);\n        if (answer) {\n          await this.resetComponent();\n        }\n      }\n    },\n    onUnloadBrowser() {\n      // Note: the unload event is not triggered in certain situations\n      //       e.g. on mobile devices or on Chrome when a user navigates to a different origin\n      //       https://developer.mozilla.org/en-US/docs/Web/API/Window/unload_event#usage_notes\n      // eslint-disable-next-line no-console\n      console.log('EditToolbar.onUnloadBrowser');\n      this.performUnlock(true);\n    },\n    keyboardShortcutListener(event) {\n      if ((event.ctrlKey && event.key === 's') || (event.metaKey && event.key === 's')) {\n        event.preventDefault();\n        this.performSave();\n      }\n    },\n    resetComponent() {\n      this.hasChangesValue = false;\n      this.previousData = null;\n      this.wasReset = true;\n\n      this.lockInfo = null;\n      this.lockError = false;\n\n      return this.performUnlock(false);\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditToolbar.vue?vue&type=template&id=fd680614&scoped=true&\"\nimport script from \"./EditToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./EditToolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditToolbar.vue?vue&type=style&index=0&id=fd680614&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd680614\",\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {SavingLoaderSpinner: require('/app/frontend/components/SavingLoaderSpinner.vue').default,SBtn: require('/app/frontend/components/S/Btn.vue').default,STooltip: require('/app/frontend/components/S/Tooltip.vue').default,BtnDelete: require('/app/frontend/components/Btn/Delete.vue').default})\n","import './VGrid.sass'\n\nimport Vue, { PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst ALIGNMENT = ['start', 'end', 'center']\n\nfunction makeProps (prefix: string, def: () => PropOptions) {\n  return breakpoints.reduce((props, val) => {\n    props[prefix + upperFirst(val)] = def()\n    return props\n  }, {} as Dictionary<PropOptions>)\n}\n\nconst alignValidator = (str: any) => [...ALIGNMENT, 'baseline', 'stretch'].includes(str)\nconst alignProps = makeProps('align', () => ({\n  type: String,\n  default: null,\n  validator: alignValidator,\n}))\n\nconst justifyValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around'].includes(str)\nconst justifyProps = makeProps('justify', () => ({\n  type: String,\n  default: null,\n  validator: justifyValidator,\n}))\n\nconst alignContentValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around', 'stretch'].includes(str)\nconst alignContentProps = makeProps('alignContent', () => ({\n  type: String,\n  default: null,\n  validator: alignContentValidator,\n}))\n\nconst propMap = {\n  align: Object.keys(alignProps),\n  justify: Object.keys(justifyProps),\n  alignContent: Object.keys(alignContentProps),\n}\n\nconst classMap = {\n  align: 'align',\n  justify: 'justify',\n  alignContent: 'align-content',\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: string) {\n  let className = classMap[type]\n  if (val == null) {\n    return undefined\n  }\n  if (prop) {\n    // alignSm -> Sm\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // .align-items-sm-center\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-row',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    dense: Boolean,\n    noGutters: Boolean,\n    align: {\n      type: String,\n      default: null,\n      validator: alignValidator,\n    },\n    ...alignProps,\n    justify: {\n      type: String,\n      default: null,\n      validator: justifyValidator,\n    },\n    ...justifyProps,\n    alignContent: {\n      type: String,\n      default: null,\n      validator: alignContentValidator,\n    },\n    ...alignContentProps,\n  },\n  render (h, { props, data, children }) {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `align`, `justify`, `alignContent` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      classList.push({\n        'no-gutters': props.noGutters,\n        'row--dense': props.dense,\n        [`align-${props.align}`]: props.align,\n        [`justify-${props.justify}`]: props.justify,\n        [`align-content-${props.alignContent}`]: props.alignContent,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'row',\n        class: classList,\n      }),\n      children\n    )\n  },\n})\n","import './VGrid.sass'\n\nimport Vue, { VNode, PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst breakpointProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props[val] = {\n      type: [Boolean, String, Number],\n      default: false,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst offsetProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['offset' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst orderProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['order' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst propMap = {\n  col: Object.keys(breakpointProps),\n  offset: Object.keys(offsetProps),\n  order: Object.keys(orderProps),\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: boolean | string | number) {\n  let className = type\n  if (val == null || val === false) {\n    return undefined\n  }\n  if (prop) {\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // Handling the boolean style prop when accepting [Boolean, String, Number]\n  // means Vue will not convert <v-col sm></v-col> to sm: true for us.\n  // Since the default is false, an empty string indicates the prop's presence.\n  if (type === 'col' && (val === '' || val === true)) {\n    // .col-md\n    return className.toLowerCase()\n  }\n  // .order-md-6\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-col',\n  functional: true,\n  props: {\n    cols: {\n      type: [Boolean, String, Number],\n      default: false,\n    },\n    ...breakpointProps,\n    offset: {\n      type: [String, Number],\n      default: null,\n    },\n    ...offsetProps,\n    order: {\n      type: [String, Number],\n      default: null,\n    },\n    ...orderProps,\n    alignSelf: {\n      type: String,\n      default: null,\n      validator: (str: any) => ['auto', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str),\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n  render (h, { props, data, children, parent }): VNode {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `col`, `offset`, `order` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string | number | boolean = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      const hasColClasses = classList.some(className => className.startsWith('col-'))\n\n      classList.push({\n        // Default to .col if no other col-{bp}-* classes generated nor `cols` specified.\n        col: !hasColClasses || !props.cols,\n        [`col-${props.cols}`]: props.cols,\n        [`offset-${props.offset}`]: props.offset,\n        [`order-${props.order}`]: props.order,\n        [`align-self-${props.alignSelf}`]: props.alignSelf,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(props.tag, mergeData(data, { class: classList }), children)\n  },\n})\n","// Styles\nimport './VCheckbox.sass'\nimport '../../styles/components/_selection-controls.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport VInput from '../VInput'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-checkbox',\n\n  props: {\n    indeterminate: Boolean,\n    indeterminateIcon: {\n      type: String,\n      default: '$checkboxIndeterminate',\n    },\n    offIcon: {\n      type: String,\n      default: '$checkboxOff',\n    },\n    onIcon: {\n      type: String,\n      default: '$checkboxOn',\n    },\n  },\n\n  data () {\n    return {\n      inputIndeterminate: this.indeterminate,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls': true,\n        'v-input--checkbox': true,\n        'v-input--indeterminate': this.inputIndeterminate,\n      }\n    },\n    computedIcon (): string {\n      if (this.inputIndeterminate) {\n        return this.indeterminateIcon\n      } else if (this.isActive) {\n        return this.onIcon\n      } else {\n        return this.offIcon\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.isDisabled && !this.inputIndeterminate) return undefined\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n  },\n\n  watch: {\n    indeterminate (val) {\n      // https://github.com/vuetifyjs/vuetify/issues/8270\n      this.$nextTick(() => (this.inputIndeterminate = val))\n    },\n    inputIndeterminate (val) {\n      this.$emit('update:indeterminate', val)\n    },\n    isActive () {\n      if (!this.indeterminate) return\n      this.inputIndeterminate = false\n    },\n  },\n\n  methods: {\n    genCheckbox () {\n      const { title, ...checkboxAttrs } = this.attrs$\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.$createElement(VIcon, this.setTextColor(this.validationState, {\n          props: {\n            dense: this.dense,\n            dark: this.dark,\n            light: this.light,\n          },\n        }), this.computedIcon),\n        this.genInput('checkbox', {\n          ...checkboxAttrs,\n          'aria-checked': this.inputIndeterminate\n            ? 'mixed'\n            : this.isActive.toString(),\n        }),\n        this.genRipple(this.setTextColor(this.rippleState)),\n      ])\n    },\n    genDefaultSlot () {\n      return [\n        this.genCheckbox(),\n        this.genLabel(),\n      ]\n    },\n  },\n})\n","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n"],"sourceRoot":""}