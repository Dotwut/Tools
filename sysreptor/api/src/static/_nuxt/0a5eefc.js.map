{"version":3,"sources":["webpack:///./pages/users/self/publickeys.vue?db77","webpack:///./pages/users/self/publickeys.vue?e781","webpack:///./pages/users/self/publickeys.vue?ed77","webpack:///./pages/users/self/publickeys.vue","webpack:///./pages/users/self/publickeys.vue?36c1","webpack:///./pages/users/self/publickeys.vue?21ce","webpack:///./components/S/Checkbox.vue?f476","webpack:///./components/S/Checkbox.vue","webpack:///./components/S/Checkbox.vue?d4c0"],"names":["content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","asyncData","$axios","$get","publicKeys","data","setupWizard","visible","form","editWizard","publicKey","error","actionInProgress","methods","requestWrapper","fn","response","status","$toast","global","requestError","openSetupWizard","this","step","public_key","name","setupWizardRegisterBegin","$post","verification","setupWizardRegisterComplete","public_key_info","uids","setupWizardSetName","$patch","id","obj","success","openEditWizard","pick","editWizardSave","map","pk","deletePublicKey","$delete","filter","component","attrs","key","_vm","proxy","callback","expression","staticClass","includes","encryptionKeyInfo","_v","_s","value","$set","scopedSlots","on","model","$$v","_c","staticRenderFns","render","installComponents","STextField","SCheckbox","SBtn","SDialog","BtnDelete","SCard","props","type","Boolean","required","_self"],"mappings":"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","file":"0a5eefc.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publickeys.vue?vue&type=style&index=0&id=468347f6&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0071c319\", content, true, {\"sourceMap\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publickeys.vue?vue&type=style&index=0&id=468347f6&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".textarea-codeblock[data-v-468347f6] textarea{font-family:monospace;line-height:1.2em;font-size:medium;background-color:rgba(0,0,0,.05);padding:1em}.code-snippet[data-v-468347f6]{display:block}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\nimport { pick } from 'lodash';\n\nexport default {\n  async asyncData({ $axios }) {\n    return { \n      publicKeys: await $axios.$get('/pentestusers/self/publickeys/')\n    };\n  },\n  data() {\n    return {\n      setupWizard: {\n        visible: false,\n        form: null,\n      },\n      editWizard: {\n        visible: false,\n        form: null,\n        publicKey: null,\n      },\n      error: null,\n      actionInProgress: false,\n    };\n  },\n  methods: {\n    async requestWrapper(fn) {\n      if (this.actionInProgress) {\n        return false;\n      }\n\n      try {\n        this.actionInProgress = true;\n        await fn();\n        this.error = null;\n      } catch (error) {\n        if (error?.response?.status === 400 && error?.response?.data) {\n          this.error = error.response.data;\n        }\n        this.$toast.global.requestError({ error });\n      } finally {\n        this.actionInProgress = false;\n      }\n    },\n    openSetupWizard() {\n      this.error = null;\n      this.setupWizard = {\n        visible: true,\n        step: 'create',\n        form: {\n          public_key: '',\n          name: 'Archiving Public Key',\n        },\n        data: null,\n      };\n    },\n    async setupWizardRegisterBegin() {\n      await this.requestWrapper(async () => {\n        this.setupWizard.data = await this.$axios.$post('/pentestusers/self/publickeys/register/begin/', this.setupWizard.form);\n        this.setupWizard.form = {\n          verification: '',\n        };\n        this.setupWizard.step = 'verify';\n      });\n    },\n    async setupWizardRegisterComplete() {\n      await this.requestWrapper(async () => {\n        this.setupWizard.data = await this.$axios.$post('/pentestusers/self/publickeys/register/complete/', this.setupWizard.form);\n        this.setupWizard.form = {\n          name: this.setupWizard.data.public_key_info.uids?.[0] || '',\n        };\n        this.setupWizard.step = 'set-name';\n      });\n    },\n    async setupWizardSetName() {\n      await this.requestWrapper(async () => {\n        const obj = await this.$axios.$patch(`/pentestusers/self/publickeys/${this.setupWizard.data.id}/`, this.setupWizard.form);\n        this.publicKeys.push(obj);\n        this.setupWizard.visible = false;\n        this.$toast.success('Archiving Public Key setup completed');\n      });\n    },\n    openEditWizard(publicKey) {\n      this.error = null;\n      this.editWizard = {\n        visible: true,\n        form: pick(publicKey, ['id', 'name', 'enabled']),\n        publicKey,\n      };\n    },\n    async editWizardSave() {\n      await this.requestWrapper(async () => {\n        const publicKey = await this.$axios.$patch(`/pentestusers/self/publickeys/${this.editWizard.form.id}/`, this.editWizard.form);\n        this.publicKeys = this.publicKeys.map(pk => pk.id === publicKey.id ? publicKey : pk);\n        this.editWizard.visible = false;\n      });\n    },\n    async deletePublicKey(publicKey) {\n      await this.requestWrapper(async () => {\n        await this.$axios.$delete(`/pentestusers/self/publickeys/${publicKey.id}/`);\n        this.publicKeys = this.publicKeys.filter(pk => pk.id !== publicKey.id);\n      });\n    },\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publickeys.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publickeys.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./publickeys.vue?vue&type=template&id=468347f6&scoped=true&\"\nimport script from \"./publickeys.vue?vue&type=script&lang=js&\"\nexport * from \"./publickeys.vue?vue&type=script&lang=js&\"\nimport style0 from \"./publickeys.vue?vue&type=style&index=0&id=468347f6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"468347f6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {STextField: require('/app/frontend/components/S/TextField.vue').default,SCheckbox: require('/app/frontend/components/S/Checkbox.vue').default,SBtn: require('/app/frontend/components/S/Btn.vue').default,SDialog: require('/app/frontend/components/S/Dialog.vue').default,BtnDelete: require('/app/frontend/components/Btn/Delete.vue').default,SCard: require('/app/frontend/components/S/Card.vue').default})\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=script&lang=js&\"","\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      required: true,\n    },\n  }\n}\n","import { render, staticRenderFns } from \"./Checkbox.vue?vue&type=template&id=d7077f38&\"\nimport script from \"./Checkbox.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkbox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}